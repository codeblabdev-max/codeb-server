# CodeB Deploy System v2.0 ë¬¸ì„œ

## ğŸ“š ë¬¸ì„œ ëª©ë¡

ì´ ë¬¸ì„œëŠ” CodeB Deploy Systemì˜ ì™„ì „í•œ ê°€ì´ë“œë¥¼ ì œê³µí•©ë‹ˆë‹¤.

### ì•„í‚¤í…ì²˜ (v2.0 NEW)

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [ARCHITECTURE_v2.md](../ARCHITECTURE_v2.md) | MCP Thin Client ì•„í‚¤í…ì²˜ ìƒì„¸ |
| [CLI_REFERENCE_v2.md](../CLI_REFERENCE_v2.md) | we CLI v2.5 ì»¤ë§¨ë“œ ë ˆí¼ëŸ°ìŠ¤ |

### ì‹œì‘í•˜ê¸°

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [01. ì„¤ì¹˜ ê°€ì´ë“œ](01-INSTALLATION.md) | MCP ì„œë²„ ì„¤ì¹˜, ì„œë²„ í™˜ê²½ ì„¤ì •, Claude Code ì—°ë™ |

### í•µì‹¬ ë ˆí¼ëŸ°ìŠ¤

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [02. MCP ë„êµ¬ ë ˆí¼ëŸ°ìŠ¤](02-MCP-TOOLS-REFERENCE.md) | 70+ MCP ë„êµ¬ ìƒì„¸ ì‚¬ìš©ë²• |
| [03. ë°°í¬ ì „ëµ ê°€ì´ë“œ](03-DEPLOYMENT-STRATEGIES.md) | Rolling, Blue-Green, Canary, Preview ë°°í¬ |

### ìš´ì˜ ê°€ì´ë“œ

| ë¬¸ì„œ | ì„¤ëª… |
|------|------|
| [04. ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼](04-MONITORING-ALERTING.md) | Prometheus, Grafana, Alertmanager ì„¤ì • |
| [05. ë³´ì•ˆ ìŠ¤ìº”](05-SECURITY-SCANNING.md) | Trivy, gitleaks, SBOM ìƒì„± |
| [06. ë¬¸ì œ í•´ê²°](06-TROUBLESHOOTING.md) | ì¼ë°˜ì ì¸ ë¬¸ì œ í•´ê²° ë°©ë²• |

---

## ğŸš€ ë¹ ë¥¸ ì‹œì‘ (v2.0)

### 1. CLI ì„¤ì¹˜

```bash
cd cli
npm install
npm link
```

### 2. CLI ì„¤ì •

```bash
# ì„¤ì • ì´ˆê¸°í™”
we config init

# MCP ì„œë²„ ì„¤ì •
we mcp setup
```

### 3. í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

```bash
# Full Stack í”„ë¡œì íŠ¸ (App + PostgreSQL + Redis)
we workflow init myapp --type nextjs --database --redis
```

### 4. ë°°í¬

```bash
# Staging ë°°í¬
we deploy myapp --environment staging

# Production ë°°í¬ (Blue-Green)
we deploy myapp --environment production --strategy blue-green
```

---

## ğŸ“‹ v2.0 MCP ë„êµ¬ ì¹´í…Œê³ ë¦¬

### SSOT (Single Source of Truth) - 11ê°œ
| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `ssot_initialize` | SSOT ì´ˆê¸°í™” |
| `ssot_get` | SSOT ì „ì²´ ì¡°íšŒ |
| `ssot_validate` | SSOT ë¬´ê²°ì„± ê²€ì¦ |
| `ssot_sync` | SSOT-ì„œë²„ ë™ê¸°í™” |
| `ssot_register_project` | í”„ë¡œì íŠ¸ ë“±ë¡ |
| `ssot_get_project` | í”„ë¡œì íŠ¸ ì¡°íšŒ |
| `ssot_list_projects` | í”„ë¡œì íŠ¸ ëª©ë¡ |
| `ssot_allocate_port` | í¬íŠ¸ í• ë‹¹ |
| `ssot_release_port` | í¬íŠ¸ í•´ì œ |
| `ssot_set_domain` | ë„ë©”ì¸ ì„¤ì • |
| `ssot_get_history` | ë³€ê²½ ì´ë ¥ ì¡°íšŒ |

### ë°°í¬ - 8ê°œ
| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `deploy` | í”„ë¡œì íŠ¸ ë°°í¬ |
| `deploy_compose_project` | Compose ìŠ¤íƒ€ì¼ ë°°í¬ |
| `rollback` | ë²„ì „ ë¡¤ë°± |
| `healthcheck` | í—¬ìŠ¤ì²´í¬ |
| `get_version_history` | ë²„ì „ íˆìŠ¤í† ë¦¬ |
| `preview` | Preview í™˜ê²½ ê´€ë¦¬ |
| `stop_compose_project` | í”„ë¡œì íŠ¸ ì¤‘ì§€ |
| `remove_compose_project` | í”„ë¡œì íŠ¸ ì œê±° |

### ì„œë²„ ê´€ë¦¬ - 8ê°œ
| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `analyze_server` | ì„œë²„ ìƒíƒœ ë¶„ì„ |
| `full_health_check` | ì „ì²´ í—¬ìŠ¤ì²´í¬ |
| `monitor_disk` | ë””ìŠ¤í¬ ëª¨ë‹ˆí„°ë§ |
| `monitor_ssl` | SSL ì¸ì¦ì„œ ëª¨ë‹ˆí„°ë§ |
| `check_container_health` | ì»¨í…Œì´ë„ˆ ìƒíƒœ |
| `check_backup_status` | ë°±ì—… ìƒíƒœ |
| `setup_auto_backup` | ìë™ ë°±ì—… ì„¤ì • |
| `manage_env` | í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬ |

### ë„ë©”ì¸ ê´€ë¦¬ - 6ê°œ
| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `setup_domain` | ë„ë©”ì¸ ì„¤ì • |
| `remove_domain` | ë„ë©”ì¸ ì œê±° |
| `setup_project_domains` | í”„ë¡œì íŠ¸ ë„ë©”ì¸ ì¼ê´„ ì„¤ì • |
| `setup_preview_domain` | Preview ë„ë©”ì¸ ì„¤ì • |
| `check_domain_status` | ë„ë©”ì¸ ìƒíƒœ í™•ì¸ |

### í¬íŠ¸ ê´€ë¦¬ - 5ê°œ
| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `port_summary` | í¬íŠ¸ í• ë‹¹ í˜„í™© |
| `port_validate` | í¬íŠ¸ ê²€ì¦ |
| `port_drift` | í¬íŠ¸ ë“œë¦¬í”„íŠ¸ ê°ì§€ |
| `port_manifest` | í¬íŠ¸ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ê´€ë¦¬ |
| `sync_port_registry` | í¬íŠ¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ë™ê¸°í™” |

### CI/CD - 8ê°œ
| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `generate_github_actions_workflow` | GitHub Actions ìƒì„± |
| `get_workflow_errors` | ì›Œí¬í”Œë¡œìš° ì—ëŸ¬ ì¡°íšŒ |
| `analyze_build_error` | ë¹Œë“œ ì—ëŸ¬ ë¶„ì„ |
| `generate_error_report` | ì—ëŸ¬ ë¦¬í¬íŠ¸ ìƒì„± |
| `get_build_errors` | ë¹Œë“œ ì—ëŸ¬ ì¡°íšŒ |
| `manage_workflow` | ì›Œí¬í”Œë¡œìš° ê´€ë¦¬ |
| `manage_secrets` | GitHub Secrets ê´€ë¦¬ |
| `trigger_build_and_monitor` | ë¹Œë“œ íŠ¸ë¦¬ê±° ë° ëª¨ë‹ˆí„°ë§ |

### ë³´ì•ˆ - 4ê°œ
| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `security_scan` | ë³´ì•ˆ ìŠ¤ìº” |
| `generate_sbom` | SBOM ìƒì„± |
| `validate_fix` | Fix ê²€ì¦ |
| `generate_fix_prompt` | Fix í”„ë¡¬í”„íŠ¸ ìƒì„± |

### ì¸í”„ë¼ - 6ê°œ
| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `init_volume` | ë³¼ë¥¨ ì´ˆê¸°í™” |
| `ensure_network` | ë„¤íŠ¸ì›Œí¬ ìƒì„±/í™•ì¸ |
| `configure_pg_hba` | PostgreSQL ì ‘ê·¼ ì„¤ì • |
| `get_container_ip` | ì»¨í…Œì´ë„ˆ IP ì¡°íšŒ |

### ëª¨ë‹ˆí„°ë§ - 3ê°œ
| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `monitoring` | ëª¨ë‹ˆí„°ë§ ì„¤ì •/ì¡°íšŒ |
| `notify` | ì•Œë¦¼ ì „ì†¡ |

### í”„ë¡œì íŠ¸ ê´€ë¦¬ - 5ê°œ
| ë„êµ¬ | ì„¤ëª… |
|------|------|
| `init_project` | í”„ë¡œì íŠ¸ ì´ˆê¸°í™” |
| `scan_existing_projects` | ê¸°ì¡´ í”„ë¡œì íŠ¸ ìŠ¤ìº” |
| `list_projects` | í”„ë¡œì íŠ¸ ëª©ë¡ |
| `get_project` | í”„ë¡œì íŠ¸ ì¡°íšŒ |
| `generate_project_config` | í”„ë¡œì íŠ¸ ì„¤ì • ìƒì„± |

---

## ğŸ”§ v2.0 í™˜ê²½ë³„ í¬íŠ¸ ë²”ìœ„ (GitOps)

| í™˜ê²½ | ì•± í¬íŠ¸ | DB í¬íŠ¸ | Redis í¬íŠ¸ |
|------|---------|---------|------------|
| Staging | 3000-3499 | 15432-15499 | 16379-16399 |
| Production | 4000-4499 | 25432-25499 | 26379-26399 |
| Preview | 5000-5999 | (staging ê³µìœ ) | (staging ê³µìœ ) |

---

## ğŸ“Š v2.0 ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      CodeB Deploy System v2.0                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚  â”‚   Developer    â”‚                                                     â”‚
â”‚  â”‚   Workstation  â”‚                                                     â”‚
â”‚  â”‚                â”‚                                                     â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚    JSON-RPC 2.0                                    â”‚
â”‚  â”‚  â”‚ we CLI   â”‚â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                â”‚
â”‚  â”‚  â”‚(Thin     â”‚  â”‚                   â”‚                                â”‚
â”‚  â”‚  â”‚ Client)  â”‚  â”‚                   â”‚                                â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â”‚                                â”‚
â”‚  â”‚                â”‚                   â”‚                                â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                   â”‚                                â”‚
â”‚  â”‚  â”‚  Claude  â”‚â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                                â”‚
â”‚  â”‚  â”‚   Code   â”‚  â”‚                   â”‚                                â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚                   â–¼                                â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚                             â”‚   MCP Server    â”‚                        â”‚
â”‚                             â”‚   (70+ Tools)   â”‚                        â”‚
â”‚                             â”‚                 â”‚                        â”‚
â”‚                             â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚                        â”‚
â”‚                             â”‚  â”‚   SSOT    â”‚  â”‚     SSH                â”‚
â”‚                             â”‚  â”‚  Manager  â”‚  â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚                             â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚              â”‚         â”‚
â”‚                             â”‚                 â”‚              â–¼         â”‚
â”‚                             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚                                                    â”‚Production Serverâ”‚ â”‚
â”‚                                                    â”‚                 â”‚ â”‚
â”‚                                                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚                                                    â”‚ â”‚   Podman    â”‚ â”‚ â”‚
â”‚                                                    â”‚ â”‚ Containers  â”‚ â”‚ â”‚
â”‚                                                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                                                    â”‚                 â”‚ â”‚
â”‚                                                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚                                                    â”‚ â”‚   Caddy     â”‚ â”‚ â”‚
â”‚                                                    â”‚ â”‚   Proxy     â”‚ â”‚ â”‚
â”‚                                                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                                                    â”‚                 â”‚ â”‚
â”‚                                                    â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚                                                    â”‚ â”‚  ssot.json  â”‚ â”‚ â”‚
â”‚                                                    â”‚ â”‚   (SSOT)    â”‚ â”‚ â”‚
â”‚                                                    â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚                                                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ ë²„ì „

- **v2.0.0** - MCP Thin Client ì•„í‚¤í…ì²˜
  - 70+ MCP ë„êµ¬
  - SSOT (Single Source of Truth) ì‹œìŠ¤í…œ
  - PortGuard ê²€ì¦ ì‹œìŠ¤í…œ
  - GitOps ê¸°ë°˜ í¬íŠ¸ ê´€ë¦¬
  - 7-Agent ì‹œìŠ¤í…œ í†µí•©
  - Quadlet systemd í†µí•©

- **v1.0.0** - ì´ˆê¸° ë¦´ë¦¬ìŠ¤
  - 12ê°œ MCP ë„êµ¬
  - Rolling/Blue-Green/Canary ë°°í¬
  - Prometheus + Grafana ëª¨ë‹ˆí„°ë§
  - Trivy + gitleaks ë³´ì•ˆ ìŠ¤ìº”
  - PR Preview í™˜ê²½

---

## ğŸ”— ê´€ë ¨ ë§í¬

- [Architecture v2.0](../ARCHITECTURE_v2.md) - ìƒì„¸ ì•„í‚¤í…ì²˜ ë¬¸ì„œ
- [CLI Reference v2.5](../CLI_REFERENCE_v2.md) - CLI ì»¤ë§¨ë“œ ë ˆí¼ëŸ°ìŠ¤
- [codeb-deploy-system ì†ŒìŠ¤ ì½”ë“œ](../../codeb-deploy-system/)
