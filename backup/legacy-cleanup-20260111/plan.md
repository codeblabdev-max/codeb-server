# Leo Company Full-Stack AI Automation System
## ì „ëµ ê¸°íšì„œ: ì™œ ì´ êµ¬ì¡°ì¸ê°€

**Version:** 1.0  
**ì‘ì„±ì¼:** 2025ë…„ 1ì›”  
**ì‘ì„±ì:** CEO/CTO Leo  
**ë¬¸ì„œ ëª©ì :** ì‹œìŠ¤í…œ ì„¤ê³„ì˜ ì‚¬ê³  ê³¼ì •ê³¼ ì „ëµì  ê²°ì • ê·¼ê±° ê¸°ë¡

---

# Part 1. ë¬¸ì œ ì¸ì‹ â€” ì™œ ì´ ì‹œìŠ¤í…œì´ í•„ìš”í•œê°€

## 1.1 í˜„ì¬ ê°œë°œ í™˜ê²½ì˜ ê·¼ë³¸ì  í•œê³„

ìŠ¤íƒ€íŠ¸ì—…ê³¼ ì¤‘ì†Œê¸°ì—…ì˜ ê°œë°œíŒ€ì€ ê³µí†µì ì¸ êµ¬ì¡°ì  ë¬¸ì œì— ì§ë©´í•´ ìˆë‹¤. 6ëª…ì˜ ê°œë°œìê°€ 10ê°œì˜ í”„ë¡œì íŠ¸ë¥¼ ë™ì‹œì— ìš´ì˜í•˜ë©´ì„œ, ê° í”„ë¡œì íŠ¸ë§ˆë‹¤ ë‹¤ë¥¸ í¬íŠ¸ ë²ˆí˜¸ë¥¼ ê¸°ì–µí•˜ê³ , ë‹¤ë¥¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì •ì„ ê´€ë¦¬í•˜ë©°, ì„œë¡œ ë‹¤ë¥¸ ë°°í¬ í”„ë¡œì„¸ìŠ¤ë¥¼ ë”°ë¼ì•¼ í•œë‹¤.

ì´ í˜¼ë€ì€ ë‹¨ìˆœí•œ ë¶ˆí¸í•¨ì´ ì•„ë‹ˆë‹¤. ì‹¤ì§ˆì ì¸ ë¹„ìš©ì´ê³ , ì„±ì¥ì˜ ë³‘ëª©ì´ë©°, ê¸°ìˆ  ë¶€ì±„ì˜ ê·¼ì›ì´ë‹¤.

### ë¬¸ì œ 1: ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ë¹„ìš©

UC Irvineì˜ Gloria Mark êµìˆ˜ ì—°êµ¬ì— ë”°ë¥´ë©´, ê°œë°œìê°€ í•˜ë‚˜ì˜ ì‘ì—…ì—ì„œ ë‹¤ë¥¸ ì‘ì—…ìœ¼ë¡œ ì „í™˜í•  ë•Œ í‰ê·  23ë¶„ 15ì´ˆì˜ ì§‘ì¤‘ë ¥ íšŒë³µ ì‹œê°„ì´ í•„ìš”í•˜ë‹¤. ì´ê±´ ë‹¨ìˆœíˆ "ë‹¤ì‹œ ì§‘ì¤‘í•˜ëŠ” ë° ê±¸ë¦¬ëŠ” ì‹œê°„"ì´ ì•„ë‹ˆë‹¤. ì‘ì—… ë§¥ë½ì„ ë¨¸ë¦¿ì†ì— ë‹¤ì‹œ ë¡œë“œí•˜ê³ , ì–´ë””ê¹Œì§€ í–ˆëŠ”ì§€ íŒŒì•…í•˜ê³ , ë‹¤ìŒì— ë­˜ í•´ì•¼ í•˜ëŠ”ì§€ ì¬ì¸ì‹í•˜ëŠ” ì¸ì§€ì  ì˜¤ë²„í—¤ë“œë‹¤.

ìš°ë¦¬ íŒ€ì—ì„œ í•˜ë£¨ì— 3ë²ˆë§Œ í”„ë¡œì íŠ¸ë¥¼ ì „í™˜í•´ë„ ê°œë°œìë‹¹ 1ì‹œê°„ ì´ìƒì´ ìˆœìˆ˜í•œ "ì „í™˜ ë¹„ìš©"ìœ¼ë¡œ ì†Œëª¨ëœë‹¤. 6ëª… ê¸°ì¤€ìœ¼ë¡œ í•˜ë£¨ 6ì‹œê°„, í•œ ë‹¬ì´ë©´ ì•½ 120ì‹œê°„ì´ í—ˆê³µìœ¼ë¡œ ì‚¬ë¼ì§„ë‹¤. ì´ê±´ 1.5ëª…ë¶„ì˜ ê°œë°œ ë¦¬ì†ŒìŠ¤ê°€ ì¦ë°œí•˜ëŠ” ê²ƒê³¼ ê°™ë‹¤.

ë” ì‹¬ê°í•œ ê±´ ì´ ë¹„ìš©ì´ "ë³´ì´ì§€ ì•ŠëŠ”ë‹¤"ëŠ” ì ì´ë‹¤. ê°œë°œìë“¤ì€ ë°”ì˜ê²Œ ì¼í•˜ê³  ìˆê³ , ì•¼ê·¼ë„ í•˜ê³ , ì—´ì‹¬íˆ í•˜ëŠ”ë° ê²°ê³¼ë¬¼ì´ ê¸°ëŒ€ë§Œí¼ ì•ˆ ë‚˜ì˜¨ë‹¤. ì›ì¸ì„ ì°¾ì•„ë³´ë©´ êµ¬ì¡°ì  ë¹„íš¨ìœ¨ì´ ê³³ê³³ì— ìˆ¨ì–´ ìˆë‹¤.

### ë¬¸ì œ 2: ì§€ì‹ì˜ íŒŒí¸í™”

í”„ë¡œì íŠ¸ AëŠ” í¬íŠ¸ 3000ë²ˆ, í™˜ê²½ë³€ìˆ˜ëŠ” .env.localì—.
í”„ë¡œì íŠ¸ BëŠ” í¬íŠ¸ 3100ë²ˆ, í™˜ê²½ë³€ìˆ˜ëŠ” .envì—.
í”„ë¡œì íŠ¸ CëŠ” í¬íŠ¸ 8080ë²ˆ, Docker Composeë¡œ ë„ìš°ê³ .

ì´ëŸ° ì‹ìœ¼ë¡œ í”„ë¡œì íŠ¸ë§ˆë‹¤ ë‹¤ë¥¸ ê·œì¹™ì´ ì ìš©ë˜ë©´, ê·¸ ì§€ì‹ì€ ì‹œìŠ¤í…œì— ì¡´ì¬í•˜ëŠ” ê²Œ ì•„ë‹ˆë¼ ê° ê°œë°œìì˜ ë¨¸ë¦¿ì†ì—ë§Œ ì¡´ì¬í•˜ëŠ” "ì•”ë¬µì§€"ê°€ ëœë‹¤. ì‹ ê·œ ê°œë°œìê°€ í•©ë¥˜í•˜ë©´ ê° í”„ë¡œì íŠ¸ë¥¼ ë³„ë„ë¡œ í•™ìŠµí•´ì•¼ í•˜ê³ , ê¸°ì¡´ ë‹´ë‹¹ìê°€ í‡´ì‚¬í•˜ë©´ ê·¸ ì§€ì‹ì€ ê·¸ëŒ€ë¡œ ìœ ì‹¤ëœë‹¤.

ë‚´ê°€ ì´ ë¬¸ì œë¥¼ ì‹¬ê°í•˜ê²Œ ì¸ì‹í•œ ê±´ ì‹ ê·œ ê°œë°œì ì˜¨ë³´ë”© ê³¼ì •ì—ì„œì˜€ë‹¤. ë˜‘ë˜‘í•œ ê°œë°œìê°€ ì™€ì„œ ì²« 2ì£¼ ë™ì•ˆ í•œ ì¼ì´ "í”„ë¡œì íŠ¸ë³„ ì„¤ì • íŒŒì•…í•˜ê¸°"ì˜€ë‹¤. ì´ê±´ ì‹œìŠ¤í…œì˜ ì‹¤íŒ¨ë‹¤.

### ë¬¸ì œ 3: AI ë„êµ¬ì˜ ë¹„íš¨ìœ¨ì  í™œìš©

ChatGPT, Claude, GitHub Copilot ê°™ì€ AI ë„êµ¬ë“¤ì´ ê°œë°œ ìƒì‚°ì„±ì„ í˜ì‹ í•  ê²ƒì´ë¼ëŠ” ê¸°ëŒ€ê°€ ìˆë‹¤. ì‹¤ì œë¡œ ì´ ë„êµ¬ë“¤ì€ ê°•ë ¥í•˜ë‹¤. í•˜ì§€ë§Œ ëŒ€ë¶€ë¶„ì˜ íŒ€ì—ì„œ AI ë„êµ¬ í™œìš©ì€ "ê°œì¸ì˜ ì—­ëŸ‰"ì— ì˜ì¡´í•œë‹¤.

AIë¥¼ ì˜ ì“°ëŠ” ê°œë°œìëŠ” ìƒì‚°ì„±ì´ 2-3ë°° ì˜¬ë¼ê°€ê³ , ì˜ ëª» ì“°ëŠ” ê°œë°œìëŠ” ì˜¤íˆë ¤ AIê°€ ìƒì„±í•œ ì½”ë“œë¥¼ ë””ë²„ê¹…í•˜ëŠë¼ ì‹œê°„ì„ ë‚­ë¹„í•œë‹¤. íŒ€ ì°¨ì›ì˜ AI í™œìš© ì „ëµì´ ì—†ìœ¼ë©´ AIëŠ” "ê°œì¸ ë„êµ¬"ë¡œ ë‚¨ê³ , ì¡°ì§ì  ì—­ëŸ‰ í–¥ìƒìœ¼ë¡œ ì´ì–´ì§€ì§€ ì•ŠëŠ”ë‹¤.

ë‚´ê°€ ê³ ë¯¼í•œ í•µì‹¬ ì§ˆë¬¸ì€ ì´ê²ƒì´ë‹¤:

**"AIë¥¼ íŒ€ì˜ í‘œì¤€ ì›Œí¬í”Œë¡œìš°ì— í†µí•©í•´ì„œ, ê°œì¸ ì—­ëŸ‰ê³¼ ë¬´ê´€í•˜ê²Œ ëˆ„êµ¬ë‚˜ AIì˜ í˜œíƒì„ ë°›ì„ ìˆ˜ ìˆëŠ” êµ¬ì¡°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆì„ê¹Œ?"**

### ë¬¸ì œ 4: ë°°í¬ì™€ ì¸í”„ë¼ì˜ ë¸”ë™ë°•ìŠ¤í™”

"ë¡œì»¬ì—ì„œëŠ” ë˜ëŠ”ë° ì„œë²„ì—ì„œëŠ” ì•ˆ ë¼ìš”."

ì´ ë¬¸ì¥ì„ ë“¤ì„ ë•Œë§ˆë‹¤ ë‚˜ëŠ” ì†ìœ¼ë¡œ í•œìˆ¨ì„ ì‰°ë‹¤. ì´ê±´ ê°œë°œì íƒ“ì´ ì•„ë‹ˆë¼ ì‹œìŠ¤í…œ ì„¤ê³„ì˜ ë¬¸ì œë‹¤. ë¡œì»¬ í™˜ê²½ê³¼ ì„œë²„ í™˜ê²½ì´ ë‹¤ë¥´ê³ , ê·¸ ì°¨ì´ê°€ ëª…ì‹œì ìœ¼ë¡œ ê´€ë¦¬ë˜ì§€ ì•Šìœ¼ë©´ ì´ëŸ° ë¬¸ì œëŠ” í•„ì—°ì ìœ¼ë¡œ ë°œìƒí•œë‹¤.

ë°°í¬ í”„ë¡œì„¸ìŠ¤ê°€ ìˆ˜ë™ì´ê³ , ì„œë²„ ì„¤ì •ì´ ë¬¸ì„œí™”ë˜ì§€ ì•Šì•˜ìœ¼ë©°, ì¸í”„ë¼ ë³€ê²½ì´ êµ¬ë‘ë¡œ ì „ë‹¬ë˜ë©´... ì´ê±´ ì‹œí•œí­íƒ„ì´ë‹¤. ì–¸ì  ê°€ í„°ì§€ê³ , í„°ì§€ë©´ ë³µêµ¬ì— ëª‡ ì‹œê°„ì—ì„œ ë©°ì¹ ì´ ê±¸ë¦°ë‹¤.

### ë¬¸ì œ 5: í™•ì¥ì„±ì˜ êµ¬ì¡°ì  í•œê³„

ì§€ê¸ˆì€ 6ëª…, 10ê°œ í”„ë¡œì íŠ¸ë‹¤. í•˜ì§€ë§Œ íšŒì‚¬ê°€ ì„±ì¥í•˜ë©´? 12ëª…, 30ê°œ í”„ë¡œì íŠ¸ê°€ ë˜ë©´?

í˜„ì¬ì˜ "ì‚¬ëŒ ì˜ì¡´ì " êµ¬ì¡°ë¡œëŠ” ì„ í˜•ì  í™•ì¥ë„ ë¶ˆê°€ëŠ¥í•˜ë‹¤. í”„ë¡œì íŠ¸ê°€ ëŠ˜ì–´ë‚ ìˆ˜ë¡ ë³µì¡ì„±ì€ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•˜ê³ , ì–´ëŠ ìˆœê°„ ì „ì²´ ì‹œìŠ¤í…œì„ íŒŒì•…í•˜ëŠ” ì‚¬ëŒì´ ì•„ë¬´ë„ ì—†ëŠ” ìƒíƒœê°€ ëœë‹¤.

ë‚˜ëŠ” ì´ëŸ° ìƒíƒœë¥¼ ì—¬ëŸ¬ íšŒì‚¬ì—ì„œ ë´¤ë‹¤. "ë ˆê±°ì‹œ"ë¼ê³  ë¶€ë¥´ëŠ” ì‹œìŠ¤í…œë“¤ì˜ ëŒ€ë¶€ë¶„ì€ ê¸°ìˆ ì ìœ¼ë¡œ ì˜¤ë˜ëœ ê²Œ ì•„ë‹ˆë¼ "êµ¬ì¡°ì ìœ¼ë¡œ ê´€ë¦¬ ë¶ˆê°€ëŠ¥í•´ì§„" ì‹œìŠ¤í…œë“¤ì´ë‹¤.

---

## 1.2 ë‚´ê°€ ì›í•˜ëŠ” ì´ìƒì ì¸ ìƒíƒœ

ì´ ëª¨ë“  ë¬¸ì œë¥¼ ì¸ì‹í•œ í›„, ë‚˜ëŠ” "ì´ìƒì ì¸ ìƒíƒœ"ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì •ì˜í•´ ë´¤ë‹¤.

### ì´ìƒ ìƒíƒœ 1: í”„ë¡œì íŠ¸ ìƒì„±ì˜ ì›í´ë¦­í™”

ê°œë°œìê°€ ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í•  ë•Œ, í„°ë¯¸ë„ì— í•œ ì¤„ë§Œ ì…ë ¥í•˜ë©´ ëª¨ë“  ê²Œ ì¤€ë¹„ë˜ì–´ì•¼ í•œë‹¤.

- Git ë¦¬í¬ì§€í† ë¦¬ ìƒì„±
- ë°ì´í„°ë² ì´ìŠ¤ ì»¨í…Œì´ë„ˆ ìë™ ìƒì„±
- í¬íŠ¸ ë²ˆí˜¸ ìë™ í• ë‹¹ (ì¶©ëŒ ì—†ì´)
- í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿ ìë™ ì£¼ì…
- CI/CD íŒŒì´í”„ë¼ì¸ ê¸°ë³¸ ì„¤ì •
- ëª¨ë‹ˆí„°ë§ ì—°ë™

ì´ê²Œ ë˜ë©´ "í”„ë¡œì íŠ¸ ì„¸íŒ…í•˜ëŠ” ë° ì´í‹€ ê±¸ë ¸ì–´ìš”" ê°™ì€ ë§ì´ ì‚¬ë¼ì§„ë‹¤.

### ì´ìƒ ìƒíƒœ 2: ì§€ì‹ì˜ ì½”ë“œí™”

"ì´ í”„ë¡œì íŠ¸ëŠ” ì›ë˜ ì´ë ‡ê²Œ í•´ì•¼ í•´"ë¼ëŠ” ì•”ë¬µì§€ê°€ ì—†ì–´ì•¼ í•œë‹¤. ëª¨ë“  ê·œì¹™, ëª¨ë“  ì„¤ì •, ëª¨ë“  ì ˆì°¨ê°€ ì½”ë“œ ë˜ëŠ” ëª…ì‹œì  ë¬¸ì„œë¡œ ì¡´ì¬í•´ì•¼ í•œë‹¤.

ìƒˆë¡œìš´ ê°œë°œìê°€ ì™€ë„ README í•˜ë‚˜ ì½ê³  ë°”ë¡œ ê°œë°œì„ ì‹œì‘í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤. ì•„ë‹ˆ, READMEë„ í•„ìš” ì—†ì–´ì•¼ í•œë‹¤. í”„ë¡œì íŠ¸ êµ¬ì¡° ìì²´ê°€ "ì´ë ‡ê²Œ í•˜ë©´ ë©ë‹ˆë‹¤"ë¥¼ ë§í•´ì•¼ í•œë‹¤.

### ì´ìƒ ìƒíƒœ 3: AIì˜ ì¡°ì§ì  í†µí•©

AIê°€ ê°œì¸ ë„êµ¬ê°€ ì•„ë‹ˆë¼ íŒ€ì˜ í‘œì¤€ ì›Œí¬í”Œë¡œìš°ì— ë…¹ì•„ë“¤ì–´ì•¼ í•œë‹¤.

- ê¸°íš ë‹¨ê³„ì—ì„œ AIê°€ PRD ì´ˆì•ˆì„ ì‘ì„±
- ì„¤ê³„ ë‹¨ê³„ì—ì„œ AIê°€ ì•„í‚¤í…ì²˜ ê²€í† 
- ê°œë°œ ë‹¨ê³„ì—ì„œ AIê°€ ì½”ë“œ ìƒì„± ë° ë¦¬ë·°
- í…ŒìŠ¤íŠ¸ ë‹¨ê³„ì—ì„œ AIê°€ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±
- ë°°í¬ ë‹¨ê³„ì—ì„œ AIê°€ ì¸í”„ë¼ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰

ì´ ëª¨ë“  ê³¼ì •ì´ "Claude Codeë¥¼ ì“¸ ì¤„ ì•„ëŠ” ì‚¬ëŒë§Œ" ê°€ëŠ¥í•œ ê²Œ ì•„ë‹ˆë¼, íŒ€ì˜ í‘œì¤€ í”„ë¡œì„¸ìŠ¤ë¡œ ì •ì˜ë˜ì–´ì•¼ í•œë‹¤.

### ì´ìƒ ìƒíƒœ 4: ì¸í”„ë¼ì˜ íˆ¬ëª…í™”

ì„œë²„ê°€ ë¸”ë™ë°•ìŠ¤ê°€ ì•„ë‹ˆë¼ íˆ¬ëª…í•œ ìœ ë¦¬ì°½ì´ì–´ì•¼ í•œë‹¤.

- í˜„ì¬ ì–´ë–¤ í”„ë¡œì íŠ¸ê°€ ì–´ë–¤ í¬íŠ¸ì—ì„œ ëŒê³  ìˆëŠ”ì§€ í•œëˆˆì— íŒŒì•…
- ì–´ë–¤ DBê°€ ì–´ë–¤ í”„ë¡œì íŠ¸ì— ì—°ê²°ë˜ì–´ ìˆëŠ”ì§€ ì¦‰ì‹œ í™•ì¸
- ë°°í¬ ìƒíƒœ, í—¬ìŠ¤ ì²´í¬ ê²°ê³¼, ë¦¬ì†ŒìŠ¤ ì‚¬ìš©ëŸ‰ì´ ì‹¤ì‹œê°„ìœ¼ë¡œ ê°€ì‹œí™”

ê°œë°œìê°€ "ì´ ì„œë²„ ë­ê°€ ëŒê³  ìˆì–´ìš”?"ë¼ê³  ë¬¼ì–´ë³¼ í•„ìš”ê°€ ì—†ì–´ì•¼ í•œë‹¤. ëŒ€ì‹œë³´ë“œ í•˜ë‚˜ ë³´ë©´ ë‹¤ ë‚˜ì™€ì•¼ í•œë‹¤.

### ì´ìƒ ìƒíƒœ 5: í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°

10ê°œ í”„ë¡œì íŠ¸ë‚˜ 100ê°œ í”„ë¡œì íŠ¸ë‚˜ ê´€ë¦¬ ë³µì¡ì„±ì´ ë™ì¼í•´ì•¼ í•œë‹¤.

ì´ê±´ "ì‚¬ëŒì´ ë” ì—´ì‹¬íˆ ì¼í•˜ë©´ ëœë‹¤"ê°€ ì•„ë‹ˆë¼ "ì‹œìŠ¤í…œì´ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•œë‹¤"ë¥¼ ì˜ë¯¸í•œë‹¤. í”„ë¡œì íŠ¸ê°€ ëŠ˜ì–´ë‚˜ë„ í¬íŠ¸ ì¶©ëŒ ê±±ì • ì—†ì´, DB ê´€ë¦¬ ê±±ì • ì—†ì´, ë°°í¬ ë³µì¡ì„± ê±±ì • ì—†ì´ ìš´ì˜í•  ìˆ˜ ìˆì–´ì•¼ í•œë‹¤.

---

# Part 2. ì„¤ê³„ ì² í•™ â€” ì–´ë–¤ ì›ì¹™ìœ¼ë¡œ ì ‘ê·¼í–ˆëŠ”ê°€

## 2.1 Central Control ì›ì¹™: Leo-Centric êµ¬ì¡°

### ì™œ ì¤‘ì•™ í†µì œì¸ê°€?

ë¶„ì‚°ëœ ì˜ì‚¬ê²°ì •ì€ ì†ë„ë¥¼ ë†’ì—¬ì£¼ì§€ë§Œ, ì¼ê´€ì„±ì„ í•´ì¹œë‹¤. íŠ¹íˆ ì´ˆê¸° ë‹¨ê³„ì—ì„œ "ê°ì ì•Œì•„ì„œ"ëŠ” ê¸°ìˆ  ë¶€ì±„ì˜ ì§€ë¦„ê¸¸ì´ë‹¤.

ë‚˜ëŠ” ì˜ë„ì ìœ¼ë¡œ "ì¤‘ì•™ í†µì œ" êµ¬ì¡°ë¥¼ ì„ íƒí–ˆë‹¤. ëª¨ë“  í”„ë¡œì íŠ¸ ìƒì„±, ëª¨ë“  ì¸í”„ë¼ ë³€ê²½, ëª¨ë“  í”„ë¡œë•ì…˜ ë°°í¬ëŠ” ì •ì˜ëœ í”„ë¡œì„¸ìŠ¤ë¥¼ ê±°ì³ì•¼ í•œë‹¤. ì´ê²Œ ê´€ë£Œì ìœ¼ë¡œ ë³´ì¼ ìˆ˜ ìˆì§€ë§Œ, ì‹¤ì œë¡œëŠ” ë” ë¹ ë¥´ë‹¤.

ì™œëƒí•˜ë©´:
- ê·œì¹™ì´ ëª…í™•í•˜ë©´ ì˜ì‚¬ê²°ì •ì— ì‹œê°„ì´ ì•ˆ ê±¸ë¦°ë‹¤
- í‘œì¤€í™”ëœ í”„ë¡œì„¸ìŠ¤ëŠ” ë°˜ë³µí• ìˆ˜ë¡ ë¹¨ë¼ì§„ë‹¤
- ì˜ˆì™¸ ìƒí™©ì„ ì²˜ë¦¬í•˜ëŠ” ë¹„ìš©ì´ ì‚¬ë¼ì§„ë‹¤

### ìŠ¹ì¸ í¬ì¸íŠ¸ì˜ ì „ëµì  ë°°ì¹˜

ëª¨ë“  ê²ƒì„ í†µì œí•˜ë©´ ë³‘ëª©ì´ ëœë‹¤. ê·¸ë˜ì„œ "ìŠ¹ì¸ì´ í•„ìš”í•œ ì§€ì "ì„ ì „ëµì ìœ¼ë¡œ ë°°ì¹˜í–ˆë‹¤.

**ìŠ¹ì¸ í•„ìš” (Leoê°€ ì§ì ‘ í™•ì¸)**
- PRD ìµœì¢… ìŠ¹ì¸: ì˜ëª»ëœ ë°©í–¥ìœ¼ë¡œ ê°€ë©´ ëª¨ë“  í›„ì† ì‘ì—…ì´ ë‚­ë¹„
- í”„ë¡œë•ì…˜ ë°°í¬: ì‚¬ìš©ìì—ê²Œ ì˜í–¥ì„ ë¯¸ì¹˜ëŠ” ë³€ê²½ì€ ì‹ ì¤‘í•´ì•¼ í•¨
- ì¸í”„ë¼ êµ¬ì¡° ë³€ê²½: ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì— ì˜í–¥ì„ ì¤„ ìˆ˜ ìˆìŒ

**ìë™ ì§„í–‰ (ì‹œìŠ¤í…œì´ ì²˜ë¦¬)**
- ê°œë°œ ì„œë²„ ë°°í¬: í…ŒìŠ¤íŠ¸ í™˜ê²½ì€ ììœ ë¡­ê²Œ
- ì½”ë“œ ë¦¬ë·° ìš”ì²­: ìë™í™”ëœ ì²´í¬ í†µê³¼ ì‹œ PR ìƒì„±
- DB ë§ˆì´ê·¸ë ˆì´ì…˜ (ê°œë°œ): ìŠ¤í‚¤ë§ˆ ë³€ê²½ì€ ë¹ˆë²ˆí•˜ë¯€ë¡œ ìë™í™”

ì´ë ‡ê²Œ í•˜ë©´ ì¤‘ìš”í•œ ê²°ì •ì—ë§Œ ì‚¬ëŒì´ ê°œì…í•˜ê³ , ë‚˜ë¨¸ì§€ëŠ” ì‹œìŠ¤í…œì´ ì•Œì•„ì„œ ì²˜ë¦¬í•œë‹¤.

---

## 2.2 Hybrid Intelligence ì›ì¹™: Brain + Muscle + Senses

### AIë§Œìœ¼ë¡œëŠ” ì•ˆ ëœë‹¤

Claude CodeëŠ” ê°•ë ¥í•˜ë‹¤. ì½”ë“œë¥¼ ìƒì„±í•˜ê³ , ë¶„ì„í•˜ê³ , ë¦¬íŒ©í† ë§í•˜ê³ , í…ŒìŠ¤íŠ¸ë¥¼ ì‘ì„±í•œë‹¤. í•˜ì§€ë§Œ Claude Codeë§Œìœ¼ë¡œëŠ” ì™„ì „í•œ ìë™í™”ê°€ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

ì™œ?

- **Claude CodeëŠ” ì™¸ë¶€ ì‹œìŠ¤í…œì„ ì§ì ‘ ì œì–´í•˜ì§€ ëª»í•œë‹¤.** SSHë¡œ ì„œë²„ì— ì ‘ì†í•´ì„œ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ê±°ë‚˜, ë°ì´í„°ë² ì´ìŠ¤ ì»¨í…Œì´ë„ˆë¥¼ ìƒì„±í•˜ëŠ” ê±´ í•  ìˆ˜ ì—†ë‹¤. MCP(Model Context Protocol)ë¥¼ í†µí•´ ì¼ë¶€ ì™¸ë¶€ ì—°ë™ì´ ê°€ëŠ¥í•˜ì§€ë§Œ, ë³´ì•ˆìƒ ë¯¼ê°í•œ ì‘ì—…ì€ ë¡œì»¬ì—ì„œ ì‹¤í–‰í•˜ëŠ” ê²Œ ë§ë‹¤.

- **Claude CodeëŠ” "ê¸°ì–µ"ì— í•œê³„ê°€ ìˆë‹¤.** ì„¸ì…˜ì´ ëë‚˜ë©´ ì»¨í…ìŠ¤íŠ¸ê°€ ì‚¬ë¼ì§„ë‹¤. ì§€ì†ì ì¸ ìƒíƒœ ê´€ë¦¬(ì–´ë–¤ í¬íŠ¸ê°€ ì‚¬ìš© ì¤‘ì¸ì§€, ì–´ë–¤ í”„ë¡œì íŠ¸ê°€ ì–´ë–¤ DBë¥¼ ì“°ëŠ”ì§€)ëŠ” ë³„ë„ì˜ ì‹œìŠ¤í…œì´ í•„ìš”í•˜ë‹¤.

- **Claude CodeëŠ” ë¹„ìš©ì´ ë“ ë‹¤.** ëª¨ë“  ì‘ì—…ì„ AIì—ê²Œ ì‹œí‚¤ë©´ API ë¹„ìš©ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€í•œë‹¤. ë‹¨ìˆœ ë°˜ë³µ ì‘ì—…ì€ ìŠ¤í¬ë¦½íŠ¸ê°€, ì§€ëŠ¥ì´ í•„ìš”í•œ ì‘ì—…ë§Œ AIê°€ ë‹´ë‹¹í•´ì•¼ í•œë‹¤.

### ì‚¼ìœ„ì¼ì²´ êµ¬ì¡°: Brain, Muscle, Senses

ê·¸ë˜ì„œ ë‚˜ëŠ” ì„¸ ê°€ì§€ ë ˆì´ì–´ë¥¼ ë¶„ë¦¬í–ˆë‹¤.

**Brain (ë‘ë‡Œ) â€” Claude Code**
- ì—­í• : ê¸°íš, ì„¤ê³„, ì½”ë”©, í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„±, ì½”ë“œ ë¦¬ë·°
- íŠ¹ì§•: ì§€ëŠ¥ì´ í•„ìš”í•œ ì‘ì—…, ì°½ì˜ì„±ì´ í•„ìš”í•œ ì‘ì—…, ë³µì¡í•œ ë¶„ì„
- ë¹„ìœ : íšŒì‚¬ì˜ ê°œë°œìë“¤ (ìƒê°í•˜ê³  íŒë‹¨í•˜ëŠ” ì—­í• )

**Muscle (ê·¼ìœ¡) â€” Leo CLI (ìì²´ êµ¬ì¶• ë„êµ¬)**
- ì—­í• : ì„œë²„ ì œì–´, ë°°í¬ ì‹¤í–‰, DB ìƒì„±/ê´€ë¦¬, í¬íŠ¸ í• ë‹¹
- íŠ¹ì§•: ë¡œì»¬ì—ì„œ ì‹¤í–‰, SSH í„°ë„ë§, ì‹¤ì œ ì‹œìŠ¤í…œ ëª…ë ¹ì–´ ìˆ˜í–‰
- ë¹„ìœ : íšŒì‚¬ì˜ ì¸í”„ë¼/DevOps íŒ€ (ì‹¤ì œë¡œ ì‘ì—…ì„ ìˆ˜í–‰í•˜ëŠ” ì—­í• )

**Senses (ê°ê°) â€” MCP ì—°ë™**
- ì—­í• : GitHub, Slack, Sentry ë“± ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ì˜ ì—°ê²°
- íŠ¹ì§•: í‘œì¤€í™”ëœ í”„ë¡œí† ì½œ, ì–‘ë°©í–¥ í†µì‹ , ì´ë²¤íŠ¸ ê¸°ë°˜
- ë¹„ìœ : íšŒì‚¬ì˜ ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì±„ë„ (ì •ë³´ë¥¼ ì£¼ê³ ë°›ëŠ” ì—­í• )

ì´ ì„¸ ê°€ì§€ê°€ ìœ ê¸°ì ìœ¼ë¡œ ì—°ê²°ë˜ë©´, Claude Codeì˜ "ìƒê°"ì´ Leo CLIì˜ "ì‹¤í–‰"ìœ¼ë¡œ ì´ì–´ì§€ê³ , ê·¸ ê²°ê³¼ê°€ MCPë¥¼ í†µí•´ íŒ€ì—ê²Œ "ê³µìœ "ëœë‹¤.

---

## 2.3 Standardization ì›ì¹™: Core CMS í…œí”Œë¦¿

### ì™œ í‘œì¤€í™”ê°€ ì¤‘ìš”í•œê°€?

ëª¨ë“  í”„ë¡œì íŠ¸ê°€ ë‹¤ë¥´ë©´, ëª¨ë“  í”„ë¡œì íŠ¸ë¥¼ ìƒˆë¡œ ë°°ì›Œì•¼ í•œë‹¤.
ëª¨ë“  í”„ë¡œì íŠ¸ê°€ ê°™ìœ¼ë©´, í•˜ë‚˜ë§Œ ì•Œë©´ ì „ë¶€ë¥¼ ì•ˆë‹¤.

ë¬¼ë¡  ëª¨ë“  í”„ë¡œì íŠ¸ê°€ 100% ê°™ì„ ìˆ˜ëŠ” ì—†ë‹¤. í•˜ì§€ë§Œ 80%ëŠ” ê°™ì„ ìˆ˜ ìˆë‹¤.

- ì¸ì¦/ë¡œê·¸ì¸: ëŒ€ë¶€ë¶„ì˜ í”„ë¡œì íŠ¸ì— í•„ìš”
- ì–´ë“œë¯¼ ëŒ€ì‹œë³´ë“œ: ê´€ë¦¬ì ê¸°ëŠ¥ì€ ê±°ì˜ ëª¨ë“  í”„ë¡œì íŠ¸ì— ì¡´ì¬
- CRUD íŒ¨í„´: ë°ì´í„° ìƒì„±/ì¡°íšŒ/ìˆ˜ì •/ì‚­ì œëŠ” ê¸°ë³¸ ì¤‘ì˜ ê¸°ë³¸
- íŒŒì¼ ì—…ë¡œë“œ: ì´ë¯¸ì§€ë‚˜ ë¬¸ì„œ ì—…ë¡œë“œ ê¸°ëŠ¥
- ê¶Œí•œ ê´€ë¦¬: ì‚¬ìš©ì ì—­í• ì— ë”°ë¥¸ ì ‘ê·¼ ì œì–´

ì´ëŸ° ê³µí†µ ê¸°ëŠ¥ì„ ë§¤ë²ˆ ìƒˆë¡œ ë§Œë“œëŠ” ê±´ ë‚­ë¹„ë‹¤. "ê²€ì¦ëœ í…œí”Œë¦¿"ì„ ë§Œë“¤ì–´ë‘ê³ , ìƒˆ í”„ë¡œì íŠ¸ëŠ” ì´ í…œí”Œë¦¿ì—ì„œ ì‹œì‘í•˜ë©´ ëœë‹¤.

### Core CMSì˜ êµ¬ì„±

Core CMSëŠ” ë‹¤ìŒì„ í¬í•¨í•œë‹¤:

**ê¸°ìˆ  ìŠ¤íƒ (ê³ ì •)**
- Frontend: Next.js 14+ (App Router)
- Backend: Next.js API Routes + Prisma ORM
- Database: PostgreSQL
- Auth: NextAuth.js
- Styling: Tailwind CSS
- ìƒíƒœê´€ë¦¬: Zustand (í•„ìš”ì‹œ)

**ê¸°ë³¸ ê¸°ëŠ¥ ëª¨ë“ˆ**
- ì‚¬ìš©ì ì¸ì¦ (ì´ë©”ì¼/ì†Œì…œ ë¡œê·¸ì¸)
- ì—­í•  ê¸°ë°˜ ê¶Œí•œ ê´€ë¦¬ (Admin, User, Guest)
- ê¸°ë³¸ CRUD í…œí”Œë¦¿
- íŒŒì¼ ì—…ë¡œë“œ (MinIO ì—°ë™)
- ê¸°ë³¸ ì–´ë“œë¯¼ ëŒ€ì‹œë³´ë“œ

**í´ë” êµ¬ì¡° (ê°•ì œ)**
```
project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/              # Next.js App Router
â”‚   â”œâ”€â”€ components/       # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ ui/           # ê¸°ë³¸ UI (Button, Input...)
â”‚   â”‚   â””â”€â”€ features/     # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ lib/              # ìœ í‹¸ë¦¬í‹°, í—¬í¼
â”‚   â”œâ”€â”€ hooks/            # Custom Hooks
â”‚   â””â”€â”€ types/            # TypeScript íƒ€ì… ì •ì˜
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma     # DB ìŠ¤í‚¤ë§ˆ
â”œâ”€â”€ public/               # ì •ì  íŒŒì¼
â”œâ”€â”€ tests/                # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”‚   â”œâ”€â”€ e2e/              # Playwright E2E
â”‚   â””â”€â”€ unit/             # Jest ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
â””â”€â”€ .claude/              # Claude Code ì„¤ì •
    â”œâ”€â”€ settings.json
    â””â”€â”€ CLAUDE.md
```

ì´ êµ¬ì¡°ë¥¼ "ê°•ì œ"í•˜ëŠ” ì´ìœ ëŠ”, ì–´ë–¤ í”„ë¡œì íŠ¸ë¥¼ ì—´ì–´ë„ "ì•„, ì´ê±´ ì—¬ê¸° ìˆê² ë„¤"ë¥¼ ë°”ë¡œ ì•Œ ìˆ˜ ìˆê²Œ í•˜ê¸° ìœ„í•´ì„œë‹¤.

### í™•ì¥ì€ í—ˆìš©, ê¸°ë³¸ì€ ë¶ˆë³€

Core CMS ìœ„ì— í”„ë¡œì íŠ¸ë³„ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ê±´ ììœ ë‹¤. í•˜ì§€ë§Œ Coreì˜ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ëŠ” ê±´ ê¸ˆì§€ë‹¤.

ì˜ˆë¥¼ ë“¤ì–´:
- âœ… í—ˆìš©: `src/features/real-estate/` í´ë” ì¶”ê°€
- âœ… í—ˆìš©: ìƒˆë¡œìš´ Prisma ëª¨ë¸ ì¶”ê°€
- âŒ ê¸ˆì§€: `src/app` ëŒ€ì‹  `pages/` ì‚¬ìš©
- âŒ ê¸ˆì§€: NextAuth ëŒ€ì‹  ë‹¤ë¥¸ ì¸ì¦ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©

ì´ë ‡ê²Œ í•˜ë©´ CoreëŠ” ì•ˆì •ì ìœ¼ë¡œ ìœ ì§€ë˜ë©´ì„œ, í”„ë¡œì íŠ¸ë³„ ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ ê°€ëŠ¥í•˜ë‹¤.

---

## 2.4 Private PaaS ì›ì¹™: ìë™í™”ëœ ì¸í”„ë¼ ê´€ë¦¬

### Public Cloud vs Private PaaS

AWS, GCP, Vercel ê°™ì€ í¼ë¸”ë¦­ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ëŠ” í¸ë¦¬í•˜ë‹¤. í•˜ì§€ë§Œ ë¹„ìš©ì´ ë¹ ë¥´ê²Œ ì¦ê°€í•˜ê³ , ë²¤ë” ì¢…ì†ì„±ì´ ìƒê¸°ë©°, ì„¸ë°€í•œ ì œì–´ê°€ ì–´ë µë‹¤.

ë°˜ë©´ ìì²´ ì„œë²„ë¥¼ ìš´ì˜í•˜ë©´ ë¹„ìš©ì€ ì ˆì•½ë˜ì§€ë§Œ, ê´€ë¦¬ ë¶€ë‹´ì´ í¬ë‹¤. ì„œë²„ ì„¤ì •, ë„¤íŠ¸ì›Œí¬ êµ¬ì„±, ë³´ì•ˆ íŒ¨ì¹˜, ëª¨ë‹ˆí„°ë§... ì „ë¬¸ DevOps ì¸ë ¥ ì—†ì´ëŠ” ê°ë‹¹í•˜ê¸° ì–´ë µë‹¤.

ë‚˜ëŠ” ì¤‘ê°„ ì§€ì ì„ ì„ íƒí–ˆë‹¤: **ìì²´ ì„œë²„ + ìë™í™” = Private PaaS**

í•µì‹¬ ì•„ì´ë””ì–´ëŠ” ì´ë ‡ë‹¤. ì„œë²„ëŠ” ìš°ë¦¬ ê²ƒì´ì§€ë§Œ, ê´€ë¦¬ëŠ” "í”Œë«í¼ì²˜ëŸ¼" ìë™í™”í•œë‹¤. ê°œë°œìê°€ "ìƒˆ í”„ë¡œì íŠ¸ ë§Œë“¤ì–´ì¤˜"ë¼ê³  í•˜ë©´, ì‹œìŠ¤í…œì´ ì•Œì•„ì„œ ì„œë²„ ì„¤ì •, DB ìƒì„±, í¬íŠ¸ í• ë‹¹, ë„ë©”ì¸ ì—°ê²°ì„ ì²˜ë¦¬í•œë‹¤.

### Leo-Manager: PM2ë¥¼ ë„˜ì–´ì„œ

PM2ëŠ” Node.js í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ ë„êµ¬ë‹¤. `pm2 list`í•˜ë©´ ëŒê³  ìˆëŠ” í”„ë¡œì„¸ìŠ¤ê°€ ë³´ì´ê³ , `pm2 restart`í•˜ë©´ ì¬ì‹œì‘ëœë‹¤. í¸í•˜ë‹¤.

í•˜ì§€ë§Œ PM2ì˜ í•œê³„:
- í”„ë¡œì„¸ìŠ¤ë§Œ ê´€ë¦¬í•˜ì§€, DBë‚˜ RedisëŠ” ë³„ë„ë¡œ ê´€ë¦¬í•´ì•¼ í•¨
- í¬íŠ¸ í• ë‹¹ì´ ìë™í™”ë˜ì§€ ì•ŠìŒ
- í”„ë¡œì íŠ¸ ë©”íƒ€ë°ì´í„° ê´€ë¦¬ ê¸°ëŠ¥ ì—†ìŒ

ê·¸ë˜ì„œ Leo-Managerë¥¼ ì„¤ê³„í–ˆë‹¤. PM2ì˜ í¸ë¦¬í•¨ + í”„ë¡œì íŠ¸ ì „ì²´ ìƒëª…ì£¼ê¸° ê´€ë¦¬.

**Registry (ë“±ë¡ì†Œ)**
ëª¨ë“  í”„ë¡œì íŠ¸ì˜ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ëŠ” Single Source of Truth. JSON íŒŒì¼ í•˜ë‚˜ì— ëª¨ë“  í”„ë¡œì íŠ¸ì˜ í¬íŠ¸, DB ì—°ê²°, ìƒíƒœ, ë‹´ë‹¹ì ì •ë³´ê°€ ë‹´ê¸´ë‹¤.

**ìë™ í¬íŠ¸ í• ë‹¹**
ìƒˆ í”„ë¡œì íŠ¸ ë“±ë¡ ì‹œ ì‚¬ìš© ê°€ëŠ¥í•œ ë‹¤ìŒ í¬íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ì°¾ì•„ì„œ í• ë‹¹í•œë‹¤. í¬íŠ¸ ì¶©ëŒ ê±±ì •ì´ ì‚¬ë¼ì§„ë‹¤.

**Caddy ì—°ë™**
CaddyëŠ” ìë™ SSL ì¸ì¦ì„œ ë°œê¸‰ì´ ê°€ëŠ¥í•œ ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œë‹¤. í”„ë¡œì íŠ¸ê°€ ì¶”ê°€ë  ë•Œë§ˆë‹¤ Caddyfileì„ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸í•˜ê³ , `caddy reload`ë¡œ ë¬´ì¤‘ë‹¨ ì ìš©í•œë‹¤.

**ìƒíƒœ ëª¨ë‹ˆí„°ë§**
`leo manager list` í•œ ì¤„ì´ë©´ ëª¨ë“  í”„ë¡œì íŠ¸ì˜ ìƒíƒœ, í¬íŠ¸, í—¬ìŠ¤ ì²´í¬ ê²°ê³¼ê°€ í…Œì´ë¸”ë¡œ ì¶œë ¥ëœë‹¤.

---

# Part 3. Claude Code í¼í¬ë¨¼ìŠ¤ ê·¹ëŒ€í™” ì „ëµ

## 3.1 ì™œ Claude Codeì¸ê°€?

### AI ì½”ë”© ë„êµ¬ ë¹„êµì—ì„œ Claude Codeë¥¼ ì„ íƒí•œ ì´ìœ 

ì‹œì¥ì—ëŠ” ì—¬ëŸ¬ AI ì½”ë”© ë„êµ¬ê°€ ìˆë‹¤: GitHub Copilot, Cursor, ChatGPT, Claude Code ë“±.

ê°ê°ì˜ ì¥ë‹¨ì ì„ ë¶„ì„í•œ ê²°ê³¼:

**GitHub Copilot**
- ì¥ì : IDE í†µí•©ì´ ë›°ì–´ë‚¨, ìë™ì™„ì„±ì´ ìì—°ìŠ¤ëŸ¬ì›€
- ë‹¨ì : ê¸´ ë§¥ë½ ì´í•´ê°€ ì•½í•¨, ì•„í‚¤í…ì²˜ ìˆ˜ì¤€ì˜ ì‘ì—…ì— ë¶€ì í•©
- ê²°ë¡ : "ì¤„ ë‹¨ìœ„" ì‘ì—…ì—ëŠ” ì¢‹ì§€ë§Œ, "í”„ë¡œì íŠ¸ ë‹¨ìœ„" ì‘ì—…ì—ëŠ” í•œê³„

**Cursor**
- ì¥ì : AI-first IDE, ì½”ë“œë² ì´ìŠ¤ ì „ì²´ë¥¼ ë§¥ë½ìœ¼ë¡œ í™œìš©
- ë‹¨ì : íŠ¹ì • IDEì— ì¢…ì†ë¨, íŒ€ í‘œì¤€í™” ì–´ë ¤ì›€
- ê²°ë¡ : ê°œì¸ ìƒì‚°ì„± ë„êµ¬ë¡œëŠ” í›Œë¥­í•˜ì§€ë§Œ íŒ€ ì›Œí¬í”Œë¡œìš° í†µí•©ì´ ì–´ë ¤ì›€

**ChatGPT**
- ì¥ì : ë²”ìš©ì„±ì´ ë†’ìŒ, ì„¤ëª… ëŠ¥ë ¥ì´ ë›°ì–´ë‚¨
- ë‹¨ì : ì½”ë“œ ì‹¤í–‰ í™˜ê²½ ì—†ìŒ, íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼ ì œí•œì 
- ê²°ë¡ : í•™ìŠµ/ì„¤ëª… ìš©ë„ë¡œ ì¢‹ì§€ë§Œ ì‹¤ì œ ê°œë°œ ì›Œí¬í”Œë¡œìš°ì—ëŠ” ë¶€ì í•©

**Claude Code**
- ì¥ì : í„°ë¯¸ë„ ê¸°ë°˜ìœ¼ë¡œ ìœ ì—°í•¨, ê¸´ ë§¥ë½ ì²˜ë¦¬ ëŠ¥ë ¥, ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ êµ¬ì¶• ê°€ëŠ¥
- ë‹¨ì : ì´ˆê¸° ì„¤ì •ì´ í•„ìš”í•¨, í•™ìŠµ ê³¡ì„  ìˆìŒ
- ê²°ë¡ : íŒ€ ì›Œí¬í”Œë¡œìš°ì— í†µí•©í•˜ê¸° ê°€ì¥ ì í•©

Claude Codeë¥¼ ì„ íƒí•œ ê²°ì •ì  ì´ìœ ëŠ” "í™•ì¥ì„±"ì´ë‹¤. ë‹¨ìˆœíˆ ì½”ë“œ ìë™ì™„ì„± ë„êµ¬ê°€ ì•„ë‹ˆë¼, ì—¬ëŸ¬ ì—ì´ì „íŠ¸ë¥¼ êµ¬ì„±í•´ì„œ ë³µì¡í•œ ì›Œí¬í”Œë¡œìš°ë¥¼ ìë™í™”í•  ìˆ˜ ìˆë‹¤. ì´ê±´ ë‹¤ë¥¸ ë„êµ¬ì—ì„œëŠ” ë¶ˆê°€ëŠ¥í•˜ê±°ë‚˜ ë§¤ìš° ì–´ë µë‹¤.

### Claude Codeì˜ í•µì‹¬ ê°•ì 

**200K í† í° ì»¨í…ìŠ¤íŠ¸**
ClaudeëŠ” ì•½ 200,000 í† í°ì˜ ì»¨í…ìŠ¤íŠ¸ ìœˆë„ìš°ë¥¼ ê°€ì§„ë‹¤. ì´ê±´ ì•½ 50ë§Œ ê¸€ì, ì±… í•œ ê¶Œ ë¶„ëŸ‰ì´ë‹¤. ëŒ€ê·œëª¨ ì½”ë“œë² ì´ìŠ¤ì˜ ì—¬ëŸ¬ íŒŒì¼ì„ ë™ì‹œì— ì´í•´í•˜ê³  ì‘ì—…í•  ìˆ˜ ìˆë‹¤ëŠ” ì˜ë¯¸ë‹¤.

**CLAUDE.md ì‹œìŠ¤í…œ**
í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— CLAUDE.md íŒŒì¼ì„ ë‘ë©´, Claude Codeê°€ í•´ë‹¹ íŒŒì¼ì„ ë¨¼ì € ì½ê³  í”„ë¡œì íŠ¸ ë§¥ë½ì„ ì´í•´í•œë‹¤. ì´ê±´ "í”„ë¡œì íŠ¸ë³„ í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§"ì„ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.

**ì„œë¸Œì—ì´ì „íŠ¸ êµ¬ì¡°**
ë‹¨ì¼ Claude ì¸ìŠ¤í„´ìŠ¤ê°€ ì•„ë‹ˆë¼, ì—­í• ë³„ë¡œ ë¶„ë¦¬ëœ ì—¬ëŸ¬ ì—ì´ì „íŠ¸ë¥¼ êµ¬ì„±í•  ìˆ˜ ìˆë‹¤. PM ì—ì´ì „íŠ¸, ë°±ì—”ë“œ ì—ì´ì „íŠ¸, í”„ë¡ íŠ¸ì—”ë“œ ì—ì´ì „íŠ¸ê°€ ê°ìì˜ ì—­í• ì„ ìˆ˜í–‰í•˜ê³ , ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´í„°ê°€ ì¡°ìœ¨í•œë‹¤.

**Tool ì—°ë™**
MCPë¥¼ í†µí•´ ì™¸ë¶€ ë„êµ¬(GitHub, Slack, ë°ì´í„°ë² ì´ìŠ¤ ë“±)ì™€ ì—°ë™í•  ìˆ˜ ìˆë‹¤. Claudeê°€ ì§ì ‘ PRì„ ìƒì„±í•˜ê±°ë‚˜, Slack ë©”ì‹œì§€ë¥¼ ë³´ë‚´ê±°ë‚˜, DB ì¿¼ë¦¬ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

---

## 3.2 ì—ì´ì „íŠ¸ ì„¤ê³„: ì™œ 8ê°œì¸ê°€?

### ì—ì´ì „íŠ¸ ë¶„í• ì˜ ì›ì¹™

ì—ì´ì „íŠ¸ë¥¼ ì–´ë–»ê²Œ ë‚˜ëˆŒì§€ëŠ” ì¤‘ìš”í•œ ì„¤ê³„ ê²°ì •ì´ë‹¤. ë„ˆë¬´ ì ìœ¼ë©´ ì—­í• ì´ ëª¨í˜¸í•´ì§€ê³ , ë„ˆë¬´ ë§ìœ¼ë©´ ì¡°ìœ¨ ë¹„ìš©ì´ ì¦ê°€í•œë‹¤.

ë‚˜ëŠ” "ì±…ì„ì˜ ëª…í™•ì„±"ê³¼ "ì¡°ìœ¨ ë³µì¡ì„±" ì‚¬ì´ì—ì„œ ê· í˜•ì ì„ ì°¾ì•˜ë‹¤.

**ê³ ë ¤í•œ ìš”ì†Œë“¤:**

1. **ë‹¨ì¼ ì±…ì„ ì›ì¹™ (Single Responsibility)**
   - ê° ì—ì´ì „íŠ¸ëŠ” ëª…í™•í•œ í•˜ë‚˜ì˜ ì—­í• ë§Œ ë‹´ë‹¹í•´ì•¼ í•œë‹¤
   - "ì´ ì‘ì—…ì€ ëˆ„ê°€ í•˜ëŠ” ê±°ì§€?"ë¼ëŠ” ì§ˆë¬¸ì— ì¦‰ë‹µì´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤

2. **ì»¤ë®¤ë‹ˆì¼€ì´ì…˜ ì˜¤ë²„í—¤ë“œ**
   - ì—ì´ì „íŠ¸ ê°„ ì •ë³´ ì „ë‹¬ì—ëŠ” ë¹„ìš©ì´ ë“ ë‹¤
   - í† í° ì‚¬ìš©ëŸ‰, ì‘ë‹µ ì‹œê°„, ì»¨í…ìŠ¤íŠ¸ ì†ì‹¤

3. **ì‹¤ì œ ê°œë°œ ì›Œí¬í”Œë¡œìš°ì™€ì˜ ë§¤í•‘**
   - ì‹¤ì œ ê°œë°œíŒ€ì˜ ì—­í•  ë¶„ë‹´ê³¼ ìœ ì‚¬í•´ì•¼ ì§ê´€ì ì´ë‹¤
   - PM, ë°±ì—”ë“œ ê°œë°œì, í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì, QA, DevOps...

4. **ëª¨ë¸ ë¹„ìš© ìµœì í™”**
   - ëª¨ë“  ì—ì´ì „íŠ¸ê°€ Opus(ê°€ì¥ ë¹„ì‹¼ ëª¨ë¸)ì¼ í•„ìš”ëŠ” ì—†ë‹¤
   - ì—­í• ì— ë”°ë¼ ì ì ˆí•œ ëª¨ë¸ì„ ë°°ì¹˜í•´ì•¼ ë¹„ìš© íš¨ìœ¨ì ì´ë‹¤

### ìµœì¢… ì—ì´ì „íŠ¸ êµ¬ì¡°: 8+1 ì‹œìŠ¤í…œ

**@orchestrator (Opus)**
- ì—­í• : ì „ì²´ ì›Œí¬í”Œë¡œìš° ì¡°ìœ¨, ì‘ì—… ë¶„ë°°, ìµœì¢… ê²€ìˆ˜
- ì™œ Opus: ê°€ì¥ ë³µì¡í•œ íŒë‹¨ì´ í•„ìš”í•¨. ì—¬ëŸ¬ ì—ì´ì „íŠ¸ì˜ ê²°ê³¼ë¥¼ ì¢…í•©í•˜ê³  í’ˆì§ˆì„ í‰ê°€í•´ì•¼ í•¨
- íŠ¸ë¦¬ê±°: `/feature-dev`, `/review-all`

**@pm-spec (Sonnet)**
- ì—­í• : ìš”êµ¬ì‚¬í•­ ë¶„ì„, PRD ì‘ì„±, Leo ì»¨íŒ ìœ ë„
- ì™œ Sonnet: ë¬¸ì„œ ì‘ì„±ì€ ì°½ì˜ì„±ë³´ë‹¤ ì •í™•ì„±ì´ ì¤‘ìš”. Sonnetì´ë©´ ì¶©ë¶„
- íŠ¸ë¦¬ê±°: `/new-project`, `/update-prd`

**@architect (Sonnet)**
- ì—­í• : DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„, API ì„¤ê³„, ì¸í”„ë¼ ìŠ¤í™ ê²°ì •
- ì™œ Sonnet: ì„¤ê³„ëŠ” ì¤‘ìš”í•˜ì§€ë§Œ íŒ¨í„´í™”ëœ ê²½ìš°ê°€ ë§ìŒ
- íŠ¸ë¦¬ê±°: PRD ìŠ¹ì¸ í›„ ìë™, `/design`

**@backend-dev (Sonnet)**
- ì—­í• : Next.js API ê°œë°œ, Prisma ìŠ¤í‚¤ë§ˆ, ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- ì™œ Sonnet: ì½”ë“œ ìƒì„±ì€ Sonnetì´ ê°€ì¥ ë¹„ìš© íš¨ìœ¨ì 
- íŠ¸ë¦¬ê±°: ì„¤ê³„ ì™„ë£Œ í›„ ìë™, `/code-backend`

**@frontend-dev (Sonnet)**
- ì—­í• : React ì»´í¬ë„ŒíŠ¸, UI êµ¬í˜„, API ì—°ë™
- ì™œ Sonnet: í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œ ìƒì„±ë„ Sonnetì´ë©´ ì¶©ë¶„
- íŠ¸ë¦¬ê±°: API ëª…ì„¸ ì™„ë£Œ í›„, `/code-frontend`

**@qa-gate (Sonnet)**
- ì—­í• : ì½”ë“œ ë¦¬ë·°, ë¦°íŠ¸ ì²´í¬, ë³´ì•ˆ ì ê²€
- ì™œ Sonnet: ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ ê²€ì¦ì€ ë³µì¡í•œ ì¶”ë¡ ì´ í•„ìš” ì—†ìŒ
- íŠ¸ë¦¬ê±°: ê°œë°œ ì™„ë£Œ ì‹œ ìë™, `/review`

**@e2e-tester (Sonnet)**
- ì—­í• : Playwright í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì‘ì„± ë° ì‹¤í–‰
- ì™œ Sonnet: í…ŒìŠ¤íŠ¸ ì½”ë“œ ìƒì„±ì€ íŒ¨í„´í™”ë˜ì–´ ìˆìŒ
- íŠ¸ë¦¬ê±°: QA í†µê³¼ í›„, `/test`

**@infra-ops (Sonnet)**
- ì—­í• : Leo-Manager ì œì–´, ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
- ì™œ Sonnet: ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ì€ ë‹¨ìˆœí•œ ëª…ë ¹ì–´ ì¡°í•©
- íŠ¸ë¦¬ê±°: `/deploy`

### ì™œ ë” ì„¸ë¶„í™”í•˜ì§€ ì•Šì•˜ëŠ”ê°€?

ì²˜ìŒì—ëŠ” ë” ì„¸ë¶„í™”í•˜ëŠ” ê²ƒì„ ê³ ë ¤í–ˆë‹¤:
- DB ì „ìš© ì—ì´ì „íŠ¸
- ì¸ì¦ ì „ìš© ì—ì´ì „íŠ¸
- í…ŒìŠ¤íŠ¸ ë°ì´í„° ì „ìš© ì—ì´ì „íŠ¸

í•˜ì§€ë§Œ ê²€í†  ê²°ê³¼, ì´ëŸ° ì„¸ë¶„í™”ëŠ” ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ì´ë‹¤.

**ì„¸ë¶„í™”í•˜ì§€ ì•Šì€ ì´ìœ :**
1. ì¡°ìœ¨ ë³µì¡ì„±ì´ ê¸°í•˜ê¸‰ìˆ˜ì ìœ¼ë¡œ ì¦ê°€
2. ê° ì—ì´ì „íŠ¸ê°€ ê°€ì ¸ì•¼ í•  ì»¨í…ìŠ¤íŠ¸ê°€ ì¤‘ë³µë¨
3. ì‘ì€ ì‘ì—…ì„ ìœ„í•´ ì—ì´ì „íŠ¸ ê°„ í•¸ë“œì˜¤í”„ê°€ ë¹ˆë²ˆí•´ì§
4. ë””ë²„ê¹…ì´ ì–´ë ¤ì›Œì§ (ì–´ë””ì„œ ë¬¸ì œê°€ ìƒê²¼ëŠ”ì§€ ì¶”ì  ì–´ë ¤ì›€)

ëŒ€ì‹ , ì—­í• ë³„ ì—ì´ì „íŠ¸ ë‚´ì—ì„œ "ìŠ¤í‚¬(Skills)"ë¡œ ì„¸ë¶€ ê¸°ëŠ¥ì„ ë¶„ë¦¬í–ˆë‹¤. @backend-dev ì—ì´ì „íŠ¸ê°€ DB ê´€ë ¨ ìŠ¤í‚¬, API ê´€ë ¨ ìŠ¤í‚¬, ì¸ì¦ ê´€ë ¨ ìŠ¤í‚¬ì„ ê°€ì§€ê³  ìˆëŠ” ì‹ì´ë‹¤.

---

## 3.3 Skills ì‹œìŠ¤í…œ: ì§€ì‹ì˜ ëª¨ë“ˆí™”

### Skillsë€ ë¬´ì—‡ì¸ê°€?

SkillsëŠ” ì—ì´ì „íŠ¸ê°€ ì°¸ì¡°í•˜ëŠ” "ì§€ì‹ ë² ì´ìŠ¤"ë‹¤. í”„ë¡¬í”„íŠ¸ì— ë§¤ë²ˆ ëª¨ë“  ì •ë³´ë¥¼ ë„£ëŠ” ëŒ€ì‹ , í•„ìš”í•œ ì •ë³´ë¥¼ ëª¨ë“ˆí™”í•´ì„œ ê´€ë¦¬í•œë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, @backend-devê°€ Prisma ê´€ë ¨ ì‘ì—…ì„ í•  ë•Œ:
- ë§¤ë²ˆ: "PrismaëŠ” ì´ë ‡ê²Œ ì“°ê³ , ìš°ë¦¬ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì´ëŸ° ì»¨ë²¤ì…˜ì´ê³ ..."
- Skills ì‚¬ìš©: "prisma-conventions ìŠ¤í‚¬ ì°¸ì¡°" â†’ ìë™ìœ¼ë¡œ ê´€ë ¨ ì •ë³´ ë¡œë“œ

### í•µì‹¬ Skills êµ¬ì„±

**core-cms (í•„ìˆ˜)**
- Leo Companyì˜ í‘œì¤€ CMS í…œí”Œë¦¿ êµ¬ì¡°
- íŒŒì¼/í´ë” ë„¤ì´ë° ì»¨ë²¤ì…˜
- ì»´í¬ë„ŒíŠ¸ ì‘ì„± íŒ¨í„´
- API ë¼ìš°íŠ¸ êµ¬ì¡°

**leo-infra (í•„ìˆ˜)**
- ì„œë²„ IP ë° ì—­í•  ì •ì˜
- í¬íŠ¸ í• ë‹¹ ê·œì¹™ (App: 3000ë²ˆëŒ€, DB: 5400ë²ˆëŒ€)
- Podman ëª…ë ¹ì–´ ë ˆí¼ëŸ°ìŠ¤
- Leo-Manager CLI ì‚¬ìš©ë²•

**testing (í•„ìˆ˜)**
- Playwright E2E í…ŒìŠ¤íŠ¸ íŒ¨í„´
- Jest ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ íŒ¨í„´
- í…ŒìŠ¤íŠ¸ ë°ì´í„° ì‹œë”© ì „ëµ
- Mock ì‘ì„± ê°€ì´ë“œë¼ì¸

**security (ì„ íƒ)**
- ë³´ì•ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸
- ì¼ë°˜ì ì¸ ì·¨ì•½ì  íŒ¨í„´
- NextAuth ë³´ì•ˆ ì„¤ì •
- API ì¸ì¦/ì¸ê°€ íŒ¨í„´

### Skillsì˜ ì¥ì 

**1. ì¼ê´€ì„±**
ëª¨ë“  ì—ì´ì „íŠ¸ê°€ ê°™ì€ Skillsë¥¼ ì°¸ì¡°í•˜ë¯€ë¡œ, ìƒì„±ë˜ëŠ” ì½”ë“œì˜ ìŠ¤íƒ€ì¼ì´ ì¼ê´€ë¨

**2. ìœ ì§€ë³´ìˆ˜**
ì»¨ë²¤ì…˜ì´ ë°”ë€Œë©´ Skillsë§Œ ì—…ë°ì´íŠ¸í•˜ë©´ ë¨. ëª¨ë“  ì—ì´ì „íŠ¸ì— ìë™ ì ìš©

**3. ì˜¨ë³´ë”©**
ìƒˆë¡œìš´ íŒ€ì›ì´ ì™€ë„ Skills ë¬¸ì„œë¥¼ ì½ìœ¼ë©´ í”„ë¡œì íŠ¸ ì»¨ë²¤ì…˜ì„ íŒŒì•… ê°€ëŠ¥

**4. í† í° íš¨ìœ¨ì„±**
ê³µí†µ ì •ë³´ë¥¼ Skillsë¡œ ë¶„ë¦¬í•˜ë©´ ê° í”„ë¡¬í”„íŠ¸ê°€ ê°€ë²¼ì›Œì§

---

## 3.4 CLAUDE.md ì „ëµ: í”„ë¡œì íŠ¸ë³„ ë§¥ë½ ì£¼ì…

### CLAUDE.mdì˜ ì—­í• 

í”„ë¡œì íŠ¸ ë£¨íŠ¸ì— ìœ„ì¹˜í•œ CLAUDE.md íŒŒì¼ì€ Claude Codeê°€ í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ì´í•´í•˜ê¸° ìœ„í•œ "ì²« ë²ˆì§¸ ì§„ì…ì "ì´ë‹¤.

Claude CodeëŠ” ì‘ì—… ì‹œì‘ ì‹œ ì´ íŒŒì¼ì„ ìë™ìœ¼ë¡œ ì½ê³ , í”„ë¡œì íŠ¸ì˜ ë§¥ë½ì„ íŒŒì•…í•œë‹¤. ì´ê±´ ë§¤ë²ˆ "ì´ í”„ë¡œì íŠ¸ëŠ” ì´ëŸ° í”„ë¡œì íŠ¸ì•¼"ë¼ê³  ì„¤ëª…í•˜ëŠ” ìˆ˜ê³ ë¥¼ ëœì–´ì¤€ë‹¤.

### CLAUDE.mdì— í¬í•¨í•´ì•¼ í•  ë‚´ìš©

**í”„ë¡œì íŠ¸ ê°œìš”**
- í”„ë¡œì íŠ¸ì˜ ëª©ì ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ì»¨í…ìŠ¤íŠ¸
- ì£¼ìš” ì‚¬ìš©ìì™€ ìœ ìŠ¤ì¼€ì´ìŠ¤
- í˜„ì¬ ê°œë°œ ë‹¨ê³„ (MVP, Beta, Production)

**ê¸°ìˆ  ìŠ¤íƒ**
- ì‚¬ìš© ì¤‘ì¸ í”„ë ˆì„ì›Œí¬, ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „
- ì£¼ìš” ì˜ì¡´ì„±ê³¼ ê·¸ ì„ íƒ ì´ìœ 
- ì œì•½ì‚¬í•­ (ì˜ˆ: IE ì§€ì› í•„ìš”, íŠ¹ì • ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ê¸ˆì§€)

**ì½”ë“œ ì»¨ë²¤ì…˜**
- ë„¤ì´ë° ê·œì¹™
- íŒŒì¼ êµ¬ì¡° ê·œì¹™
- ì½”ë©˜íŠ¸ ìŠ¤íƒ€ì¼
- Git ì»¤ë°‹ ë©”ì‹œì§€ í˜•ì‹

**ìì£¼ í•˜ëŠ” ì‘ì—…**
- ìì£¼ ì‚¬ìš©í•˜ëŠ” ëª…ë ¹ì–´
- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ë°©ë²•
- ë¡œì»¬ ê°œë°œ í™˜ê²½ ì„¤ì •

**ì£¼ì˜ì‚¬í•­**
- ì•Œë ¤ì§„ ì´ìŠˆ
- ê±´ë“œë¦¬ë©´ ì•ˆ ë˜ëŠ” ë ˆê±°ì‹œ ì½”ë“œ
- ì„±ëŠ¥ ë¯¼ê° ì˜ì—­

### CLAUDE.md í…œí”Œë¦¿

```markdown
# Project: [í”„ë¡œì íŠ¸ëª…]

## Overview
[í”„ë¡œì íŠ¸ ì„¤ëª… 2-3ë¬¸ì¥]

## Tech Stack
- Frontend: Next.js 14, React 18, TypeScript
- Backend: Next.js API Routes, Prisma
- Database: PostgreSQL 15
- Auth: NextAuth.js v5

## Key Commands
- `npm run dev`: ê°œë°œ ì„œë²„ ì‹œì‘
- `npm run test:e2e`: E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- `npm run db:migrate`: DB ë§ˆì´ê·¸ë ˆì´ì…˜

## Code Conventions
- ì»´í¬ë„ŒíŠ¸: PascalCase (ì˜ˆ: UserProfile.tsx)
- ìœ í‹¸ë¦¬í‹°: camelCase (ì˜ˆ: formatDate.ts)
- API ë¼ìš°íŠ¸: kebab-case (ì˜ˆ: user-profile/route.ts)

## Dos and Don'ts
âœ… DO: Prisma ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì‹œ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„±
âŒ DON'T: node_modules ì§ì ‘ ìˆ˜ì •
âŒ DON'T: .env íŒŒì¼ì„ Gitì— ì»¤ë°‹
```

---

## 3.5 ë¹„ìš© ìµœì í™” ì „ëµ

### ëª¨ë¸ë³„ ë¹„ìš© êµ¬ì¡° ì´í•´

Anthropicì˜ Claude ëª¨ë¸ì€ ì„¸ ê°€ì§€ í‹°ì–´ê°€ ìˆë‹¤:
- **Opus**: ê°€ì¥ ê°•ë ¥í•˜ì§€ë§Œ ê°€ì¥ ë¹„ìŒˆ (ì…ë ¥ $15/M í† í°, ì¶œë ¥ $75/M í† í°)
- **Sonnet**: ê· í˜•ì¡íŒ ì„±ëŠ¥ê³¼ ê°€ê²© (ì…ë ¥ $3/M í† í°, ì¶œë ¥ $15/M í† í°)
- **Haiku**: ë¹ ë¥´ê³  ì €ë ´ (ì…ë ¥ $0.25/M í† í°, ì¶œë ¥ $1.25/M í† í°)

OpusëŠ” Sonnetë³´ë‹¤ 5ë°° ë¹„ì‹¸ë‹¤. ëª¨ë“  ì‘ì—…ì— Opusë¥¼ ì“°ë©´ ë¹„ìš©ì´ ê°ë‹¹ ë¶ˆê°€ëŠ¥í•´ì§„ë‹¤.

### ì—­í• ë³„ ëª¨ë¸ ë°°ì¹˜ ì „ëµ

**Opusë¥¼ ì“°ëŠ” ê²½ìš° (5%)**
- @orchestrator: ì „ì²´ ì¡°ìœ¨, ë³µì¡í•œ íŒë‹¨
- ì•„í‚¤í…ì²˜ ë¦¬ë·°: ì¤‘ìš”í•œ ì„¤ê³„ ê²°ì •
- ëª¨í˜¸í•œ ìš”êµ¬ì‚¬í•­ í•´ì„: ì°½ì˜ì  íŒë‹¨ í•„ìš”

**Sonnetì„ ì“°ëŠ” ê²½ìš° (90%)**
- ì½”ë“œ ìƒì„±: ëŒ€ë¶€ë¶„ì˜ ì½”ë“œ ì‘ì„±
- ë¬¸ì„œ ì‘ì„±: PRD, ê¸°ìˆ  ë¬¸ì„œ
- í…ŒìŠ¤íŠ¸ ì‘ì„±: í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ìƒì„±
- ì½”ë“œ ë¦¬ë·°: ì²´í¬ë¦¬ìŠ¤íŠ¸ ê¸°ë°˜ ê²€ì¦

**Haikuë¥¼ ì“°ëŠ” ê²½ìš° (5%)**
- ë‹¨ìˆœ í¬ë§·íŒ…: JSON ë³€í™˜, í…ìŠ¤íŠ¸ ì •ë¦¬
- ë°˜ë³µ ì‘ì—…: í…œí”Œë¦¿ ê¸°ë°˜ ìƒì„±
- ë¹ ë¥¸ í™•ì¸: Yes/No íŒë‹¨

### í† í° ì‚¬ìš©ëŸ‰ ìµœì í™”

**ë¶ˆí•„ìš”í•œ ì»¨í…ìŠ¤íŠ¸ ì œê±°**
- ì „ì²´ ì½”ë“œë² ì´ìŠ¤ë¥¼ ë§¤ë²ˆ ë„˜ê¸°ì§€ ì•ŠëŠ”ë‹¤
- ê´€ë ¨ íŒŒì¼ë§Œ ì„ íƒì ìœ¼ë¡œ í¬í•¨
- íˆìŠ¤í† ë¦¬ëŠ” ìš”ì•½í•´ì„œ ì „ë‹¬

**Skills í™œìš©**
- ë°˜ë³µë˜ëŠ” ì •ë³´ëŠ” Skillsë¡œ ë¶„ë¦¬
- í•„ìš”í•  ë•Œë§Œ ë¡œë“œ

**ì ì§„ì  ìƒì„¸í™”**
- ì²˜ìŒë¶€í„° ì™„ë²½í•œ ê²°ê³¼ë¥¼ ìš”êµ¬í•˜ì§€ ì•ŠìŒ
- ê°œìš” â†’ ìƒì„¸ â†’ êµ¬í˜„ ìˆœì„œë¡œ ë‹¨ê³„ì  ì§„í–‰

### ì˜ˆìƒ ì›”ê°„ ë¹„ìš©

6ëª… ê°œë°œíŒ€ ê¸°ì¤€, ì›” ì˜ˆìƒ ë¹„ìš©:
- Opus (5%): ì•½ $50
- Sonnet (90%): ì•½ $200
- Haiku (5%): ì•½ $10
- **í•©ê³„: ì•½ $260/ì›”**

ì´ê±´ ê°œë°œì 1ëª… ì¸ê±´ë¹„ì˜ 1/10ë„ ì•ˆ ëœë‹¤. AI ë„êµ¬ ë¹„ìš©ì€ ì¸ê±´ë¹„ ëŒ€ë¹„ ê·¹íˆ ë¯¸ë¯¸í•˜ë©°, ìƒì‚°ì„± í–¥ìƒìœ¼ë¡œ ì¶©ë¶„íˆ ìƒì‡„ëœë‹¤.

---

# Part 4. ì¸í”„ë¼ í”„ë ˆì„ì›Œí¬ ì„¤ê³„

## 4.1 4-Layer ì•„í‚¤í…ì²˜

### ì™œ ë ˆì´ì–´ë¥¼ ë‚˜ëˆ´ëŠ”ê°€?

ë³µì¡í•œ ì‹œìŠ¤í…œì„ ë‹¤ë£¨ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ "ê´€ì‹¬ì‚¬ì˜ ë¶„ë¦¬(Separation of Concerns)"ë‹¤. ê° ë ˆì´ì–´ê°€ ìì‹ ì˜ ì—­í• ì—ë§Œ ì§‘ì¤‘í•˜ë©´, ì „ì²´ ì‹œìŠ¤í…œì˜ ë³µì¡ì„±ì´ ì¤„ì–´ë“ ë‹¤.

ë‚˜ëŠ” ì‹œìŠ¤í…œì„ 4ê°œ ë ˆì´ì–´ë¡œ ë‚˜ëˆ´ë‹¤:

### Layer 1: App Layer (ì• í”Œë¦¬ì¼€ì´ì…˜ ë ˆì´ì–´)

**ì—­í• **: ì‹¤ì œ ì‚¬ìš©ìê°€ ì‚¬ìš©í•˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜
**êµ¬ì„± ìš”ì†Œ**: Next.js í”„ë¡œì íŠ¸ë“¤
**íŠ¹ì§•**:
- Stateless (ìƒíƒœ ì—†ìŒ): ì• í”Œë¦¬ì¼€ì´ì…˜ ìì²´ëŠ” ìƒíƒœë¥¼ ì €ì¥í•˜ì§€ ì•ŠìŒ
- ìˆ˜í‰ í™•ì¥ ê°€ëŠ¥: íŠ¸ë˜í”½ ì¦ê°€ ì‹œ ì¸ìŠ¤í„´ìŠ¤ ì¶”ê°€
- Core CMS ê¸°ë°˜: í‘œì¤€í™”ëœ êµ¬ì¡°

ì´ ë ˆì´ì–´ì˜ í•µì‹¬ ì›ì¹™ì€ "ë¬´ìƒíƒœì„±"ì´ë‹¤. ëª¨ë“  ìƒíƒœëŠ” DBë‚˜ Redisì— ì €ì¥ë˜ê³ , ì•± ì¸ìŠ¤í„´ìŠ¤ëŠ” ì–¸ì œë“  êµì²´ ê°€ëŠ¥í•´ì•¼ í•œë‹¤.

### Layer 2: Server Layer (ì„œë²„ ë ˆì´ì–´)

**ì—­í• **: ì¸í”„ë¼ ë¦¬ì†ŒìŠ¤ ê´€ë¦¬
**êµ¬ì„± ìš”ì†Œ**:
- Podman ì»¨í…Œì´ë„ˆ
- PostgreSQL ë°ì´í„°ë² ì´ìŠ¤
- Redis ìºì‹œ
- MinIO ìŠ¤í† ë¦¬ì§€

**íŠ¹ì§•**:
- ì—­í• ë³„ ì„œë²„ ë¶„ë¦¬ (App, DB, Cache, Storage)
- ë³¼ë¥¨ìœ¼ë¡œ ë°ì´í„° ì˜ì†ì„± ë³´ì¥
- ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ë¡œ ë³´ì•ˆ ê°•í™”

ì„œë²„ë¥¼ ì—­í• ë³„ë¡œ ë¶„ë¦¬í•œ ì´ìœ :
1. ì¥ì•  ê²©ë¦¬: DB ì„œë²„ ë¬¸ì œê°€ App ì„œë²„ì— ì˜í–¥ì„ ì£¼ì§€ ì•ŠìŒ
2. ë…ë¦½ì  ìŠ¤ì¼€ì¼ë§: DBë§Œ ìŠ¤ì¼€ì¼ì—…, ìºì‹œë§Œ ìŠ¤ì¼€ì¼ì—… ê°€ëŠ¥
3. ë³´ì•ˆ: DB ì„œë²„ëŠ” ì™¸ë¶€ ì ‘ê·¼ ì°¨ë‹¨, App ì„œë²„ë§Œ ì™¸ë¶€ ë…¸ì¶œ

### Layer 3: IaC Layer (Infrastructure as Code ë ˆì´ì–´)

**ì—­í• **: ì¸í”„ë¼ ì„¤ì •ì˜ ì½”ë“œí™”
**êµ¬ì„± ìš”ì†Œ**:
- í”„ë¡œì íŠ¸ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ (YAML)
- ìë™í™” ìŠ¤í¬ë¦½íŠ¸
- í™˜ê²½ë³„ ì„¤ì • (dev, stage, prod)

**í•µì‹¬ ì›ì¹™**: 
> "í”„ë¡œì íŠ¸ í•˜ë‚˜ = YAML ë§¤ë‹ˆí˜ìŠ¤íŠ¸ í•˜ë‚˜"

ëª¨ë“  í”„ë¡œì íŠ¸ì˜ ì¸í”„ë¼ ìš”êµ¬ì‚¬í•­ì´ í•˜ë‚˜ì˜ YAML íŒŒì¼ì— ì •ì˜ëœë‹¤. ì´ íŒŒì¼ë§Œ ë³´ë©´ í•´ë‹¹ í”„ë¡œì íŠ¸ê°€ ì–´ë–¤ ì„œë²„ë¥¼ ì“°ê³ , ì–´ë–¤ í¬íŠ¸ë¥¼ ì“°ê³ , ì–´ë–¤ DBì— ì—°ê²°ë˜ëŠ”ì§€ í•œëˆˆì— íŒŒì•…ëœë‹¤.

### Layer 4: Agent/DevOps Layer (ì—ì´ì „íŠ¸/ë°ë¸Œì˜µìŠ¤ ë ˆì´ì–´)

**ì—­í• **: ìë™í™”ì™€ ì¡°ìœ¨
**êµ¬ì„± ìš”ì†Œ**:
- Claude ì„œë¸Œì—ì´ì „íŠ¸ë“¤
- GitHub Actions
- ë°°í¬ íŒŒì´í”„ë¼ì¸

**íŠ¹ì§•**:
- ì¸ê°„ì˜ ê°œì… ìµœì†Œí™”
- ë°˜ë³µ ì‘ì—… ìë™í™”
- í’ˆì§ˆ ê²Œì´íŠ¸ ê°•ì œ

ì´ ë ˆì´ì–´ê°€ ë‚˜ë¨¸ì§€ ì„¸ ë ˆì´ì–´ë¥¼ "ìš´ì˜"í•œë‹¤. ì—ì´ì „íŠ¸ê°€ ì½”ë“œë¥¼ ìƒì„±í•˜ê³ , IaCê°€ ì¸í”„ë¼ë¥¼ ì •ì˜í•˜ê³ , ì„œë²„ ë ˆì´ì–´ì— ë°°í¬ë˜ì–´ ì•± ë ˆì´ì–´ê°€ ì‹¤í–‰ëœë‹¤.

---

## 4.2 í”„ë¡œì íŠ¸ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ì„¤ê³„

### ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì˜ ëª©ì 

í”„ë¡œì íŠ¸ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ëŠ” í•´ë‹¹ í”„ë¡œì íŠ¸ì˜ "ì¸í”„ë¼ ê³„ì•½ì„œ"ë‹¤. ì´ ë¬¸ì„œì— ì •ì˜ëœ ëŒ€ë¡œ ì¸í”„ë¼ê°€ êµ¬ì„±ë˜ì–´ì•¼ í•˜ê³ , ì—¬ê¸°ì— ì—†ëŠ” ê±´ ì—†ëŠ” ê±°ë‹¤.

### ë§¤ë‹ˆí˜ìŠ¤íŠ¸ êµ¬ì¡°

ë§¤ë‹ˆí˜ìŠ¤íŠ¸ëŠ” ë‹¤ìŒ ì„¹ì…˜ë“¤ë¡œ êµ¬ì„±ëœë‹¤:

**project ì„¹ì…˜**
í”„ë¡œì íŠ¸ì˜ ê¸°ë³¸ ì •ë³´: ID, íƒ€ì…, ë‹´ë‹¹ì, íŒ€

**environment ì„¹ì…˜**
í™˜ê²½ë³„ ì„¤ì •: ë„ë©”ì¸, ê¸°ë³¸ í™˜ê²½

**servers ì„¹ì…˜**
ì‚¬ìš©í•  ì„œë²„ë“¤ì˜ IP ë˜ëŠ” ì—­í• 

**resources ì„¹ì…˜**
ë¦¬ì†ŒìŠ¤ í• ë‹¹: í¬íŠ¸, CPU, ë©”ëª¨ë¦¬, Redis DB index, ìŠ¤í† ë¦¬ì§€ ë²„í‚·

**features ì„¹ì…˜**
í™œì„±í™”í•  ê¸°ëŠ¥: CMS ì½”ì–´, ì¸ì¦, ê²Œì‹œíŒ, ì‹¤ì‹œê°„ ê¸°ëŠ¥

**monitoring ì„¹ì…˜** (ì‹ ê·œ ì¶”ê°€)
ëª¨ë‹ˆí„°ë§ ì„¤ì •: ì•Œë¦¼ ì±„ë„, í—¬ìŠ¤ì²´í¬ ì—”ë“œí¬ì¸íŠ¸, ëŒ€ì‹œë³´ë“œ í…œí”Œë¦¿

**backup ì„¹ì…˜** (ì‹ ê·œ ì¶”ê°€)
ë°±ì—… ì •ì±…: ìŠ¤ì¼€ì¤„, ë³´ì¡´ ê¸°ê°„, ì €ì¥ ìœ„ì¹˜

### ë§¤ë‹ˆí˜ìŠ¤íŠ¸ê°€ íŠ¸ë¦¬ê±°í•˜ëŠ” ê²ƒë“¤

ë§¤ë‹ˆí˜ìŠ¤íŠ¸ê°€ ìƒì„±/ìˆ˜ì •ë˜ë©´ ë‹¤ìŒì´ ìë™ìœ¼ë¡œ ë°œìƒí•œë‹¤:

1. **DB ì»¨í…Œì´ë„ˆ ìƒì„±**: resources.db ì„¤ì •ì— ë”°ë¼
2. **Redis namespace ì˜ˆì•½**: resources.redis.db_index í• ë‹¹
3. **MinIO ë²„í‚· ìƒì„±**: resources.storage.bucket ì´ë¦„ìœ¼ë¡œ
4. **Caddy ì„¤ì • ì—…ë°ì´íŠ¸**: environment.domainsì— ë”°ë¼
5. **.env íŒŒì¼ ìƒì„±**: ìœ„ ì •ë³´ë“¤ì„ ì¡°í•©í•´ì„œ
6. **ëª¨ë‹ˆí„°ë§ ë“±ë¡**: monitoring ì„¹ì…˜ì— ë”°ë¼
7. **ë°±ì—… ìŠ¤ì¼€ì¤„ ë“±ë¡**: backup ì„¹ì…˜ì— ë”°ë¼

ê°œë°œìëŠ” ë§¤ë‹ˆí˜ìŠ¤íŠ¸ë§Œ ì‘ì„±í•˜ë©´ ëœë‹¤. ë‚˜ë¨¸ì§€ëŠ” ì‹œìŠ¤í…œì´ ì•Œì•„ì„œ í•œë‹¤.

---

## 4.3 ì„œë²„ êµ¬ì„± ìƒì„¸

### ë¬¼ë¦¬ ì„œë²„ êµ¬ì„±

**Test Server (Mac Mini M4) - 192.168.1.100**
- ì—­í• : AI ì—°ì‚° ê°€ì†, E2E í…ŒìŠ¤íŠ¸, Staging ë°°í¬, Leo-Manager ë©”ì¸
- ì„ íƒ ì´ìœ : M4 ì¹©ì˜ ì„±ëŠ¥ì´ ë›°ì–´ë‚˜ê³ , ì „ë ¥ ì†Œë¹„ê°€ ì ìŒ. í´ë¼ìš°ë“œ ë¹„ìš© ì ˆê°
- RAM: ìµœì†Œ 16GB ê¶Œì¥ (ì—¬ëŸ¬ í…ŒìŠ¤íŠ¸ ë³‘ë ¬ ì‹¤í–‰)

**APP Server - 192.168.1.10**
- ì—­í• : Next.js ì»¨í…Œì´ë„ˆ ì‹¤í–‰
- íŠ¹ì§•: Stateless, ì‰½ê²Œ êµì²´ ê°€ëŠ¥
- ì•ë‹¨: Caddy ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ

**DB Server - 192.168.1.11**
- ì—­í• : PostgreSQL ë°ì´í„°ë² ì´ìŠ¤
- íŠ¹ì§•: Podman ë³¼ë¥¨ìœ¼ë¡œ ë°ì´í„° ì˜ì†ì„±
- ë°±ì—…: ë§¤ì¼ ìƒˆë²½ 3ì‹œ ìë™ ë°±ì—…

**Socket Server - 192.168.1.12**
- ì—­í• : WebSocket ê¸°ë°˜ ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤
- í•„ìš” ì‹œì—ë§Œ í™œì„±í™”

**Storage Server - 192.168.1.13**
- ì—­í• : MinIO (S3 í˜¸í™˜ ì˜¤ë¸Œì íŠ¸ ìŠ¤í† ë¦¬ì§€)
- ìš©ë„: íŒŒì¼ ì—…ë¡œë“œ, ë°±ì—… ì €ì¥

**Cache Server - 192.168.1.14**
- ì—­í• : Redis Cluster
- ìš©ë„: ì„¸ì…˜, ìºì‹œ, ì‹¤ì‹œê°„ ë°ì´í„°

### ë„¤íŠ¸ì›Œí¬ êµ¬ì„±

**ì™¸ë¶€ ë…¸ì¶œ**: APP Serverë§Œ ì™¸ë¶€ì—ì„œ ì ‘ê·¼ ê°€ëŠ¥ (Caddyë¥¼ í†µí•´)
**ë‚´ë¶€ í†µì‹ **: leo-private-net (Podman ë„¤íŠ¸ì›Œí¬)
**ë³´ì•ˆ**:
- SSH í‚¤ ê¸°ë°˜ ì¸ì¦ (íŒ¨ìŠ¤ì›Œë“œ ë¹„í™œì„±í™”)
- ë°©í™”ë²½: í•„ìš”í•œ í¬íŠ¸ë§Œ ì˜¤í”ˆ
- DB, RedisëŠ” ë‚´ë¶€ë§ì—ì„œë§Œ ì ‘ê·¼

---

## 4.4 í¬íŠ¸ ê´€ë¦¬ ì „ëµ

### í¬íŠ¸ ì¶©ëŒ ë¬¸ì œ

ì—¬ëŸ¬ í”„ë¡œì íŠ¸ê°€ ê°™ì€ ì„œë²„ì—ì„œ ëŒì•„ê°€ë©´ í¬íŠ¸ ì¶©ëŒì´ ë°œìƒí•œë‹¤. "ì–´? ì´ í¬íŠ¸ ëˆ„ê°€ ì“°ê³  ìˆì–´?" ì´ëŸ° ìƒí™©ì´ ë§¤ë²ˆ ë²Œì–´ì§„ë‹¤.

### í•´ê²°ì±…: ì²´ê³„ì  í¬íŠ¸ í• ë‹¹

**App í¬íŠ¸ ë²”ìœ„: 3000-3999**
- ê° í”„ë¡œì íŠ¸ì— ìˆœì°¨ì ìœ¼ë¡œ í• ë‹¹
- 3000: í”„ë¡œì íŠ¸ A
- 3001: í”„ë¡œì íŠ¸ B
- 3002: í”„ë¡œì íŠ¸ C...

**DB í¬íŠ¸ ë²”ìœ„: 5400-5499**
- PostgreSQL ê¸°ë³¸ í¬íŠ¸(5432) ëŒ€ì‹  ë³„ë„ ë²”ìœ„ ì‚¬ìš©
- 5400: í”„ë¡œì íŠ¸ A DB
- 5401: í”„ë¡œì íŠ¸ B DB...

**Redis DB Index: 0-15**
- RedisëŠ” ê¸°ë³¸ì ìœ¼ë¡œ 16ê°œ DB ì œê³µ (0-15)
- ê° í”„ë¡œì íŠ¸ì— ë‹¤ë¥¸ DB index í• ë‹¹
- í•„ìš”ì‹œ ë³„ë„ Redis ì¸ìŠ¤í„´ìŠ¤ ì¶”ê°€

### Leo-Managerì˜ ì—­í• 

Leo-Managerê°€ registry.jsonì—ì„œ í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ë¥¼ ì¶”ì í•˜ê³ , ìƒˆ í”„ë¡œì íŠ¸ ìƒì„± ì‹œ ë‹¤ìŒ ê°€ìš© í¬íŠ¸ë¥¼ ìë™ í• ë‹¹í•œë‹¤.

```
leo manager register new-project
â†’ "App í¬íŠ¸ 3005, DB í¬íŠ¸ 5405 í• ë‹¹ë¨"
```

ê°œë°œìëŠ” í¬íŠ¸ ë²ˆí˜¸ë¥¼ ì‹ ê²½ ì“¸ í•„ìš”ê°€ ì—†ë‹¤.

---

## 4.5 í´ë¼ìš°ë“œ í™•ì¥ ì „ëµ: LB + ì˜¤í† ìŠ¤ì¼€ì¼ë§

### ì™œ ì˜¤í† ìŠ¤ì¼€ì¼ë§ì¸ê°€?

ê³ ì • ì„œë²„ êµ¬ì„±ì˜ ë”œë ˆë§ˆ:
- ì„œë²„ë¥¼ ì ê²Œ ë‘ë©´: íŠ¸ë˜í”½ í­ì¦ ì‹œ ì„œë¹„ìŠ¤ ë‹¤ìš´
- ì„œë²„ë¥¼ ë§ì´ ë‘ë©´: í‰ì†Œì— ë¹„ìš© ë‚­ë¹„

ì´ ë”œë ˆë§ˆë¥¼ í•´ê²°í•˜ëŠ” ê²Œ ì˜¤í† ìŠ¤ì¼€ì¼ë§ì´ë‹¤. "í•„ìš”í•  ë•Œë§Œ ì„œë²„ë¥¼ ëŠ˜ë¦¬ê³ , ì•ˆ í•„ìš”í•˜ë©´ ì¤„ì¸ë‹¤."

### ì•„í‚¤í…ì²˜: í•œêµ­ ë¦¬ì „ + LB + ì˜¤í† ìŠ¤ì¼€ì¼ë§

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚          Vultr í•œêµ­ ë¦¬ì „ (ì„œìš¸)           â”‚
                    â”‚                                         â”‚
   ì‚¬ìš©ì ìš”ì²­      â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â–¶â”‚   Load Balancer     â”‚              â”‚
                    â”‚    â”‚   (íŠ¸ë˜í”½ ìë™ ë¶„ë°°)  â”‚              â”‚
                    â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
                    â”‚               â”‚                         â”‚
                    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
                    â”‚    â–¼          â–¼          â–¼              â”‚
                    â”‚ â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”              â”‚
                    â”‚ â”‚ App â”‚  â”‚ App â”‚  â”‚ App â”‚  â† ìë™ ì¦ê°  â”‚
                    â”‚ â”‚ #1  â”‚  â”‚ #2  â”‚  â”‚ #3  â”‚              â”‚
                    â”‚ â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”˜              â”‚
                    â”‚                                         â”‚
                    â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
                    â”‚         â”‚ Auto Scaler  â”‚                â”‚
                    â”‚         â”‚ (CPU ëª¨ë‹ˆí„°ë§)â”‚                â”‚
                    â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì‘ë™ ì›ë¦¬:**
1. **Load Balancer**: ëª¨ë“  íŠ¸ë˜í”½ì˜ ì§„ì…ì . ìš”ì²­ì„ ì—¬ëŸ¬ ì„œë²„ì— ìë™ ë¶„ë°°
2. **Auto Scaler**: ê° ì„œë²„ì˜ CPU/ë©”ëª¨ë¦¬ë¥¼ ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§
3. **ìë™ ì¦ì„¤**: CPU 70% ì´ˆê³¼ ì‹œ ìƒˆ ì„œë²„ ìë™ ìƒì„±
4. **ìë™ ì¶•ì†Œ**: íŠ¸ë˜í”½ ê°ì†Œ ì‹œ ë¶ˆí•„ìš”í•œ ì„œë²„ ìë™ ì œê±°
5. **LB ì¬ë¶„ë°°**: ì„œë²„ ì¶”ê°€/ì œê±° ì‹œ ìë™ìœ¼ë¡œ íŠ¸ë˜í”½ ì¬ë¶„ë°°

### íŠ¸ë˜í”½ë³„ ì„œë²„ ìë™ ì¡°ì ˆ ì‹œë‚˜ë¦¬ì˜¤

```
íŠ¸ë˜í”½ (QPS)     ì„œë²„ ìˆ˜      ìƒíƒœ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
   2,000          2ëŒ€       ğŸŸ¢ í‰ìƒì‹œ (ìƒˆë²½/ì‹¬ì•¼)
   5,000          3ëŒ€       ğŸŸ¢ ì¼ë°˜ ì—…ë¬´ ì‹œê°„
  10,000          5ëŒ€       ğŸŸ¡ í”¼í¬ íƒ€ì„ (ì ì‹¬/ì €ë…)
  20,000          8ëŒ€       ğŸŸ  ì´ë²¤íŠ¸/í”„ë¡œëª¨ì…˜
  50,000         15ëŒ€       ğŸ”´ ëŒ€ê·œëª¨ íŠ¸ë˜í”½ (ë°”ì´ëŸ´)
 100,000         30ëŒ€       ğŸ”´ ì—­ëŒ€ê¸‰ íŠ¸ë˜í”½
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        â†‘                      â†‘
   ìë™ ê°ì§€              ìë™ ì¦ì„¤/ì¶•ì†Œ
```

**ì‹œê°í™”: í•˜ë£¨ íŠ¸ë˜í”½ íŒ¨í„´ê³¼ ì„œë²„ ìˆ˜ ë³€í™”**

```
ì„œë²„ ìˆ˜
   â”‚
 8 â”‚                    â”Œâ”€â”€â”€â”
   â”‚                    â”‚   â”‚     â† ì €ë… í”¼í¬
 6 â”‚          â”Œâ”€â”€â”€â”     â”‚   â”‚
   â”‚          â”‚   â”‚     â”‚   â”‚     â† ì ì‹¬ í”¼í¬  
 4 â”‚      â”Œâ”€â”€â”€â”¤   â”œâ”€â”€â”€â” â”‚   â”œâ”€â”€â”€â”
   â”‚      â”‚   â”‚   â”‚   â”‚ â”‚   â”‚   â”‚
 2 â”‚â”€â”€â”€â”€â”€â”€â”¤   â”‚   â”‚   â”œâ”€â”¤   â”‚   â”œâ”€â”€â”€â”€â”€â”€
   â”‚      â”‚   â”‚   â”‚   â”‚ â”‚   â”‚   â”‚     â† ìƒˆë²½ ìµœì†Œ
   â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”´â”€â”€â”€â”´â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â–¶ ì‹œê°„
   0ì‹œ   6ì‹œ  12ì‹œ  15ì‹œ 18ì‹œ 21ì‹œ  24ì‹œ
```

í•µì‹¬: íŠ¸ë˜í”½ì´ ì¤„ë©´ ì„œë²„ë„ ìë™ìœ¼ë¡œ ì¤„ì–´ì„œ **ë¹„ìš© ìë™ ì ˆê°**

### ì˜¤í† ìŠ¤ì¼€ì¼ë§ êµ¬í˜„ ë°©ì‹

**ë°©ì‹ 1: Vultr API + Cron (ì§ì ‘ êµ¬í˜„)**

```bash
#!/bin/bash
# /opt/scripts/auto-scale.sh
# ë§¤ë¶„ ì‹¤í–‰: * * * * * /opt/scripts/auto-scale.sh

# í˜„ì¬ CPU ì‚¬ìš©ë¥  í™•ì¸
CPU_AVG=$(curl -s http://server1:9100/metrics | grep cpu_usage | awk '{print $2}')

# 70% ì´ˆê³¼ ì‹œ ì„œë²„ ì¶”ê°€
if [ $(echo "$CPU_AVG > 70" | bc) -eq 1 ]; then
    echo "CPU $CPU_AVG% - ì„œë²„ ì¦ì„¤ ì‹œì‘"
    
    # Vultr APIë¡œ ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
    curl -X POST "https://api.vultr.com/v2/instances" \
        -H "Authorization: Bearer $VULTR_API_KEY" \
        -H "Content-Type: application/json" \
        -d '{
            "region": "icn",
            "plan": "vc2-4c-16gb",
            "label": "app-server-auto",
            "os_id": 387,
            "script_id": "bootstrap-app"
        }'
    
    # LBì— ìƒˆ ì„œë²„ ë“±ë¡
    # ... LB ì—…ë°ì´íŠ¸ ë¡œì§
fi

# 30% ë¯¸ë§Œ ì‹œ ì„œë²„ ì¶•ì†Œ (ìµœì†Œ 2ëŒ€ ìœ ì§€)
if [ $(echo "$CPU_AVG < 30" | bc) -eq 1 ]; then
    CURRENT_COUNT=$(curl -s $VULTR_API/instances | jq '.instances | length')
    if [ $CURRENT_COUNT -gt 2 ]; then
        echo "CPU $CPU_AVG% - ì„œë²„ ì¶•ì†Œ"
        # ê°€ì¥ ì˜¤ë˜ëœ auto ì„œë²„ ì œê±°
    fi
fi
```

**ë°©ì‹ 2: Kubernetes HPA (ê¶Œì¥ - ê·œëª¨ê°€ ì»¤ì§€ë©´)**

```yaml
apiVersion: autoscaling/v2
kind: HorizontalPodAutoscaler
metadata:
  name: app-hpa
spec:
  scaleTargetRef:
    apiVersion: apps/v1
    kind: Deployment
    name: next-app
  minReplicas: 2
  maxReplicas: 30
  metrics:
  - type: Resource
    resource:
      name: cpu
      target:
        type: Utilization
        averageUtilization: 70
```

### ì™œ í•œêµ­ ë¦¬ì „(ì„œìš¸)ì¸ê°€?

**ë ˆì´í„´ì‹œ ë¹„êµ:**

| ë¦¬ì „ | í•œêµ­ ì‚¬ìš©ì ê¸°ì¤€ ë ˆì´í„´ì‹œ |
|------|-------------------------|
| ì„œìš¸ (icn) | 5-10ms |
| ë„ì¿„ (nrt) | 30-50ms |
| ì‹±ê°€í¬ë¥´ (sgp) | 80-100ms |
| ë¯¸êµ­ ì„œë¶€ (lax) | 150-200ms |

**5-10ms vs 150ms = ì‚¬ìš©ì ì²´ê° ì°¨ì´ ì—„ì²­ë‚¨**

íŠ¹íˆ ì‹¤ì‹œê°„ ì„œë¹„ìŠ¤(ì±„íŒ…, ê²Œì„, ë¼ì´ë¸Œ)ì—ì„œëŠ” ì´ ì°¨ì´ê°€ ê²°ì •ì ì´ë‹¤.

### ë¹„ìš© ìµœì í™” íš¨ê³¼

**ê³ ì • ì„œë²„ ë°©ì‹ (ê¸°ì¡´):**
- í”¼í¬ ëŒ€ë¹„ ì„œë²„ 10ëŒ€ ìƒì‹œ ìš´ì˜
- ì›” ë¹„ìš©: $800 (24ì‹œê°„ Ã— 30ì¼ Ã— 10ëŒ€)

**ì˜¤í† ìŠ¤ì¼€ì¼ë§ ë°©ì‹ (ì‹ ê·œ):**
- í‰ê·  4ëŒ€, í”¼í¬ ì‹œë§Œ 10ëŒ€
- ì›” ë¹„ìš©: ì•½ $350 (í‰ê·  ì‚¬ìš©ëŸ‰ ê¸°ì¤€)
- **ì ˆê°ì•¡: ì›” $450 (56% ì ˆê°)**

```
ë¹„ìš©
  â”‚
$800â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â† ê³ ì • ì„œë²„ (í•­ìƒ í”¼í¬ ëŒ€ë¹„)
    â”‚
$500â”‚         â•±â•²      â•±â•²
    â”‚        â•±  â•²    â•±  â•²       â† ì˜¤í† ìŠ¤ì¼€ì¼ë§ (í•„ìš”í•  ë•Œë§Œ)
$200â”‚â”€â”€â”€â”€â”€â”€â”€â•±â”€â”€â”€â”€â•²â”€â”€â•±â”€â”€â”€â”€â•²â”€â”€â”€â”€
    â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶ ì‹œê°„
```

### ì˜¤í† ìŠ¤ì¼€ì¼ë§ ë„ì… ë¡œë“œë§µ

**Phase 1: ëª¨ë‹ˆí„°ë§ ê¸°ë°˜ êµ¬ì¶• (í˜„ì¬)**
- Prometheusë¡œ CPU/ë©”ëª¨ë¦¬ ë©”íŠ¸ë¦­ ìˆ˜ì§‘
- Grafana ëŒ€ì‹œë³´ë“œë¡œ íŠ¸ë˜í”½ íŒ¨í„´ íŒŒì•…
- ìˆ˜ë™ ìŠ¤ì¼€ì¼ë§ìœ¼ë¡œ ì‹œì‘

**Phase 2: ë°˜ìë™ ìŠ¤ì¼€ì¼ë§**
- ì•Œë¦¼ ê¸°ë°˜: "CPU 70% ì´ˆê³¼" â†’ Slack ì•Œë¦¼ â†’ ìˆ˜ë™ ì„œë²„ ì¶”ê°€
- ìŠ¤í¬ë¦½íŠ¸í™”: ì„œë²„ ì¶”ê°€/ì œê±° ì›í´ë¦­

**Phase 3: ì™„ì „ ìë™ ìŠ¤ì¼€ì¼ë§**
- Cron + Vultr APIë¡œ ìë™ ì¦ì„¤/ì¶•ì†Œ
- LB ìë™ ì—…ë°ì´íŠ¸
- ì‚¬ëŒ ê°œì… 0

**Phase 4: ì¿ ë²„ë„¤í‹°ìŠ¤ ì „í™˜ (ì„ íƒ)**
- íŠ¸ë˜í”½ì´ ë” ì»¤ì§€ë©´ K8s HPAë¡œ ì „í™˜
- ë” ì„¸ë°€í•œ ìŠ¤ì¼€ì¼ë§, ë” ë¹ ë¥¸ ë°˜ì‘

### í•µì‹¬ ì •ë¦¬

| êµ¬ì„± ìš”ì†Œ | ì—­í•  |
|----------|------|
| **í•œêµ­ ë¦¬ì „** | ë‚®ì€ ë ˆì´í„´ì‹œ (5-10ms) |
| **Load Balancer** | íŠ¸ë˜í”½ ìë™ ë¶„ë°° |
| **Auto Scaler** | CPU ëª¨ë‹ˆí„°ë§ â†’ ì„œë²„ ìë™ ì¦ê° |
| **Vultr API** | í”„ë¡œê·¸ë˜ë§¤í‹± ì„œë²„ ìƒì„±/ì‚­ì œ |

**í•œ ì¤„ ìš”ì•½:**
> "íŠ¸ë˜í”½ í­ì¦í•´ë„ ìë™ ëŒ€ì‘, íŠ¸ë˜í”½ ì¤„ë©´ ìë™ ë¹„ìš© ì ˆê°"

---

## 4.6 IaC (Infrastructure as Code): Terraformìœ¼ë¡œ ì¸í”„ë¼ ì½”ë“œí™”

### IaCê°€ ë­ê³  ì™œ í•„ìš”í•œê°€?

**ê¸°ì¡´ ë°©ì‹ (ìˆ˜ë™ í´ë¦­):**
1. Vultr ì½˜ì†” ë¡œê·¸ì¸
2. "Create Server" ë²„íŠ¼ í´ë¦­
3. ë¦¬ì „ ì„ íƒ, ìŠ¤í™ ì„ íƒ, OS ì„ íƒ...
4. ë°©í™”ë²½ ê·œì¹™ ìˆ˜ë™ ì„¤ì •
5. SSH í‚¤ ìˆ˜ë™ ë“±ë¡
6. ë‹¤ìŒ ì„œë²„ë„ ê°™ì€ ê³¼ì • ë°˜ë³µ...

**ë¬¸ì œì :**
- ì‹¤ìˆ˜í•˜ê¸° ì‰¬ì›€ (í´ë¦­ í•˜ë‚˜ ë¹ ëœ¨ë¦¬ë©´ ì„¤ì • ë‹¤ë¦„)
- ì¬í˜„ ë¶ˆê°€ëŠ¥ (ë™ì¼í•œ ì„œë²„ ë‹¤ì‹œ ë§Œë“¤ê¸° ì–´ë ¤ì›€)
- ë²„ì „ ê´€ë¦¬ ë¶ˆê°€ (ëˆ„ê°€ ì–¸ì œ ë­˜ ë°”ê¿¨ëŠ”ì§€ ëª¨ë¦„)
- í™•ì¥ ì–´ë ¤ì›€ (ì„œë²„ 10ëŒ€ ë§Œë“¤ë ¤ë©´ 10ë²ˆ ë°˜ë³µ)

**IaC ë°©ì‹:**
```hcl
# main.tf - ì´ íŒŒì¼ í•˜ë‚˜ë¡œ ì¸í”„ë¼ ì „ì²´ ì •ì˜
resource "vultr_instance" "app_server" {
  count     = 3  # ì„œë²„ 3ëŒ€ ìë™ ìƒì„±
  plan      = "vc2-4c-16gb"
  region    = "icn"  # ì„œìš¸
  os_id     = 387    # Ubuntu 22.04
  label     = "app-server-${count.index + 1}"
  
  ssh_key_ids = [vultr_ssh_key.deploy.id]
  firewall_group_id = vultr_firewall_group.web.id
}
```

**terraform apply** í•œ ë²ˆì´ë©´ ì„œë²„ 3ëŒ€ê°€ ë™ì¼í•œ ì„¤ì •ìœ¼ë¡œ ìƒì„±ëœë‹¤.

### Terraformì„ ì„ íƒí•œ ì´ìœ 

**ê²½ìŸìë“¤ê³¼ ë¹„êµ:**

| ë„êµ¬ | ì¥ì  | ë‹¨ì  |
|------|------|------|
| **Terraform** | ë©€í‹° í´ë¼ìš°ë“œ, ê±°ëŒ€í•œ ìƒíƒœê³„ | í•™ìŠµ ê³¡ì„  |
| Ansible | ì„œë²„ ì„¤ì •ì— ê°•í•¨ | ì¸í”„ë¼ ìƒì„±ì€ ì•½í•¨ |
| Pulumi | ì¼ë°˜ ì–¸ì–´ë¡œ ì‘ì„± | ìƒíƒœê³„ ì‘ìŒ |
| CloudFormation | AWS ë„¤ì´í‹°ë¸Œ | AWS ì „ìš© |

**Terraform ì„ íƒ ì´ìœ :**
1. **Vultr ê³µì‹ Provider ì¡´ì¬**: `vultr/vultr` providerê°€ ì˜ ê´€ë¦¬ë¨
2. **ìƒíƒœ ê´€ë¦¬**: terraform.tfstateë¡œ í˜„ì¬ ì¸í”„ë¼ ìƒíƒœ ì¶”ì 
3. **Plan ê¸°ëŠ¥**: ì‹¤ì œ ì ìš© ì „ ë³€ê²½ì‚¬í•­ ë¯¸ë¦¬ë³´ê¸°
4. **ë©€í‹° í´ë¼ìš°ë“œ**: ë‚˜ì¤‘ì— AWS/GCP ì¶”ê°€í•´ë„ ê°™ì€ ë„êµ¬ ì‚¬ìš©

### ìš°ë¦¬ ì¸í”„ë¼ì˜ Terraform êµ¬ì¡°

```
infra-terraform/
â”œâ”€â”€ environments/
â”‚   â”œâ”€â”€ dev/
â”‚   â”‚   â”œâ”€â”€ main.tf
â”‚   â”‚   â”œâ”€â”€ variables.tf
â”‚   â”‚   â””â”€â”€ terraform.tfvars
â”‚   â”œâ”€â”€ staging/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ prod/
â”‚       â””â”€â”€ ...
â”œâ”€â”€ modules/
â”‚   â”œâ”€â”€ vultr-instance/
â”‚   â”‚   â”œâ”€â”€ main.tf
â”‚   â”‚   â”œâ”€â”€ variables.tf
â”‚   â”‚   â””â”€â”€ outputs.tf
â”‚   â”œâ”€â”€ vultr-firewall/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ vultr-lb/
â”‚       â””â”€â”€ ...
â””â”€â”€ README.md
```

**í•µì‹¬ ì›ì¹™: í™˜ê²½ë³„ ë¶„ë¦¬ + ëª¨ë“ˆ ì¬ì‚¬ìš©**

### ì£¼ìš” ë¦¬ì†ŒìŠ¤ ì •ì˜ ì˜ˆì‹œ

**1. VPC ë„¤íŠ¸ì›Œí¬ + ë°©í™”ë²½**
```hcl
# modules/vultr-firewall/main.tf
resource "vultr_firewall_group" "main" {
  description = "${var.project_name}-firewall"
}

resource "vultr_firewall_rule" "ssh" {
  firewall_group_id = vultr_firewall_group.main.id
  protocol          = "tcp"
  ip_type           = "v4"
  subnet            = var.office_ip  # ì‚¬ë¬´ì‹¤ IPë§Œ SSH í—ˆìš©
  subnet_size       = 32
  port              = "22"
}

resource "vultr_firewall_rule" "http" {
  firewall_group_id = vultr_firewall_group.main.id
  protocol          = "tcp"
  ip_type           = "v4"
  subnet            = "0.0.0.0"  # ì „ì²´ í—ˆìš©
  subnet_size       = 0
  port              = "80"
}

resource "vultr_firewall_rule" "https" {
  firewall_group_id = vultr_firewall_group.main.id
  protocol          = "tcp"
  ip_type           = "v4"
  subnet            = "0.0.0.0"
  subnet_size       = 0
  port              = "443"
}
```

**2. App ì„œë²„ ì¸ìŠ¤í„´ìŠ¤**
```hcl
# modules/vultr-instance/main.tf
resource "vultr_instance" "app" {
  count             = var.instance_count
  plan              = var.plan
  region            = "icn"  # ì„œìš¸
  os_id             = 387    # Ubuntu 22.04
  label             = "${var.project_name}-app-${count.index + 1}"
  hostname          = "${var.project_name}-app-${count.index + 1}"
  
  ssh_key_ids       = var.ssh_key_ids
  firewall_group_id = var.firewall_group_id
  
  # ì„œë²„ ìƒì„± í›„ ì´ˆê¸° ì„¤ì • ìŠ¤í¬ë¦½íŠ¸
  script_id         = vultr_startup_script.init.id
  
  tags = [var.environment, var.project_name]
}

# ì´ˆê¸°í™” ìŠ¤í¬ë¦½íŠ¸
resource "vultr_startup_script" "init" {
  name   = "${var.project_name}-init"
  type   = "boot"
  script = base64encode(<<-EOF
    #!/bin/bash
    apt-get update
    apt-get install -y podman podman-compose
    
    # Quadlet ë””ë ‰í† ë¦¬ ìƒì„±
    mkdir -p /etc/containers/systemd
    
    # ë°°í¬ ì‚¬ìš©ì ìƒì„±
    useradd -m -s /bin/bash deploy
    usermod -aG sudo deploy
  EOF
  )
}
```

**3. Load Balancer**
```hcl
# modules/vultr-lb/main.tf
resource "vultr_load_balancer" "main" {
  region              = "icn"
  label               = "${var.project_name}-lb"
  balancing_algorithm = "roundrobin"
  
  forwarding_rules {
    frontend_protocol = "https"
    frontend_port     = 443
    backend_protocol  = "http"
    backend_port      = 3000
  }
  
  health_check {
    protocol            = "http"
    port                = 3000
    path                = "/api/health"
    check_interval      = 10
    response_timeout    = 5
    unhealthy_threshold = 3
    healthy_threshold   = 2
  }
  
  ssl {
    certificate = var.ssl_cert
    private_key = var.ssl_key
  }
}

# ì¸ìŠ¤í„´ìŠ¤ë“¤ì„ LBì— ì—°ê²°
resource "vultr_load_balancer_target_group" "app" {
  load_balancer_id = vultr_load_balancer.main.id
  
  dynamic "instance" {
    for_each = var.app_instance_ids
    content {
      instance_id = instance.value
    }
  }
}
```

### Terraform ì›Œí¬í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Terraform ì›Œí¬í”Œë¡œìš°                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  1. terraform init     â†’ Provider ë‹¤ìš´ë¡œë“œ, ì´ˆê¸°í™”          â”‚
â”‚         â†“                                                   â”‚
â”‚  2. terraform plan     â†’ ë³€ê²½ì‚¬í•­ ë¯¸ë¦¬ë³´ê¸° (Dry Run)         â”‚
â”‚         â†“                                                   â”‚
â”‚  3. terraform apply    â†’ ì‹¤ì œ ì¸í”„ë¼ ìƒì„±/ìˆ˜ì •              â”‚
â”‚         â†“                                                   â”‚
â”‚  4. terraform.tfstate  â†’ í˜„ì¬ ìƒíƒœ ì €ì¥ (ë²„ì „ ê´€ë¦¬ í•„ìˆ˜!)    â”‚
â”‚                                                             â”‚
â”‚  ë¡¤ë°±: terraform destroy â†’ ì „ì²´ ì¸í”„ë¼ ì‚­ì œ                  â”‚
â”‚  ë˜ëŠ”: Gitì—ì„œ ì´ì „ ë²„ì „ checkout â†’ terraform apply          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Terraform + Git = ì¸í”„ë¼ ë²„ì „ ê´€ë¦¬

```bash
# ì¸í”„ë¼ ë³€ê²½ ì´ë ¥
git log --oneline infra-terraform/

a1b2c3d ì„œë²„ 4ëŒ€ â†’ 6ëŒ€ ì¦ì„¤
d4e5f6g ë°©í™”ë²½ ê·œì¹™ ì¶”ê°€: ì‚¬ë¬´ì‹¤ IP
g7h8i9j LB í—¬ìŠ¤ì²´í¬ ê°„ê²© ì¡°ì •
j0k1l2m ì´ˆê¸° ì¸í”„ë¼ êµ¬ì„±
```

**"ëˆ„ê°€ ì–¸ì œ ì™œ ì¸í”„ë¼ë¥¼ ë°”ê¿¨ëŠ”ì§€" ì™„ë²½ ì¶”ì  ê°€ëŠ¥**

---

## 4.7 ëŸ°íƒ€ì„ ìš´ì˜: Podman + Quadlet + systemd

### ì™œ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ ì•„ë‹Œê°€?

ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” ê°•ë ¥í•˜ë‹¤. í•˜ì§€ë§Œ:

| í•­ëª© | Kubernetes | Podman + Quadlet |
|------|------------|------------------|
| í•™ìŠµ ê³¡ì„  | ë§¤ìš° ê°€íŒŒë¦„ (6ê°œì›”+) | ì™„ë§Œí•¨ (1-2ì£¼) |
| ìµœì†Œ ë¦¬ì†ŒìŠ¤ | Control Planeë§Œ 4GB+ | ê±°ì˜ ì—†ìŒ |
| ìš´ì˜ ë³µì¡ë„ | ë†’ìŒ (etcd, API server...) | ë‚®ìŒ (systemdë§Œ) |
| ì í•© ê·œëª¨ | 100+ ì»¨í…Œì´ë„ˆ | 10-50 ì»¨í…Œì´ë„ˆ |

**ìš°ë¦¬ ê·œëª¨ (6ëª…, 10ê°œ í”„ë¡œì íŠ¸)ì—ì„œ K8sëŠ” ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ì´ë‹¤.**

ëŒ€ì‹  Podman + Quadlet + systemd ì¡°í•©ì„ ì„ íƒí–ˆë‹¤. ì´ ì¡°í•©ì´ ì£¼ëŠ” ê²ƒ:
- ì»¨í…Œì´ë„ˆ ì‹¤í–‰ (Podman)
- ì„ ì–¸ì  ì„¤ì • (Quadlet)
- ìë™ ì¬ì‹œì‘/ê°ì‹œ (systemd)
- **ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ í•µì‹¬ ê°€ì¹˜ë¥¼ í›¨ì”¬ ë‹¨ìˆœí•˜ê²Œ ì–»ìŒ**

### Quadletì´ ë­”ê°€?

Quadletì€ ì»¨í…Œì´ë„ˆ ì„¤ì •ì„ systemd ì„œë¹„ìŠ¤ íŒŒì¼ë¡œ ë³€í™˜í•´ì£¼ëŠ” ë„êµ¬ë‹¤.

**ê¸°ì¡´ ë°©ì‹ (ìˆ˜ë™ ê´€ë¦¬):**
```bash
# ì»¨í…Œì´ë„ˆ ì§ì ‘ ì‹¤í–‰
podman run -d --name myapp -p 3000:3000 myapp:latest

# ë¬¸ì œ: ì„œë²„ ì¬ë¶€íŒ…í•˜ë©´? ì»¨í…Œì´ë„ˆ ì£½ìœ¼ë©´?
# â†’ ìˆ˜ë™ìœ¼ë¡œ ë‹¤ì‹œ ì‹¤í–‰í•´ì•¼ í•¨
```

**Quadlet ë°©ì‹ (ì„ ì–¸ì  ê´€ë¦¬):**
```ini
# /etc/containers/systemd/myapp.container
[Container]
Image=ghcr.io/leocompany/myapp:latest
PublishPort=3000:3000
Environment=NODE_ENV=production
Environment=DATABASE_URL=postgresql://...

[Service]
Restart=always
RestartSec=10

[Install]
WantedBy=default.target
```

ì´ íŒŒì¼ í•˜ë‚˜ ë‘ë©´:
- ì„œë²„ ë¶€íŒ… ì‹œ ìë™ ì‹œì‘
- ì»¨í…Œì´ë„ˆ ì£½ìœ¼ë©´ 10ì´ˆ í›„ ìë™ ì¬ì‹œì‘
- `systemctl status myapp` ë¡œ ìƒíƒœ í™•ì¸
- `journalctl -u myapp` ë¡œ ë¡œê·¸ í™•ì¸

### PM2 vs Quadlet+systemd ë¹„êµ

PM2ëŠ” Node.js ì„¸ê³„ì—ì„œ ë„ë¦¬ ì“°ì´ëŠ” í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬ìë‹¤. ì™œ Quadletì„ ì„ íƒí–ˆëŠ”ê°€?

| í•­ëª© | PM2 | Quadlet + systemd |
|------|-----|-------------------|
| **ì ìš© ë²”ìœ„** | Node.js ì „ìš© | ëª¨ë“  ì»¨í…Œì´ë„ˆ (Node, Go, Python...) |
| **ì˜ì¡´ì„±** | Node.js ëŸ°íƒ€ì„ í•„ìš” | OS ë‚´ì¥ (ì¶”ê°€ ì„¤ì¹˜ ì—†ìŒ) |
| **ì»¨í…Œì´ë„ˆ ì§€ì›** | ë³„ë„ ì„¤ì • í•„ìš” | ë„¤ì´í‹°ë¸Œ ì§€ì› |
| **ë¡œê·¸ ê´€ë¦¬** | pm2 logs | journalctl (ì‹œìŠ¤í…œ í†µí•©) |
| **ë¦¬ì†ŒìŠ¤ ì œí•œ** | ì œí•œì  | cgroups ì™„ë²½ ì§€ì› |
| **ë³´ì•ˆ** | ì¼ë°˜ ì‚¬ìš©ì ê¶Œí•œ | SELinux/AppArmor í†µí•© |
| **í‘œì¤€í™”** | Node.js ìƒíƒœê³„ í•œì • | ë¦¬ëˆ…ìŠ¤ í‘œì¤€ |

**í•µì‹¬ ì°¨ì´:**
- PM2: "Node.js ì•±ì„ ê´€ë¦¬í•˜ëŠ” ë„êµ¬"
- Quadlet+systemd: "ë¦¬ëˆ…ìŠ¤ ì‹œìŠ¤í…œì´ ì»¨í…Œì´ë„ˆë¥¼ ê´€ë¦¬"

PM2ëŠ” ì¢‹ì€ ë„êµ¬ì§€ë§Œ, ì»¨í…Œì´ë„ˆ ì¤‘ì‹¬ ì•„í‚¤í…ì²˜ì—ì„œëŠ” Quadletì´ ë” ì í•©í•˜ë‹¤.

### ì‹¤ì œ Quadlet ì„¤ì • ì˜ˆì‹œ

**Next.js ì•± ì»¨í…Œì´ë„ˆ:**
```ini
# /etc/containers/systemd/nextjs-app.container
[Unit]
Description=Next.js Application
After=network-online.target
Wants=network-online.target

[Container]
Image=ghcr.io/leocompany/nextjs-app:latest
PublishPort=3000:3000
Network=leo-private-net

# í™˜ê²½ë³€ìˆ˜
Environment=NODE_ENV=production
Environment=NEXTAUTH_URL=https://app.leocompany.com
EnvironmentFile=/etc/leocompany/nextjs-app.env

# ë¦¬ì†ŒìŠ¤ ì œí•œ
PodmanArgs=--memory=2g --cpus=2

# í—¬ìŠ¤ì²´í¬
HealthCmd=curl -f http://localhost:3000/api/health || exit 1
HealthInterval=30s
HealthTimeout=10s
HealthRetries=3

[Service]
Restart=always
RestartSec=10
TimeoutStartSec=300

[Install]
WantedBy=multi-user.target
```

**PostgreSQL ë°ì´í„°ë² ì´ìŠ¤:**
```ini
# /etc/containers/systemd/postgres.container
[Unit]
Description=PostgreSQL Database
Before=nextjs-app.service

[Container]
Image=postgres:15
PublishPort=5432:5432
Network=leo-private-net

Environment=POSTGRES_USER=leo
Environment=POSTGRES_PASSWORD_FILE=/run/secrets/db_password
Environment=POSTGRES_DB=leoapp

# ë°ì´í„° ì˜ì†ì„±
Volume=/var/lib/leocompany/postgres:/var/lib/postgresql/data:Z

# ë¦¬ì†ŒìŠ¤ ì œí•œ
PodmanArgs=--memory=4g --cpus=2

[Service]
Restart=always
RestartSec=10

[Install]
WantedBy=multi-user.target
```

### ì„œë¹„ìŠ¤ ê´€ë¦¬ ëª…ë ¹ì–´

```bash
# ìƒíƒœ í™•ì¸
systemctl status nextjs-app

# ì‹œì‘/ì •ì§€/ì¬ì‹œì‘
systemctl start nextjs-app
systemctl stop nextjs-app
systemctl restart nextjs-app

# ë¡œê·¸ í™•ì¸
journalctl -u nextjs-app -f          # ì‹¤ì‹œê°„ ë¡œê·¸
journalctl -u nextjs-app --since today  # ì˜¤ëŠ˜ ë¡œê·¸

# ë¶€íŒ… ì‹œ ìë™ ì‹œì‘ ì„¤ì •
systemctl enable nextjs-app

# ì„¤ì • ë³€ê²½ í›„ ë¦¬ë¡œë“œ
systemctl daemon-reload
systemctl restart nextjs-app
```

**ìµìˆ™í•œ ëª…ë ¹ì–´ë¡œ ì»¨í…Œì´ë„ˆ ê´€ë¦¬ - ìƒˆë¡œ ë°°ìš¸ ê²Œ ì—†ìŒ**

### ë°°í¬ ìë™í™” í…œí”Œë¦¿

ì„œë²„ì— ìƒˆ ë²„ì „ ë°°í¬ ì‹œ:

```bash
#!/bin/bash
# /opt/scripts/deploy.sh

APP_NAME=$1
NEW_TAG=$2

echo "ğŸš€ ë°°í¬ ì‹œì‘: $APP_NAME â†’ $NEW_TAG"

# 1. ìƒˆ ì´ë¯¸ì§€ Pull
podman pull ghcr.io/leocompany/$APP_NAME:$NEW_TAG

# 2. Quadlet íŒŒì¼ì˜ ì´ë¯¸ì§€ íƒœê·¸ ì—…ë°ì´íŠ¸
sed -i "s|Image=.*$APP_NAME:.*|Image=ghcr.io/leocompany/$APP_NAME:$NEW_TAG|" \
    /etc/containers/systemd/$APP_NAME.container

# 3. systemd ë¦¬ë¡œë“œ ë° ì¬ì‹œì‘
systemctl daemon-reload
systemctl restart $APP_NAME

# 4. í—¬ìŠ¤ì²´í¬ ëŒ€ê¸°
echo "â³ í—¬ìŠ¤ì²´í¬ ëŒ€ê¸° ì¤‘..."
for i in {1..30}; do
    if curl -s http://localhost:3000/api/health | grep -q "ok"; then
        echo "âœ… ë°°í¬ ì„±ê³µ!"
        exit 0
    fi
    sleep 2
done

echo "âŒ í—¬ìŠ¤ì²´í¬ ì‹¤íŒ¨ - ë¡¤ë°± í•„ìš”"
exit 1
```

---

## 4.8 CI/CD: GitHub Actions + AI ë¹Œë“œ ë¶„ì„

### CI/CD íŒŒì´í”„ë¼ì¸ ì „ì²´ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         CI/CD íŒŒì´í”„ë¼ì¸                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  ê°œë°œì                                                            â”‚
â”‚    â”‚                                                               â”‚
â”‚    â–¼                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ì½”ë“œ    â”‚â”€â”€â”€â–¶â”‚  ë¹Œë“œ   â”‚â”€â”€â”€â–¶â”‚ í…ŒìŠ¤íŠ¸  â”‚â”€â”€â”€â–¶â”‚ ì´ë¯¸ì§€  â”‚    â”‚
â”‚  â”‚  Push    â”‚    â”‚ (Next.js)â”‚    â”‚ (Jest,   â”‚    â”‚ ë¹Œë“œ    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚ Playwright)   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚          â”‚
â”‚                                       â”‚                â–¼          â”‚
â”‚                                       â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚                                       â”‚         â”‚ Registry â”‚      â”‚
â”‚                                       â”‚         â”‚ (GHCR)   â”‚      â”‚
â”‚                                       â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚                â”‚          â”‚
â”‚  â”‚  Slack   â”‚â—€â”€â”€â”€â”‚ ë°°í¬    â”‚â—€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚  â”‚  ì•Œë¦¼    â”‚    â”‚ (ì„œë²„)   â”‚                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                     â”‚
â”‚                       â”‚                                            â”‚
â”‚                       â–¼                                            â”‚
â”‚                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚                 â”‚ Quadlet  â”‚                                       â”‚
â”‚                 â”‚ +systemd â”‚                                       â”‚
â”‚                 â”‚ ìë™ì¬ì‹œì‘â”‚                                       â”‚
â”‚                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### GitHub Actions ì›Œí¬í”Œë¡œìš°

```yaml
# .github/workflows/deploy.yml
name: Build and Deploy

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

env:
  REGISTRY: ghcr.io
  IMAGE_NAME: ${{ github.repository }}

jobs:
  # ========== ë¹Œë“œ & í…ŒìŠ¤íŠ¸ ==========
  build:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Setup Node.js
        uses: actions/setup-node@v4
        with:
          node-version: '20'
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Type check
        run: npm run type-check
      
      - name: Lint
        run: npm run lint
      
      - name: Unit tests
        run: npm run test
      
      - name: Build
        run: npm run build
      
      - name: E2E tests
        run: npm run test:e2e

  # ========== ì´ë¯¸ì§€ ë¹Œë“œ & í‘¸ì‹œ ==========
  docker:
    needs: build
    runs-on: ubuntu-latest
    if: github.event_name == 'push'
    
    permissions:
      contents: read
      packages: write
    
    outputs:
      image_tag: ${{ steps.meta.outputs.tags }}
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Log in to Container Registry
        uses: docker/login-action@v3
        with:
          registry: ${{ env.REGISTRY }}
          username: ${{ github.actor }}
          password: ${{ secrets.GITHUB_TOKEN }}
      
      - name: Extract metadata
        id: meta
        uses: docker/metadata-action@v5
        with:
          images: ${{ env.REGISTRY }}/${{ env.IMAGE_NAME }}
          tags: |
            type=sha,prefix=
            type=ref,event=branch
      
      - name: Build and push
        uses: docker/build-push-action@v5
        with:
          context: .
          push: true
          tags: ${{ steps.meta.outputs.tags }}
          cache-from: type=gha
          cache-to: type=gha,mode=max

  # ========== ë°°í¬ ==========
  deploy-dev:
    needs: docker
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/develop'
    environment: development
    
    steps:
      - name: Deploy to Dev Server
        uses: appleboy/ssh-action@v1
        with:
          host: ${{ secrets.DEV_SERVER_HOST }}
          username: deploy
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          script: |
            /opt/scripts/deploy.sh nextjs-app ${{ github.sha }}
      
      - name: Notify Slack
        uses: slackapi/slack-github-action@v1
        with:
          payload: |
            {
              "text": "ğŸš€ Dev ë°°í¬ ì™„ë£Œ: ${{ github.repository }}@${{ github.sha }}"
            }
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }}

  deploy-prod:
    needs: docker
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/main'
    environment: production
    
    steps:
      - name: Deploy to Production
        uses: appleboy/ssh-action@v1
        with:
          host: ${{ secrets.PROD_SERVER_HOST }}
          username: deploy
          key: ${{ secrets.SSH_PRIVATE_KEY }}
          script: |
            /opt/scripts/deploy-bluegreen.sh nextjs-app ${{ github.sha }}
```

### AI ìë™ ë¹Œë“œ ì‹¤íŒ¨ ë¶„ì„

ë¹Œë“œê°€ ì‹¤íŒ¨í•˜ë©´ Claudeê°€ ìë™ìœ¼ë¡œ ì›ì¸ì„ ë¶„ì„í•œë‹¤.

```yaml
# .github/workflows/ai-analysis.yml
name: AI Build Failure Analysis

on:
  workflow_run:
    workflows: ["Build and Deploy"]
    types: [completed]

jobs:
  analyze-failure:
    if: ${{ github.event.workflow_run.conclusion == 'failure' }}
    runs-on: ubuntu-latest
    
    steps:
      - uses: actions/checkout@v4
      
      - name: Download logs
        uses: actions/download-artifact@v4
        with:
          name: build-logs
          run-id: ${{ github.event.workflow_run.id }}
      
      - name: Analyze with Claude
        id: analysis
        env:
          ANTHROPIC_API_KEY: ${{ secrets.ANTHROPIC_API_KEY }}
        run: |
          # ë¡œê·¸ íŒŒì¼ì—ì„œ ì—ëŸ¬ ë¶€ë¶„ ì¶”ì¶œ
          ERROR_LOG=$(tail -100 build.log | grep -A 20 "error\|Error\|ERROR")
          
          # Claude API í˜¸ì¶œ
          ANALYSIS=$(curl -s https://api.anthropic.com/v1/messages \
            -H "x-api-key: $ANTHROPIC_API_KEY" \
            -H "anthropic-version: 2023-06-01" \
            -H "content-type: application/json" \
            -d "{
              \"model\": \"claude-sonnet-4-20250514\",
              \"max_tokens\": 1024,
              \"messages\": [{
                \"role\": \"user\",
                \"content\": \"ë‹¤ìŒ ë¹Œë“œ ì—ëŸ¬ë¥¼ ë¶„ì„í•˜ê³  í•´ê²° ë°©ë²•ì„ ì œì‹œí•´ì¤˜:\n\n$ERROR_LOG\"
              }]
            }" | jq -r '.content[0].text')
          
          echo "analysis=$ANALYSIS" >> $GITHUB_OUTPUT
      
      - name: Create Issue with Analysis
        uses: actions/github-script@v7
        with:
          script: |
            const analysis = `${{ steps.analysis.outputs.analysis }}`;
            
            await github.rest.issues.create({
              owner: context.repo.owner,
              repo: context.repo.repo,
              title: `ğŸ”´ ë¹Œë“œ ì‹¤íŒ¨ ë¶„ì„: ${context.sha.substring(0, 7)}`,
              body: `## ë¹Œë“œ ì‹¤íŒ¨ ìë™ ë¶„ì„\n\n` +
                    `**ì»¤ë°‹:** ${context.sha}\n` +
                    `**ë¸Œëœì¹˜:** ${context.ref}\n\n` +
                    `### AI ë¶„ì„ ê²°ê³¼\n\n${analysis}\n\n` +
                    `### ê´€ë ¨ ë§í¬\n` +
                    `- [ì‹¤íŒ¨í•œ ì›Œí¬í”Œë¡œìš°](${context.payload.workflow_run.html_url})`,
              labels: ['bug', 'build-failure', 'ai-analyzed']
            });
      
      - name: Notify Slack
        uses: slackapi/slack-github-action@v1
        with:
          payload: |
            {
              "text": "ğŸ”´ ë¹Œë“œ ì‹¤íŒ¨\në¶„ì„: ${{ steps.analysis.outputs.analysis }}"
            }
        env:
          SLACK_WEBHOOK_URL: ${{ secrets.SLACK_WEBHOOK }}
```

**AI ë¶„ì„ì´ ì£¼ëŠ” ê°€ì¹˜:**
- ë¹Œë“œ ì‹¤íŒ¨ ì‹œ ì—ëŸ¬ ë¡œê·¸ë¥¼ Claudeê°€ ìë™ ë¶„ì„
- ì›ì¸ê³¼ í•´ê²° ë°©ë²•ì„ ì¦‰ì‹œ ì œì‹œ
- GitHub Issue ìë™ ìƒì„±
- ê°œë°œìê°€ ë¡œê·¸ ë¶„ì„í•˜ëŠ” ì‹œê°„ ì ˆì•½

### í…ŒìŠ¤íŠ¸ í™˜ê²½ / ìš´ì˜ í™˜ê²½ ë¶„ë¦¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        í™˜ê²½ ë¶„ë¦¬ êµ¬ì¡°                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                 â”‚
â”‚   develop ë¸Œëœì¹˜                    main ë¸Œëœì¹˜                 â”‚
â”‚        â”‚                                â”‚                       â”‚
â”‚        â–¼                                â–¼                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚   â”‚   Dev   â”‚                      â”‚  Prod   â”‚                 â”‚
â”‚   â”‚ Server  â”‚                      â”‚ Server  â”‚                 â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â”‚        â”‚                                â”‚                       â”‚
â”‚   dev.app.com                      app.com                      â”‚
â”‚   dev-db (ë³„ë„)                    prod-db                      â”‚
â”‚   í…ŒìŠ¤íŠ¸ ë°ì´í„°                     ì‹¤ì œ ë°ì´í„°                  â”‚
â”‚                                                                 â”‚
â”‚   âœ… ììœ ë¡­ê²Œ ë°°í¬                  âœ… ìŠ¹ì¸ í•„ìš”                 â”‚
â”‚   âœ… ì–¸ì œë“  ì´ˆê¸°í™” ê°€ëŠ¥             âŒ ë°ì´í„° ë³´ì¡´ í•„ìˆ˜          â”‚
â”‚   âœ… ì‹¤í—˜ ê°€ëŠ¥                      âŒ ì•ˆì •ì„± ìµœìš°ì„              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**í™˜ê²½ë³„ ì„¤ì •:**

| í•­ëª© | Development | Production |
|------|-------------|------------|
| URL | dev.app.leocompany.com | app.leocompany.com |
| DB | dev-db (í…ŒìŠ¤íŠ¸ ë°ì´í„°) | prod-db (ì‹¤ì œ ë°ì´í„°) |
| ë°°í¬ íŠ¸ë¦¬ê±° | develop ë¸Œëœì¹˜ push | main ë¸Œëœì¹˜ + ìŠ¹ì¸ |
| ë°°í¬ ë°©ì‹ | ì¦‰ì‹œ ë°˜ì˜ | Blue/Green |
| ëª¨ë‹ˆí„°ë§ | ê¸°ë³¸ | ìƒì„¸ + ì•Œë¦¼ |
| ë°±ì—… | ì—†ìŒ | ë§¤ì¼ ìë™ |

**GitHub Environments ì„¤ì •:**
```yaml
# main â†’ production (ìŠ¹ì¸ í•„ìš”)
deploy-prod:
  environment: production  # ğŸ‘ˆ ì´ê²Œ ìŠ¹ì¸ í”„ë¡œì„¸ìŠ¤ íŠ¸ë¦¬ê±°

# develop â†’ development (ìë™)  
deploy-dev:
  environment: development  # ğŸ‘ˆ ìŠ¹ì¸ ì—†ì´ ìë™ ë°°í¬
```

### ì „ì²´ ì•„í‚¤í…ì²˜ ìš”ì•½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Leo Company ì¸í”„ë¼ ì „ì²´ êµ¬ì¡°                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚ Terraform   â”‚ â”€â”€â”€ ì¸í”„ë¼ ìƒì„± (ì„œë²„, ë„¤íŠ¸ì›Œí¬, ë°©í™”ë²½, LB)            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚         â”‚                                                               â”‚
â”‚         â–¼                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚   Vultr     â”‚ â”€â”€â”€ í•œêµ­ ë¦¬ì „ (ì„œìš¸) ì„œë²„                               â”‚
â”‚  â”‚   Servers   â”‚     + ì˜¤í† ìŠ¤ì¼€ì¼ë§                                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚         â”‚                                                               â”‚
â”‚         â–¼                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚   Podman    â”‚ â”€â”€â”€ ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„                                     â”‚
â”‚  â”‚  + Quadlet  â”‚     + ì„ ì–¸ì  ì„¤ì •                                       â”‚
â”‚  â”‚  + systemd  â”‚     + ìë™ ì¬ì‹œì‘                                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚         â”‚                                                               â”‚
â”‚         â–¼                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚  GitHub     â”‚ â”€â”€â”€ CI/CD íŒŒì´í”„ë¼ì¸                                    â”‚
â”‚  â”‚  Actions    â”‚     + AI ë¹Œë“œ ë¶„ì„                                      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚         â”‚                                                               â”‚
â”‚         â–¼                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚  â”‚ Prometheus  â”‚ â”€â”€â”€ ëª¨ë‹ˆí„°ë§ + ì•Œë¦¼                                     â”‚
â”‚  â”‚ + Grafana   â”‚                                                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

# Part 5. ëª¨ë‹ˆí„°ë§ & ë°±ì—… ì „ëµ (ì‹ ê·œ)

## 5.1 ì™œ ëª¨ë‹ˆí„°ë§ì´ í•„ìˆ˜ì¸ê°€

### ëª¨ë‹ˆí„°ë§ ì—†ì´ ìš´ì˜í•˜ë©´ ìƒê¸°ëŠ” ì¼

"ì„œë²„ ëŠë ¤ìš”" â†’ ì–´ë””ê°€? ì™œ?
"ì—ëŸ¬ ë‚¬ì–´ìš”" â†’ ì–¸ì œë¶€í„°? ì–´ë””ì„œ?
"DB ì—°ê²° ì•ˆ ë¼ìš”" â†’ ì»¤ë„¥ì…˜ í’€ ë¬¸ì œ? ë„¤íŠ¸ì›Œí¬ ë¬¸ì œ? DB ì£½ì—ˆì–´?

ëª¨ë‹ˆí„°ë§ ì—†ì´ ì´ëŸ° ì§ˆë¬¸ì— ë‹µí•˜ë ¤ë©´ ì„œë²„ì— ì§ì ‘ ë“¤ì–´ê°€ì„œ ë¡œê·¸ë¥¼ ë’¤ì§€ê³ , í”„ë¡œì„¸ìŠ¤ë¥¼ í™•ì¸í•˜ê³ , ë„¤íŠ¸ì›Œí¬ë¥¼ í…ŒìŠ¤íŠ¸í•´ì•¼ í•œë‹¤. ì´ê²Œ 30ë¶„~1ì‹œê°„ì´ë‹¤. ê·¸ ì‚¬ì´ì— ì‚¬ìš©ìë“¤ì€ ì„œë¹„ìŠ¤ë¥¼ ëª» ì“´ë‹¤.

ëª¨ë‹ˆí„°ë§ì´ ìˆìœ¼ë©´?
ëŒ€ì‹œë³´ë“œ í•œ ë²ˆ ë³´ë©´ ëœë‹¤. 5ì´ˆ.

### ëª¨ë‹ˆí„°ë§ì˜ ì„¸ ê°€ì§€ ì¶•

**Metrics (ë©”íŠ¸ë¦­ìŠ¤)**
- ìˆ«ìë¡œ í‘œí˜„ë˜ëŠ” ì§€í‘œë“¤
- CPU ì‚¬ìš©ë¥ , ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰, ìš”ì²­ ìˆ˜, ì‘ë‹µ ì‹œê°„
- ë„êµ¬: Prometheus

**Logs (ë¡œê·¸)**
- ì´ë²¤íŠ¸ì˜ ê¸°ë¡
- ì—ëŸ¬ ë©”ì‹œì§€, ì‚¬ìš©ì ì•¡ì…˜, ì‹œìŠ¤í…œ ì´ë²¤íŠ¸
- ë„êµ¬: Loki (ë˜ëŠ” ELK Stack)

**Traces (íŠ¸ë ˆì´ìŠ¤)**
- ìš”ì²­ì˜ íë¦„ ì¶”ì 
- A ì„œë¹„ìŠ¤ â†’ B ì„œë¹„ìŠ¤ â†’ DB ì–´ë””ì„œ ëŠë ¤ì¡ŒëŠ”ì§€
- ë„êµ¬: Jaeger (ì„ íƒ)

ìš°ë¦¬ëŠ” Metrics + Logsì— ì§‘ì¤‘í•œë‹¤. TracesëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ ê·œëª¨ì—ì„œ í•„ìš”í•˜ê³ , ì§€ê¸ˆì€ ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ì´ë‹¤.

---

## 5.2 ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ ì„¤ê³„

### ì„ íƒí•œ ìŠ¤íƒ: PLG Stack

**Prometheus**: ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ë° ì €ì¥
- ì¥ì : ì¿ ë²„ë„¤í‹°ìŠ¤ ìƒíƒœê³„ í‘œì¤€, ê°•ë ¥í•œ ì¿¼ë¦¬ ì–¸ì–´ (PromQL)
- ìš©ë„: CPU, ë©”ëª¨ë¦¬, ìš”ì²­ ìˆ˜, ì‘ë‹µ ì‹œê°„, ì»¤ìŠ¤í…€ ë©”íŠ¸ë¦­

**Loki**: ë¡œê·¸ ìˆ˜ì§‘ ë° ì €ì¥
- ì¥ì : Prometheusì™€ ìœ ì‚¬í•œ ì¿¼ë¦¬ ë°©ì‹, Grafanaì™€ ì™„ë²½ í†µí•©
- ìš©ë„: ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸, ì‹œìŠ¤í…œ ë¡œê·¸, ì—ëŸ¬ ì¶”ì 

**Grafana**: ì‹œê°í™” ë° ëŒ€ì‹œë³´ë“œ
- ì¥ì : ì•„ë¦„ë‹¤ìš´ ëŒ€ì‹œë³´ë“œ, ì•Œë¦¼ ê¸°ëŠ¥, ë‹¤ì–‘í•œ ë°ì´í„°ì†ŒìŠ¤ ì§€ì›
- ìš©ë„: ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§, ì•Œë¦¼ ê´€ë¦¬, ë¦¬í¬íŠ¸

### ì™œ ì´ ìŠ¤íƒì¸ê°€?

**ELK Stack (Elasticsearch + Logstash + Kibana)ì™€ ë¹„êµ**
- ELKëŠ” ê°•ë ¥í•˜ì§€ë§Œ ë¦¬ì†ŒìŠ¤ë¥¼ ë§ì´ ë¨¹ìŒ
- ElasticsearchëŠ” ë©”ëª¨ë¦¬ ìµœì†Œ 4GB í•„ìš”
- ìš°ë¦¬ ê·œëª¨ì—ì„œëŠ” ì˜¤ë²„ìŠ¤í™

**Datadog, New Relicê³¼ ë¹„êµ**
- í›Œë¥­í•œ SaaS ë„êµ¬ë“¤ì´ì§€ë§Œ ë¹„ìš©ì´ ë†’ìŒ
- ì›” $50-200/í˜¸ìŠ¤íŠ¸
- ìš°ë¦¬ì²˜ëŸ¼ ì—¬ëŸ¬ í”„ë¡œì íŠ¸ë¥¼ ìš´ì˜í•˜ë©´ ë¹„ìš© í­ë°œ

PLG Stackì€:
- ì˜¤í”ˆì†ŒìŠ¤, ë¬´ë£Œ
- ë¦¬ì†ŒìŠ¤ íš¨ìœ¨ì  (LokiëŠ” ì¸ë±ì‹±ì„ ìµœì†Œí™”)
- ìš°ë¦¬ ê·œëª¨ì— ì í•©

### ìˆ˜ì§‘í•  ë©”íŠ¸ë¦­ë“¤

**ì‹œìŠ¤í…œ ë©”íŠ¸ë¦­**
- CPU ì‚¬ìš©ë¥  (%)
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ (GB)
- ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ (%)
- ë„¤íŠ¸ì›Œí¬ I/O

**ì• í”Œë¦¬ì¼€ì´ì…˜ ë©”íŠ¸ë¦­**
- ìš”ì²­ ìˆ˜ (requests/sec)
- ì‘ë‹µ ì‹œê°„ (p50, p95, p99)
- ì—ëŸ¬ìœ¨ (%)
- í™œì„± ì‚¬ìš©ì ìˆ˜

**ë°ì´í„°ë² ì´ìŠ¤ ë©”íŠ¸ë¦­**
- ì»¤ë„¥ì…˜ í’€ ì‚¬ìš©ëŸ‰
- ì¿¼ë¦¬ ì‹¤í–‰ ì‹œê°„
- ìŠ¬ë¡œìš° ì¿¼ë¦¬ ìˆ˜
- ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰

**ë¹„ì¦ˆë‹ˆìŠ¤ ë©”íŠ¸ë¦­ (ì„ íƒ)**
- íšŒì›ê°€ì… ìˆ˜
- ì£¼ë¬¸ ìˆ˜
- ê²°ì œ ê¸ˆì•¡

---

## 5.3 ì•Œë¦¼ ì „ëµ

### ì•Œë¦¼ì˜ ì›ì¹™

**ì›ì¹™ 1: ì‹¤í–‰ ê°€ëŠ¥í•œ ì•Œë¦¼ë§Œ**
ì•Œë¦¼ì´ ì™”ì„ ë•Œ "ê·¸ë˜ì„œ ë­˜ í•´ì•¼ í•˜ëŠ”ë°?"ë¼ë©´ ê·¸ê±´ ë‚˜ìœ ì•Œë¦¼ì´ë‹¤. ëª¨ë“  ì•Œë¦¼ì—ëŠ” ëª…í™•í•œ ì•¡ì…˜ì´ ìˆì–´ì•¼ í•œë‹¤.

**ì›ì¹™ 2: ê²½ê³ (Warning)ì™€ ìœ„í—˜(Critical) êµ¬ë¶„**
- Warning: ì¸ì§€í•˜ê³  ìˆì–´ì•¼ í•˜ì§€ë§Œ ì¦‰ì‹œ ëŒ€ì‘ ë¶ˆí•„ìš”
- Critical: ì¦‰ì‹œ ëŒ€ì‘ í•„ìš”, ì„œë¹„ìŠ¤ ì˜í–¥ ìˆìŒ

**ì›ì¹™ 3: ì•Œë¦¼ í”¼ë¡œ(Alert Fatigue) ë°©ì§€**
ì•Œë¦¼ì´ ë„ˆë¬´ ë§ìœ¼ë©´ ë¬´ì‹œí•˜ê²Œ ëœë‹¤. "ë˜ ì™”ë„¤" í•˜ê³  ë„˜ê¸°ë‹¤ê°€ ì§„ì§œ ì¤‘ìš”í•œ ê²ƒë„ ë†“ì¹œë‹¤. ì•Œë¦¼ì€ ì •ë§ í•„ìš”í•œ ê²ƒë§Œ.

### ì•Œë¦¼ ì±„ë„ ì„¤ê³„

**Slack #alerts-critical**
- ëŒ€ìƒ: Critical ë ˆë²¨ ì•Œë¦¼
- ë‚´ìš©: ì„œë²„ ë‹¤ìš´, DB ì—°ê²° ì‹¤íŒ¨, ì—ëŸ¬ìœ¨ ê¸‰ì¦
- ë‹´ë‹¹: ì „ íŒ€ì› ë©˜ì…˜

**Slack #alerts-warning**
- ëŒ€ìƒ: Warning ë ˆë²¨ ì•Œë¦¼
- ë‚´ìš©: CPU 80% ì´ˆê³¼, ë””ìŠ¤í¬ 70% ì´ˆê³¼, ì‘ë‹µ ì‹œê°„ ëŠë ¤ì§
- ë‹´ë‹¹: DevOps ë‹´ë‹¹ì

**Email (ì„ íƒ)**
- ëŒ€ìƒ: ì¼ì¼/ì£¼ê°„ ë¦¬í¬íŠ¸
- ë‚´ìš©: ì„œë¹„ìŠ¤ ìƒíƒœ ìš”ì•½, íŠ¸ë Œë“œ ë¶„ì„

### êµ¬ì²´ì ì¸ ì•Œë¦¼ ê·œì¹™

**Critical (ì¦‰ì‹œ ëŒ€ì‘)**
- ì„œë²„ ì‘ë‹µ ì—†ìŒ (5ë¶„ê°„)
- DB ì»¤ë„¥ì…˜ í’€ 100%
- ì—ëŸ¬ìœ¨ 5% ì´ˆê³¼
- ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ 90% ì´ˆê³¼

**Warning (ì¸ì§€ í•„ìš”)**
- CPU ì‚¬ìš©ë¥  80% ì´ˆê³¼ (10ë¶„ê°„)
- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ 85% ì´ˆê³¼
- ì‘ë‹µ ì‹œê°„ p95 > 2ì´ˆ
- ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰ 70% ì´ˆê³¼

---

## 5.4 ë°±ì—… ì „ëµ

### ë°±ì—…ì´ ì—†ìœ¼ë©´ ì–´ë–»ê²Œ ë˜ë‚˜

"DB ë‚ ì•„ê°”ëŠ”ë° ë°±ì—…ì´ ì—†ì–´ìš”."

ì´ í•œ ë§ˆë””ê°€ íšŒì‚¬ë¥¼ ëë‚¼ ìˆ˜ ìˆë‹¤. ì‹¤ì œë¡œ ë°±ì—… ì—†ì´ ìš´ì˜í•˜ë‹¤ê°€ ë°ì´í„°ë¥¼ ìƒê³  íì—…í•œ ìŠ¤íƒ€íŠ¸ì—…ë“¤ì´ ìˆë‹¤.

ë°±ì—…ì€ "ìˆìœ¼ë©´ ì¢‹ì€ ê²ƒ"ì´ ì•„ë‹ˆë¼ "ì—†ìœ¼ë©´ ì•ˆ ë˜ëŠ” ê²ƒ"ì´ë‹¤.

### 3-2-1 ë°±ì—… ì›ì¹™

**3**: ë°ì´í„°ì˜ ì‚¬ë³¸ì„ 3ê°œ ìœ ì§€
**2**: 2ê°œì˜ ë‹¤ë¥¸ ì €ì¥ ë§¤ì²´ì— ì €ì¥
**1**: 1ê°œëŠ” ë¬¼ë¦¬ì ìœ¼ë¡œ ë–¨ì–´ì§„ ê³³ì— (offsite)

ìš°ë¦¬ ì ìš©:
1. ì›ë³¸: DB ì„œë²„ì˜ PostgreSQL
2. ë¡œì»¬ ë°±ì—…: Storage ì„œë²„(MinIO)ì— ì €ì¥
3. ì›ê²© ë°±ì—…: í´ë¼ìš°ë“œ ìŠ¤í† ë¦¬ì§€(S3 ë˜ëŠ” Google Cloud Storage)ì— ì €ì¥

### ë°±ì—… ìŠ¤ì¼€ì¤„

**ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…**
- ë¹ˆë„: ë§¤ì¼ ìƒˆë²½ 3ì‹œ
- ë°©ì‹: pg_dumpë¡œ full backup
- ì••ì¶•: gzip
- íŒŒì¼ëª…: `{project}_{date}_{time}.sql.gz`
- ë³´ì¡´ ê¸°ê°„: 7ì¼ (ë¡œì»¬), 30ì¼ (ì›ê²©)

**ë³¼ë¥¨ ë°±ì—…**
- ë¹ˆë„: ì£¼ 1íšŒ (ì¼ìš”ì¼ ìƒˆë²½)
- ë°©ì‹: ì „ì²´ ë³¼ë¥¨ ìŠ¤ëƒ…ìƒ·
- ë³´ì¡´ ê¸°ê°„: 4ì£¼

**ì„¤ì • íŒŒì¼ ë°±ì—…**
- ë¹ˆë„: ë³€ê²½ ì‹œë§ˆë‹¤
- ë°©ì‹: Git ë²„ì „ ê´€ë¦¬
- ëŒ€ìƒ: Caddyfile, docker-compose, í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿

### ë³µêµ¬ í…ŒìŠ¤íŠ¸

ë°±ì—…ë§Œí¼ ì¤‘ìš”í•œ ê²Œ "ë³µêµ¬ê°€ ë˜ëŠ”ì§€ í™•ì¸"ì´ë‹¤.

ë§¤ë‹¬ 1íšŒ ë³µêµ¬ í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•œë‹¤:
1. ìµœì‹  ë°±ì—… íŒŒì¼ë¡œ í…ŒìŠ¤íŠ¸ DB ë³µì›
2. ì• í”Œë¦¬ì¼€ì´ì…˜ ì—°ê²° í™•ì¸
3. ë°ì´í„° ì •í•©ì„± ê²€ì¦
4. ë³µêµ¬ ì‹œê°„ ì¸¡ì • (RTO)
5. ê²°ê³¼ ë¬¸ì„œí™”

ë³µêµ¬í•´ë³¸ ì  ì—†ëŠ” ë°±ì—…ì€ ë°±ì—…ì´ ì•„ë‹ˆë‹¤.

### ë¡¤ë°± ì „ëµ

ë°°í¬ í›„ ë¬¸ì œê°€ ë°œìƒí•˜ë©´ ë¡¤ë°±í•´ì•¼ í•œë‹¤.

**ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡¤ë°±**
- Blue/Green ë°°í¬ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ ì¦‰ì‹œ ê°€ëŠ¥
- ì´ì „ ë²„ì „ ì»¨í…Œì´ë„ˆë¡œ íŠ¸ë˜í”½ ì „í™˜
- ì†Œìš” ì‹œê°„: 1ë¶„ ì´ë‚´

**DB ìŠ¤í‚¤ë§ˆ ë¡¤ë°±**
- Prisma ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬ ê´€ë¦¬
- `prisma migrate down` ëª…ë ¹ì–´ë¡œ ë¡¤ë°±
- ë‹¨, ë°ì´í„° ì†ì‹¤ ê°€ëŠ¥ì„± ìˆìœ¼ë¯€ë¡œ ì‹ ì¤‘í•˜ê²Œ

**ë°ì´í„° ë¡¤ë°±**
- ìµœì‹  ë°±ì—…ì—ì„œ ë³µì›
- Point-in-time recoveryëŠ” ì•„ì§ ë¯¸êµ¬í˜„ (í–¥í›„ ê³ ë ¤)

---

# Part 6. ì—…ë¬´ í”„ë¡œì„¸ìŠ¤ ì‹œë®¬ë ˆì´ì…˜

## 6.1 Claude Code ì„œë¸Œì—ì´ì „íŠ¸ì˜ Skills & MCP êµ¬ì¡°

í”„ë¡œì íŠ¸ ì‹œë®¬ë ˆì´ì…˜ì— ì•ì„œ, ê° ì—ì´ì „íŠ¸ê°€ ì–´ë–¤ ì§€ì‹(Skills)ì„ ì°¸ì¡°í•˜ê³  ì–´ë–¤ ì™¸ë¶€ ë„êµ¬(MCP)ë¥¼ ì‚¬ìš©í•˜ëŠ”ì§€ ë¨¼ì € ì •ë¦¬í•œë‹¤.

### Skills ì‹œìŠ¤í…œ ê°œìš”

SkillsëŠ” ì—ì´ì „íŠ¸ê°€ ì‘ì—… ì‹œ ì°¸ì¡°í•˜ëŠ” "ì§€ì‹ ë² ì´ìŠ¤"ë‹¤. ë§¤ë²ˆ í”„ë¡¬í”„íŠ¸ì— ëª¨ë“  ì •ë³´ë¥¼ ë„£ëŠ” ëŒ€ì‹ , í•„ìš”í•œ ì§€ì‹ì„ ëª¨ë“ˆí™”í•´ì„œ ê´€ë¦¬í•œë‹¤.

**Skills íŒŒì¼ êµ¬ì¡°:**
```
~/.claude/skills/
â”œâ”€â”€ core-cms/
â”‚   â””â”€â”€ SKILL.md          # í´ë” êµ¬ì¡°, ë„¤ì´ë° ê·œì¹™, ê³µí†µ íŒ¨í„´
â”œâ”€â”€ prisma-guide/
â”‚   â””â”€â”€ SKILL.md          # ìŠ¤í‚¤ë§ˆ ì‘ì„±ë²•, ë§ˆì´ê·¸ë ˆì´ì…˜, ì¿¼ë¦¬ íŒ¨í„´
â”œâ”€â”€ nextauth-patterns/
â”‚   â””â”€â”€ SKILL.md          # ì¸ì¦/ì¸ê°€ êµ¬í˜„ íŒ¨í„´
â”œâ”€â”€ react-patterns/
â”‚   â””â”€â”€ SKILL.md          # ì»´í¬ë„ŒíŠ¸ ì„¤ê³„, í›… ì‚¬ìš©ë²•
â”œâ”€â”€ leo-infra/
â”‚   â””â”€â”€ SKILL.md          # ì„œë²„ ëª©ë¡, í¬íŠ¸ ê·œì¹™, ë°°í¬ ì ˆì°¨
â”œâ”€â”€ playwright-patterns/
â”‚   â””â”€â”€ SKILL.md          # í…ŒìŠ¤íŠ¸ êµ¬ì¡°, ì…€ë ‰í„° ê·œì¹™, ê³µí†µ í—¬í¼
â”œâ”€â”€ security-checklist/
â”‚   â””â”€â”€ SKILL.md          # SQL Injection, XSS, CSRF ì²´í¬ í•­ëª©
â”œâ”€â”€ prd-template/
â”‚   â””â”€â”€ SKILL.md          # PRD ì‘ì„± í¬ë§·, í•„ìˆ˜ í•­ëª©
â”œâ”€â”€ db-patterns/
â”‚   â””â”€â”€ SKILL.md          # DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„ íŒ¨í„´
â”œâ”€â”€ api-conventions/
â”‚   â””â”€â”€ SKILL.md          # REST API ë„¤ì´ë°, ì‘ë‹µ í¬ë§·
â”œâ”€â”€ podman-guide/
â”‚   â””â”€â”€ SKILL.md          # ì»¨í…Œì´ë„ˆ ì‹¤í–‰, ë³¼ë¥¨, ë„¤íŠ¸ì›Œí¬
â””â”€â”€ quadlet-templates/
    â””â”€â”€ SKILL.md          # systemd ì„œë¹„ìŠ¤ ì„¤ì • í…œí”Œë¦¿
```

### ì—ì´ì „íŠ¸ë³„ ì°¸ì¡° Skills

| ì—ì´ì „íŠ¸ | ì°¸ì¡°í•˜ëŠ” Skills | ìš©ë„ |
|---------|----------------|------|
| @pm-spec | `prd-template` | PRD ì‘ì„± í¬ë§·, í•„ìˆ˜ í•­ëª© ì²´í¬ë¦¬ìŠ¤íŠ¸ |
| @architect | `db-patterns`, `api-conventions` | DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„ íŒ¨í„´, REST API ë„¤ì´ë° ê·œì¹™ |
| @backend-dev | `core-cms`, `prisma-guide`, `nextauth-patterns` | CMS êµ¬ì¡°, Prisma ì‚¬ìš©ë²•, ì¸ì¦ íŒ¨í„´ |
| @frontend-dev | `core-cms`, `react-patterns`, `tailwind-guide` | ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°, React í›… íŒ¨í„´, ìŠ¤íƒ€ì¼ë§ |
| @qa-gate | `code-review-checklist`, `security-checklist` | ë¦°íŠ¸ ê·œì¹™, ë³´ì•ˆ ì²´í¬ í•­ëª© |
| @e2e-tester | `playwright-patterns`, `test-scenarios` | í…ŒìŠ¤íŠ¸ ì½”ë“œ íŒ¨í„´, ì‹œë‚˜ë¦¬ì˜¤ í…œí”Œë¦¿ |
| @infra-ops | `leo-infra`, `podman-guide`, `quadlet-templates` | ì„œë²„ IP/í¬íŠ¸ ê·œì¹™, ì»¨í…Œì´ë„ˆ ì„¤ì • |

### ì£¼ìš” SKILL.md íŒŒì¼ ì˜ˆì‹œ

**core-cms SKILL.md:**
```markdown
# Core CMS Skill

## í´ë” êµ¬ì¡° (í•„ìˆ˜ ì¤€ìˆ˜)
project/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ app/              # Next.js App Router (í˜ì´ì§€)
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/           # ê¸°ë³¸ UI (Button, Input, Modal)
â”‚   â”‚   â””â”€â”€ features/     # ê¸°ëŠ¥ë³„ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ lib/              # ìœ í‹¸ë¦¬í‹°, ì„œë¹„ìŠ¤ ë ˆì´ì–´
â”‚   â”œâ”€â”€ hooks/            # Custom React Hooks
â”‚   â””â”€â”€ types/            # TypeScript íƒ€ì… ì •ì˜
â”œâ”€â”€ prisma/
â”‚   â””â”€â”€ schema.prisma
â””â”€â”€ tests/
    â”œâ”€â”€ e2e/              # Playwright
    â””â”€â”€ unit/             # Jest

## ë„¤ì´ë° ê·œì¹™
- ì»´í¬ë„ŒíŠ¸: PascalCase (UserProfile.tsx)
- ìœ í‹¸ë¦¬í‹°: camelCase (formatDate.ts)
- API ë¼ìš°íŠ¸: kebab-case (user-profile/route.ts)
- DB í…Œì´ë¸”: snake_case (user_profiles)

## ê³µí†µ íŒ¨í„´
- ëª¨ë“  APIëŠ” src/app/api/ í•˜ìœ„ì— ìœ„ì¹˜
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ src/lib/services/ì— ë¶„ë¦¬
- íƒ€ì…ì€ src/types/ì— ì¤‘ì•™ ê´€ë¦¬
```

**leo-infra SKILL.md:**
```markdown
# Leo Infrastructure Skill

## ì„œë²„ êµ¬ì„±
- Test Server (Mac Mini M4): 192.168.1.100
- App Server: 192.168.1.10
- DB Server: 192.168.1.11
- Socket Server: 192.168.1.12
- Storage Server (MinIO): 192.168.1.13
- Cache Server (Redis): 192.168.1.14

## í¬íŠ¸ í• ë‹¹ ê·œì¹™
- App í¬íŠ¸: 3000-3999 (í”„ë¡œì íŠ¸ë³„ ìˆœì°¨ í• ë‹¹)
- DB í¬íŠ¸: 5400-5499 (í”„ë¡œì íŠ¸ë³„ ìˆœì°¨ í• ë‹¹)
- Redis: DB index 0-15 ì‚¬ìš©

## ë ˆì§€ìŠ¤íŠ¸ë¦¬ ìœ„ì¹˜
- ~/.leo-cli/registry.json
- ëª¨ë“  í”„ë¡œì íŠ¸ì˜ í¬íŠ¸, ìƒíƒœ, ë‹´ë‹¹ì ì •ë³´

## ë°°í¬ ëª…ë ¹ì–´
- í”„ë¡œì íŠ¸ ë“±ë¡: leo manager register {project-name}
- ìƒíƒœ í™•ì¸: leo manager list
- Dev ë°°í¬: /opt/scripts/deploy.sh {app} {tag}
- Prod ë°°í¬: /opt/scripts/deploy-bluegreen.sh {app} {tag}

## Caddy ì„¤ì •
- ì„¤ì • íŒŒì¼: /etc/caddy/Caddyfile
- ë¦¬ë¡œë“œ: caddy reload --config /etc/caddy/Caddyfile
```

**prisma-guide SKILL.md:**
```markdown
# Prisma Guide Skill

## ìŠ¤í‚¤ë§ˆ ì‘ì„± ê·œì¹™
- ëª¨ë¸ëª…: PascalCase (User, Property)
- í•„ë“œëª…: camelCase (createdAt, userId)
- ê´€ê³„ í•„ë“œ: ëª…í™•í•œ ì´ë¦„ (author, properties)

## í•„ìˆ˜ í•„ë“œ (ëª¨ë“  ëª¨ë¸ì— í¬í•¨)
model Example {
  id        String   @id @default(cuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

## ë§ˆì´ê·¸ë ˆì´ì…˜ ëª…ë ¹ì–´
- ê°œë°œ: npx prisma migrate dev --name {migration-name}
- í”„ë¡œë•ì…˜: npx prisma migrate deploy
- ë¦¬ì…‹: npx prisma migrate reset (ì£¼ì˜: ë°ì´í„° ì‚­ì œë¨)

## ì¿¼ë¦¬ íŒ¨í„´
- findMany: ëª©ë¡ ì¡°íšŒ (í˜ì´ì§€ë„¤ì´ì…˜ í¬í•¨)
- findUnique: ë‹¨ì¼ ì¡°íšŒ (id ë˜ëŠ” unique í•„ë“œ)
- create/update/delete: CUD ì‘ì—…
- íŠ¸ëœì­ì…˜: prisma.$transaction([])
```

### MCP (Model Context Protocol) ì—°ë™

MCPëŠ” Claude Codeê°€ ì™¸ë¶€ ì„œë¹„ìŠ¤ì™€ í†µì‹ í•˜ê¸° ìœ„í•œ í‘œì¤€ í”„ë¡œí† ì½œì´ë‹¤. GitHub, Slack ê°™ì€ ì™¸ë¶€ APIì™€ ì—°ë™í•  ë•Œ ì‚¬ìš©í•œë‹¤.

**ì—ì´ì „íŠ¸ë³„ ì‚¬ìš©í•˜ëŠ” MCP:**

| ì—ì´ì „íŠ¸ | MCP | ìš©ë„ |
|---------|-----|------|
| @pm-spec | - | (MCP ë¶ˆí•„ìš”, ë¬¸ì„œ ì‘ì„±ë§Œ) |
| @architect | - | (MCP ë¶ˆí•„ìš”, ì„¤ê³„ ë¬¸ì„œë§Œ) |
| @backend-dev | `GitHub MCP` | ì½”ë“œ ì»¤ë°‹, ë¸Œëœì¹˜ ìƒì„± |
| @frontend-dev | `GitHub MCP` | ì½”ë“œ ì»¤ë°‹, ë¸Œëœì¹˜ ìƒì„± |
| @qa-gate | `GitHub MCP` | PR ì½”ë©˜íŠ¸ ì‘ì„±, ë¦¬ë·° ìš”ì²­ |
| @e2e-tester | `GitHub MCP` | í…ŒìŠ¤íŠ¸ ê²°ê³¼ë¡œ PR ìƒì„± |
| @infra-ops | `GitHub MCP`, `Slack MCP` | PR ë¨¸ì§€, ë°°í¬ ì•Œë¦¼ |
| @orchestrator | `GitHub MCP`, `Slack MCP`, `Sentry MCP` | ì „ì²´ ì¡°ìœ¨, ì—ëŸ¬ ì¶”ì  |

### MCP vs Leo CLI (ë¡œì»¬ ë„êµ¬) êµ¬ë¶„

| ì‘ì—… | MCP ì‚¬ìš© | Leo CLI ì‚¬ìš© | ì´ìœ  |
|------|----------|-------------|------|
| GitHub PR ìƒì„± | âœ… | - | ì™¸ë¶€ APIë¡œ ì¶©ë¶„ |
| Slack ë©”ì‹œì§€ ì „ì†¡ | âœ… | - | ì™¸ë¶€ APIë¡œ ì¶©ë¶„ |
| Sentry ì—ëŸ¬ ì¡°íšŒ | âœ… | - | ì™¸ë¶€ APIë¡œ ì¶©ë¶„ |
| ì„œë²„ SSH ì ‘ì† | - | âœ… | ë³´ì•ˆìƒ ë¡œì»¬ì—ì„œë§Œ |
| DB ì»¨í…Œì´ë„ˆ ìƒì„± | - | âœ… | ë‚´ë¶€ ì„œë²„ ì§ì ‘ ì œì–´ |
| í¬íŠ¸ í• ë‹¹/ê´€ë¦¬ | - | âœ… | ë¡œì»¬ ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì ‘ê·¼ |
| Caddy ì„¤ì • ë³€ê²½ | - | âœ… | ì„œë²„ íŒŒì¼ ì§ì ‘ ìˆ˜ì • |
| ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ | - | âœ… | SSH í„°ë„ë§ í•„ìš” |

**êµ¬ë¶„ ì›ì¹™:**
- ì™¸ë¶€ ì„œë¹„ìŠ¤ APIê°€ ìˆëŠ” ê²ƒ â†’ MCP ì‚¬ìš©
- ë‚´ë¶€ ì„œë²„ë¥¼ ì§ì ‘ ì œì–´í•´ì•¼ í•˜ëŠ” ê²ƒ â†’ Leo CLI (SSH) ì‚¬ìš©

### Skills + MCP ì‹¤ì œ ì‘ë™ ì˜ˆì‹œ

**ì˜ˆì‹œ 1: @backend-devê°€ API ê°œë°œí•  ë•Œ**

```
@backend-dev í™œì„±í™”ë¨

1. Skills ë¡œë“œ:
   [core-cms ìŠ¤í‚¬ ì½ìŒ]
   â†’ "APIëŠ” src/app/api/ í•˜ìœ„ì— ìœ„ì¹˜í•´ì•¼ í•¨"
   â†’ "ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì€ src/lib/services/ì— ë¶„ë¦¬"
   
   [prisma-guide ìŠ¤í‚¬ ì½ìŒ]
   â†’ "ëª¨ë¸ëª…ì€ PascalCase, í•„ë“œëŠ” camelCase"
   â†’ "ëª¨ë“  ëª¨ë¸ì— id, createdAt, updatedAt í•„ìˆ˜"
   
   [nextauth-patterns ìŠ¤í‚¬ ì½ìŒ]
   â†’ "ì¸ì¦ í•„ìš”í•œ APIëŠ” getServerSession() ì‚¬ìš©"
   â†’ "ê¶Œí•œ ì²´í¬ëŠ” ë¯¸ë“¤ì›¨ì–´ì—ì„œ ì²˜ë¦¬"

2. ì½”ë“œ ìƒì„±:
   - Skillsì—ì„œ ë°°ìš´ íŒ¨í„´ëŒ€ë¡œ ì½”ë“œ ì‘ì„±
   - prisma/schema.prismaì— Property ëª¨ë¸ ì¶”ê°€
   - src/app/api/properties/route.ts ìƒì„±
   - src/lib/services/property.service.ts ìƒì„±

3. MCP ì‚¬ìš© (GitHub):
   - git checkout -b feature/property-api
   - git add .
   - git commit -m "feat: add property CRUD API"
   - git push origin feature/property-api
```

**ì˜ˆì‹œ 2: @infra-opsê°€ ë°°í¬í•  ë•Œ**

```
@infra-ops í™œì„±í™”ë¨

1. Skills ë¡œë“œ:
   [leo-infra ìŠ¤í‚¬ ì½ìŒ]
   â†’ "Dev ì„œë²„ IP: 192.168.1.10"
   â†’ "ë°°í¬ ìŠ¤í¬ë¦½íŠ¸: /opt/scripts/deploy.sh"
   
   [quadlet-templates ìŠ¤í‚¬ ì½ìŒ]
   â†’ "ì»¨í…Œì´ë„ˆ ì„¤ì •: /etc/containers/systemd/"
   â†’ "ì¬ì‹œì‘: systemctl restart {service}"

2. Leo CLI ì‚¬ìš© (ë¡œì»¬ ì‹¤í–‰):
   - SSHë¡œ Dev ì„œë²„ ì ‘ì†
   - /opt/scripts/deploy.sh real-estate-cms abc1234 ì‹¤í–‰
   - í—¬ìŠ¤ì²´í¬ í™•ì¸

3. MCP ì‚¬ìš©:
   [Slack MCP]
   â†’ #deployments ì±„ë„ì— ë©”ì‹œì§€ ì „ì†¡
   â†’ "âœ… Dev ë°°í¬ ì™„ë£Œ: real-estate-cms@abc1234"
```

---

## 6.2 í”„ë¡œì íŠ¸ ì§„í–‰ í”Œë¡œìš° ì‹œë®¬ë ˆì´ì…˜

ì´ì œ ì‹¤ì œ í”„ë¡œì íŠ¸ "ë¶€ë™ì‚° ë§¤ë¬¼ ê´€ë¦¬ ì‹œìŠ¤í…œ"ì„ ì²˜ìŒë¶€í„° ëê¹Œì§€ ì‹œë®¬ë ˆì´ì…˜í•œë‹¤.

### Step 1: í”„ë¡œì íŠ¸ ìš”ì²­ ì ‘ìˆ˜

**ëˆ„ê°€:** Leo (CEO/CTO)
**ì–´ë””ì„œ:** í„°ë¯¸ë„ì—ì„œ Claude Code ì‹¤í–‰
**ë¬´ì—‡ì„:**
```bash
cd ~/projects
claude
> /new-project ë¶€ë™ì‚°-ë§¤ë¬¼-ê´€ë¦¬-ì‹œìŠ¤í…œ
```

**ê·¸ëŸ¬ë©´ ë­ê°€ ì¼ì–´ë‚˜ë‚˜:**
@orchestratorê°€ ëª…ë ¹ì–´ë¥¼ ë°›ê³  @pm-spec ì—ì´ì „íŠ¸ë¥¼ í™œì„±í™”í•¨. @pm-specì€ ìš”êµ¬ì‚¬í•­ì„ ìˆ˜ì§‘í•˜ê¸° ìœ„í•´ Leoì—ê²Œ ì§ˆë¬¸ì„ ì‹œì‘í•¨.

---

### Step 2: ìš”êµ¬ì‚¬í•­ ìˆ˜ì§‘ (PM-Spec ì—ì´ì „íŠ¸)

**í™œì„±í™”ëœ ì—ì´ì „íŠ¸:** @pm-spec
**ì°¸ì¡° Skills:** `prd-template`
**ì‚¬ìš© MCP:** ì—†ìŒ

**@pm-specì´ í•˜ëŠ” ì¼:**

```
[prd-template ìŠ¤í‚¬ ë¡œë“œ]
â†’ PRDì— í•„ìˆ˜ë¡œ ë“¤ì–´ê°€ì•¼ í•  í•­ëª© í™•ì¸
â†’ íƒ€ê²Ÿ ì‚¬ìš©ì, í•µì‹¬ ê¸°ëŠ¥, MVP ë²”ìœ„, ê¸°ìˆ  ì œì•½

[Leoì—ê²Œ ì§ˆë¬¸]
ì§ˆë¬¸ 1: "íƒ€ê²Ÿ ì‚¬ìš©ìê°€ ëˆ„êµ¬ì¸ê°€ìš”?"
â†’ Leo ë‹µë³€: "ë¶€ë™ì‚° ì¤‘ê°œì‚¬, ê³µì¸ì¤‘ê°œì‚¬ ì‚¬ë¬´ì†Œ"

ì§ˆë¬¸ 2: "í•µì‹¬ ê¸°ëŠ¥ì´ ë­”ê°€ìš”?"
â†’ Leo ë‹µë³€: "ë§¤ë¬¼ ë“±ë¡, ë§¤ë¬¼ ê²€ìƒ‰, ê³ ê° ë¬¸ì˜ ê´€ë¦¬, ê³„ì•½ í˜„í™© ëŒ€ì‹œë³´ë“œ"

ì§ˆë¬¸ 3: "MVP ë²”ìœ„ëŠ”?"
â†’ Leo ë‹µë³€: "ë§¤ë¬¼ CRUD + ì–´ë“œë¯¼ ëŒ€ì‹œë³´ë“œê¹Œì§€ë§Œ ë¨¼ì €"

ì§ˆë¬¸ 4: "ê¸°ìˆ  ì œì•½ì‚¬í•­ ìˆë‚˜ìš”?"
â†’ Leo ë‹µë³€: "Core CMS ê¸°ë°˜ìœ¼ë¡œ, ê¸°ì¡´ ì¸ì¦ ì‹œìŠ¤í…œ ê·¸ëŒ€ë¡œ ì‚¬ìš©"

[PRD ë¬¸ì„œ ìƒì„±]
â†’ docs/PRD-real-estate-cms.md íŒŒì¼ ìƒì„±
```

**ì‚°ì¶œë¬¼:** PRD ì´ˆì•ˆ (Markdown ë¬¸ì„œ)

---

### Step 3: PRD ê²€í†  ë° ìŠ¹ì¸

**ëˆ„ê°€:** Leo (ì‚¬ëŒ)
**ë¬´ì—‡ì„:** @pm-specì´ ì‘ì„±í•œ PRD ì´ˆì•ˆì„ ê²€í† 

Leoê°€ í™•ì¸í•˜ëŠ” ê²ƒ:
- ë¹„ì¦ˆë‹ˆìŠ¤ ëª©í‘œê°€ ë§ê²Œ ì •ë¦¬ëëŠ”ì§€
- ê¸°ëŠ¥ ë²”ìœ„ê°€ ì ì ˆí•œì§€
- ë¹ ì§„ ìš”êµ¬ì‚¬í•­ì´ ì—†ëŠ”ì§€

**Leo ì•¡ì…˜:** 
```
> PRD ìŠ¹ì¸
```

ìŠ¹ì¸ë˜ë©´ @orchestratorê°€ ë‹¤ìŒ ë‹¨ê³„ ìë™ ì§„í–‰

---

### Step 4: ì¸í”„ë¼ ìë™ ìƒì„± (Infra-Ops ì—ì´ì „íŠ¸)

**í™œì„±í™”ëœ ì—ì´ì „íŠ¸:** @infra-ops
**ì°¸ì¡° Skills:** `leo-infra`, `podman-guide`
**ì‚¬ìš© MCP:** `GitHub MCP`
**ì‚¬ìš© ë¡œì»¬ ë„êµ¬:** `Leo CLI`

**PRD ìŠ¹ì¸ë˜ëŠ” ìˆœê°„ @infra-opsê°€ ìë™ ì‹¤í–‰:**

```
[leo-infra ìŠ¤í‚¬ ë¡œë“œ]
â†’ í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ í¬íŠ¸ í™•ì¸
â†’ ë‹¤ìŒ ê°€ìš© í¬íŠ¸: App 3005, DB 5405

[Leo CLI ì‹¤í–‰] (ë¡œì»¬)
1. leo manager register real-estate-cms
   â†’ registry.jsonì— í”„ë¡œì íŠ¸ ë“±ë¡
   â†’ í¬íŠ¸ í• ë‹¹: App 3005, DB 5405

2. Podmanìœ¼ë¡œ PostgreSQL ì»¨í…Œì´ë„ˆ ìƒì„±
   â†’ podman run -d --name real-estate-db -p 5405:5432 postgres:15
   
3. .env.local ìë™ ìƒì„±
   â†’ DATABASE_URL=postgresql://leo:***@192.168.1.11:5405/realestate
   â†’ NEXTAUTH_URL=https://dev-realestate.leocompany.com

4. Caddy ì„¤ì • ì—…ë°ì´íŠ¸
   â†’ dev-realestate.leocompany.com â†’ localhost:3005 ì¶”ê°€
   â†’ caddy reload

[GitHub MCP ì‚¬ìš©]
5. GitHub ë¦¬í¬ì§€í† ë¦¬ ìƒì„±
   â†’ leocompany/real-estate-cms
   
6. Core CMS í…œí”Œë¦¿ ë³µì œ
   â†’ ë¡œê·¸ì¸, ì–´ë“œë¯¼, ê¸°ë³¸ CRUD êµ¬ì¡° í¬í•¨
   
7. ì´ˆê¸° ì»¤ë°‹ í‘¸ì‹œ
   â†’ git push origin main
```

**ì†Œìš” ì‹œê°„:** ì•½ 2-3ë¶„ (ì „ë¶€ ìë™)

**ê²°ê³¼:** ê°œë°œìëŠ” git clone ë°›ê³  npm run dev í•˜ë©´ ë°”ë¡œ ê°œë°œ ì‹œì‘ ê°€ëŠ¥

---

### Step 5: ì•„í‚¤í…ì²˜ ì„¤ê³„ (Architect ì—ì´ì „íŠ¸)

**í™œì„±í™”ëœ ì—ì´ì „íŠ¸:** @architect
**ì°¸ì¡° Skills:** `db-patterns`, `api-conventions`, `core-cms`
**ì‚¬ìš© MCP:** ì—†ìŒ

**@architectê°€ í•˜ëŠ” ì¼:**

```
[db-patterns ìŠ¤í‚¬ ë¡œë“œ]
â†’ 1:N, N:M ê´€ê³„ ì„¤ê³„ íŒ¨í„´
â†’ ì¸ë±ìŠ¤ ì „ëµ

[api-conventions ìŠ¤í‚¬ ë¡œë“œ]
â†’ RESTful ë„¤ì´ë° ê·œì¹™
â†’ ì‘ë‹µ í¬ë§· í‘œì¤€

[ì„¤ê³„ ë¬¸ì„œ ìƒì„±]
1. DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„
   - properties (ë§¤ë¬¼ í…Œì´ë¸”)
     - id, title, description, price, address
     - propertyType (ì•„íŒŒíŠ¸/ì˜¤í”¼ìŠ¤í…”/ìƒê°€)
     - status (available/contracted/hidden)
   - property_images (ì´ë¯¸ì§€)
   - inquiries (ë¬¸ì˜)
   - contracts (ê³„ì•½)
   
2. API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„
   - POST   /api/properties      (ë§¤ë¬¼ ë“±ë¡)
   - GET    /api/properties      (ëª©ë¡ ì¡°íšŒ)
   - GET    /api/properties/:id  (ìƒì„¸ ì¡°íšŒ)
   - PUT    /api/properties/:id  (ìˆ˜ì •)
   - DELETE /api/properties/:id  (ì‚­ì œ)
   
3. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ì œì•ˆ
   - PropertyList.tsx
   - PropertyForm.tsx
   - PropertyDetail.tsx
   - PropertyCard.tsx
   - Dashboard.tsx
```

**ì‚°ì¶œë¬¼:** 
- docs/database-schema.md
- docs/api-specification.md
- docs/component-structure.md

**Leo ì•¡ì…˜:** ì„¤ê³„ ê²€í†  â†’ "ìŠ¹ì¸" ë˜ëŠ” "ìˆ˜ì • ìš”ì²­"

---

### Step 6: ë°±ì—”ë“œ ê°œë°œ (Backend-Dev ì—ì´ì „íŠ¸)

**í™œì„±í™”ëœ ì—ì´ì „íŠ¸:** @backend-dev
**ì°¸ì¡° Skills:** `core-cms`, `prisma-guide`, `nextauth-patterns`
**ì‚¬ìš© MCP:** `GitHub MCP`

**@backend-devê°€ í•˜ëŠ” ì¼:**

```
[core-cms ìŠ¤í‚¬ ë¡œë“œ]
â†’ í´ë” êµ¬ì¡° í™•ì¸
â†’ APIëŠ” src/app/api/ í•˜ìœ„ì—

[prisma-guide ìŠ¤í‚¬ ë¡œë“œ]
â†’ ëª¨ë¸ ì‘ì„± ê·œì¹™ í™•ì¸
â†’ ë§ˆì´ê·¸ë ˆì´ì…˜ ëª…ë ¹ì–´ í™•ì¸

[ì½”ë“œ ìƒì„±]
1. Prisma ìŠ¤í‚¤ë§ˆ ì‘ì„±
   â†’ prisma/schema.prismaì— Property ëª¨ë¸ ì¶”ê°€
   
   model Property {
     id          String   @id @default(cuid())
     title       String
     description String?
     price       Int
     address     String
     type        PropertyType
     status      PropertyStatus @default(AVAILABLE)
     images      PropertyImage[]
     createdAt   DateTime @default(now())
     updatedAt   DateTime @updatedAt
   }

2. DB ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
   â†’ npx prisma migrate dev --name add-property-model
   
3. API ë¼ìš°íŠ¸ ìƒì„±
   â†’ src/app/api/properties/route.ts (GET, POST)
   â†’ src/app/api/properties/[id]/route.ts (GET, PUT, DELETE)
   
4. ì„œë¹„ìŠ¤ ë ˆì´ì–´ êµ¬í˜„
   â†’ src/lib/services/property.service.ts
   
5. Zod ìœ íš¨ì„± ê²€ì¦
   â†’ src/lib/validations/property.ts

[GitHub MCP ì‚¬ìš©]
6. ë¸Œëœì¹˜ ìƒì„± ë° ì»¤ë°‹
   â†’ git checkout -b feature/property-api
   â†’ git commit -m "feat: add property CRUD API"
   â†’ git push origin feature/property-api
```

---

### Step 7: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ (Frontend-Dev ì—ì´ì „íŠ¸)

**í™œì„±í™”ëœ ì—ì´ì „íŠ¸:** @frontend-dev
**ì°¸ì¡° Skills:** `core-cms`, `react-patterns`, `tailwind-guide`
**ì‚¬ìš© MCP:** `GitHub MCP`

**@frontend-devê°€ í•˜ëŠ” ì¼:**

```
[core-cms ìŠ¤í‚¬ ë¡œë“œ]
â†’ ì»´í¬ë„ŒíŠ¸ í´ë” êµ¬ì¡° í™•ì¸
â†’ í˜ì´ì§€ëŠ” src/app/, ì»´í¬ë„ŒíŠ¸ëŠ” src/components/

[react-patterns ìŠ¤í‚¬ ë¡œë“œ]
â†’ ë°ì´í„° í˜ì¹­: React Query ì‚¬ìš©
â†’ í¼ ì²˜ë¦¬: React Hook Form + Zod

[ì½”ë“œ ìƒì„±]
1. í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ìƒì„±
   â†’ src/app/properties/page.tsx (ëª©ë¡ í˜ì´ì§€)
   â†’ src/app/properties/new/page.tsx (ë“±ë¡ í˜ì´ì§€)
   â†’ src/app/properties/[id]/page.tsx (ìƒì„¸ í˜ì´ì§€)
   â†’ src/app/properties/[id]/edit/page.tsx (ìˆ˜ì • í˜ì´ì§€)
   
2. ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸ ì‘ì„±
   â†’ src/components/features/property/PropertyCard.tsx
   â†’ src/components/features/property/PropertyForm.tsx
   â†’ src/components/features/property/PropertyList.tsx
   â†’ src/components/features/property/PropertyFilter.tsx
   
3. API ì—°ë™ í›…
   â†’ src/hooks/useProperties.ts (React Query)
   
4. ìŠ¤íƒ€ì¼ë§
   â†’ Tailwind CSS ì ìš©

[GitHub MCP ì‚¬ìš©]
5. ë¸Œëœì¹˜ì— ì»¤ë°‹
   â†’ git checkout feature/property-api
   â†’ git commit -m "feat: add property UI components"
   â†’ git push
```

**ì°¸ê³ :** @backend-devì™€ @frontend-devëŠ” ë³‘ë ¬ë¡œ ì‘ì—… ê°€ëŠ¥ (API ëª…ì„¸ê°€ ì •í•´ì§„ í›„)

---

### Step 8: ì½”ë“œ ë¦¬ë·° (QA-Gate ì—ì´ì „íŠ¸)

**í™œì„±í™”ëœ ì—ì´ì „íŠ¸:** @qa-gate
**ì°¸ì¡° Skills:** `code-review-checklist`, `security-checklist`
**ì‚¬ìš© MCP:** `GitHub MCP`

**ê°œë°œ ì™„ë£Œ í›„ @qa-gateê°€ ìë™ ì‹¤í–‰:**

```
[code-review-checklist ìŠ¤í‚¬ ë¡œë“œ]
â†’ ë¦°íŠ¸ ê·œì¹™, íƒ€ì… ì²´í¬, ë„¤ì´ë° ê·œì¹™

[security-checklist ìŠ¤í‚¬ ë¡œë“œ]
â†’ SQL Injection, XSS, CSRF, ì¸ì¦ ëˆ„ë½ ì²´í¬

[ìë™ ê²€ì‚¬ ì‹¤í–‰]
1. ë¦°íŠ¸ ì²´í¬
   â†’ npm run lint
   â†’ ESLint ê·œì¹™ ìœ„ë°˜ 0ê±´ âœ…
   
2. íƒ€ì… ì²´í¬
   â†’ npm run type-check
   â†’ TypeScript ì—ëŸ¬ 0ê±´ âœ…
   
3. ì½”ë“œ ì»¨ë²¤ì…˜ ê²€ì‚¬
   â†’ ë„¤ì´ë° ê·œì¹™ ì¤€ìˆ˜ âœ…
   â†’ í´ë” êµ¬ì¡° ì •ìƒ âœ…
   
4. ë³´ì•ˆ ì ê²€
   â†’ SQL Injection: Prisma ORM ì‚¬ìš©ìœ¼ë¡œ ì•ˆì „ âœ…
   â†’ XSS: React ê¸°ë³¸ ì´ìŠ¤ì¼€ì´í•‘ ì ìš© âœ…
   â†’ ì¸ì¦ ëˆ„ë½: ëª¨ë“  APIì— ì„¸ì…˜ ì²´í¬ ìˆìŒ âœ…
   
5. ì„±ëŠ¥ ì²´í¬
   â†’ N+1 ì¿¼ë¦¬ ë¬¸ì œ ì—†ìŒ âœ…
   â†’ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ ì—†ìŒ âœ…

[ê²°ê³¼]
â†’ ëª¨ë“  ê²€ì‚¬ í†µê³¼
â†’ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì§„í–‰
```

**ë§Œì•½ ì‹¤íŒ¨í•˜ë©´:**
- ë¬¸ì œ ë¦¬í¬íŠ¸ ìƒì„±
- @backend-dev ë˜ëŠ” @frontend-devì—ê²Œ ìˆ˜ì • ìš”ì²­
- ìˆ˜ì • í›„ ë‹¤ì‹œ @qa-gate ì‹¤í–‰

---

### Step 9: E2E í…ŒìŠ¤íŠ¸ (E2E-Tester ì—ì´ì „íŠ¸)

**í™œì„±í™”ëœ ì—ì´ì „íŠ¸:** @e2e-tester
**ì°¸ì¡° Skills:** `playwright-patterns`, `test-scenarios`
**ì‚¬ìš© MCP:** `GitHub MCP`

**@e2e-testerê°€ í•˜ëŠ” ì¼:**

```
[playwright-patterns ìŠ¤í‚¬ ë¡œë“œ]
â†’ í…ŒìŠ¤íŠ¸ íŒŒì¼ êµ¬ì¡°
â†’ ì…€ë ‰í„° ê·œì¹™ (data-testid ì‚¬ìš©)
â†’ ê³µí†µ í—¬í¼ í•¨ìˆ˜

[test-scenarios ìŠ¤í‚¬ ë¡œë“œ]
â†’ CRUD ê¸°ë³¸ ì‹œë‚˜ë¦¬ì˜¤ í…œí”Œë¦¿
â†’ ê¶Œí•œ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤

[í…ŒìŠ¤íŠ¸ ì½”ë“œ ìƒì„±]
â†’ tests/e2e/property.spec.ts

test.describe('ë§¤ë¬¼ ê´€ë¦¬', () => {
  test('ë§¤ë¬¼ ë“±ë¡ ì„±ê³µ', async ({ page }) => {
    // ë¡œê·¸ì¸
    await loginAsAdmin(page);
    // ë“±ë¡ í˜ì´ì§€ ì´ë™
    await page.goto('/properties/new');
    // í¼ ì…ë ¥
    await page.fill('[data-testid="title"]', 'ê°•ë‚¨ ì˜¤í”¼ìŠ¤í…”');
    await page.fill('[data-testid="price"]', '50000');
    // ì œì¶œ
    await page.click('[data-testid="submit"]');
    // ì„±ê³µ í™•ì¸
    await expect(page).toHaveURL(/\/properties\/\w+/);
  });
  
  test('ê¶Œí•œ ì—†ëŠ” ì‚¬ìš©ì ì ‘ê·¼ ì°¨ë‹¨', async ({ page }) => {
    await page.goto('/properties/new');
    await expect(page).toHaveURL('/login');
  });
});

[í…ŒìŠ¤íŠ¸ ì‹¤í–‰]
â†’ npx playwright test
â†’ 4ê°œ í…ŒìŠ¤íŠ¸ ëª¨ë‘ í†µê³¼ âœ…

[GitHub MCP ì‚¬ìš©]
â†’ í…ŒìŠ¤íŠ¸ í†µê³¼ ì‹œ PR ìë™ ìƒì„±
â†’ feature/property-api â†’ develop
â†’ PR ì„¤ëª…ì— ë³€ê²½ì‚¬í•­ ìš”ì•½ í¬í•¨
```

---

### Step 10: PR ë¦¬ë·° ë° ë¨¸ì§€

**ëˆ„ê°€:** Leo ë˜ëŠ” ì‹œë‹ˆì–´ ê°œë°œì (ì‚¬ëŒ)
**ë¬´ì—‡ì„:** PR ì½”ë“œ ë¦¬ë·°

```
[GitHub PR ë‚´ìš©]
Title: feat: ë§¤ë¬¼ ê´€ë¦¬ CRUD ê¸°ëŠ¥ ì¶”ê°€
Branch: feature/property-api â†’ develop

ë³€ê²½ì‚¬í•­:
- Property ëª¨ë¸ ë° ë§ˆì´ê·¸ë ˆì´ì…˜ ì¶”ê°€
- ë§¤ë¬¼ CRUD API êµ¬í˜„
- ë§¤ë¬¼ ê´€ë¦¬ UI ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
- E2E í…ŒìŠ¤íŠ¸ 4ê±´ ì¶”ê°€

ìë™ ê²€ì‚¬ ê²°ê³¼:
âœ… Lint í†µê³¼
âœ… Type Check í†µê³¼
âœ… Unit Tests í†µê³¼
âœ… E2E Tests í†µê³¼
```

**ë¦¬ë·°ì–´ê°€ í™•ì¸:**
- ì½”ë“œ í’ˆì§ˆ
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì •í™•ì„±
- í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

**ìŠ¹ì¸ í›„:** develop ë¸Œëœì¹˜ì— ë¨¸ì§€

---

### Step 11: Dev ì„œë²„ ìë™ ë°°í¬

**íŠ¸ë¦¬ê±°:** develop ë¸Œëœì¹˜ì— ë¨¸ì§€
**ì‹¤í–‰:** GitHub Actions (ìë™)

```
[GitHub Actions ì›Œí¬í”Œë¡œìš°]
1. ì²´í¬ì•„ì›ƒ
   â†’ actions/checkout@v4

2. ë¹Œë“œ
   â†’ npm ci
   â†’ npm run build
   
3. í…ŒìŠ¤íŠ¸
   â†’ npm run test
   
4. Docker ì´ë¯¸ì§€ ë¹Œë“œ
   â†’ docker build -t ghcr.io/leocompany/real-estate-cms:abc1234 .
   
5. ì´ë¯¸ì§€ í‘¸ì‹œ
   â†’ docker push ghcr.io/leocompany/real-estate-cms:abc1234
   
6. Dev ì„œë²„ ë°°í¬
   â†’ SSH ì ‘ì†: deploy@192.168.1.10
   â†’ /opt/scripts/deploy.sh real-estate-cms abc1234
   
   [deploy.sh ë‚´ë¶€]
   - podman pull ghcr.io/leocompany/real-estate-cms:abc1234
   - Quadlet ì„¤ì • ì—…ë°ì´íŠ¸
   - systemctl restart real-estate-cms
   - í—¬ìŠ¤ì²´í¬ ëŒ€ê¸°

7. Slack ì•Œë¦¼ (MCP)
   â†’ #deployments ì±„ë„
   â†’ "âœ… Dev ë°°í¬ ì™„ë£Œ: real-estate-cms@abc1234"
```

**ê²°ê³¼:** https://dev-realestate.leocompany.com ì—ì„œ í™•ì¸ ê°€ëŠ¥

---

### Step 12: QA í…ŒìŠ¤íŠ¸ (ì‚¬ëŒ)

**ëˆ„ê°€:** PM, ê¸°íšì, ë˜ëŠ” QA ë‹´ë‹¹ì
**ì–´ë””ì„œ:** Dev ì„œë²„ (dev-realestate.leocompany.com)

**í…ŒìŠ¤íŠ¸ í•­ëª©:**
- ë§¤ë¬¼ ë“±ë¡ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€
- ì´ë¯¸ì§€ ì—…ë¡œë“œê°€ ë˜ëŠ”ì§€
- ê²€ìƒ‰/í•„í„°ê°€ ì˜ ì‘ë™í•˜ëŠ”ì§€
- ëª¨ë°”ì¼ì—ì„œë„ ì˜ ë³´ì´ëŠ”ì§€
- ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬ê°€ ë˜ëŠ”ì§€

**ê²°ê³¼:**
- ë²„ê·¸ ë°œê²¬ ì‹œ â†’ GitHub Issue ìƒì„± â†’ Step 6ë¶€í„° ë‹¤ì‹œ
- ë¬¸ì œì—†ìœ¼ë©´ â†’ Production ë°°í¬ ìš”ì²­

---

### Step 13: Production ë°°í¬ (ìŠ¹ì¸ í•„ìš”)

**ëˆ„ê°€:** Leo (ìµœì¢… ìŠ¹ì¸ê¶Œì)
**ë¬´ì—‡ì„:**
```bash
> /deploy prod real-estate-cms
```

**í™œì„±í™”ëœ ì—ì´ì „íŠ¸:** @infra-ops
**ì°¸ì¡° Skills:** `leo-infra`, `quadlet-templates`
**ì‚¬ìš© MCP:** `GitHub MCP`, `Slack MCP`
**ì‚¬ìš© ë¡œì»¬ ë„êµ¬:** `Leo CLI`

**Blue/Green ë°°í¬ ì‹¤í–‰:**

```
[Leo CLIë¡œ ë°°í¬ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰]
/opt/scripts/deploy-bluegreen.sh real-estate-cms abc1234

1. ìƒˆ ì»¨í…Œì´ë„ˆ ì‹œì‘ (Blue)
   â†’ Port 3006ì—ì„œ ìƒˆ ë²„ì „ ì‹¤í–‰
   â†’ ê¸°ì¡´ ë²„ì „ì€ 3005ì—ì„œ ê³„ì† ì‹¤í–‰ ì¤‘
   
2. í—¬ìŠ¤ì²´í¬
   â†’ curl http://localhost:3006/api/health
   â†’ 30ì´ˆê°„ ë°˜ë³µ ì²´í¬
   â†’ ì •ìƒ ì‘ë‹µ í™•ì¸ âœ…
   
3. íŠ¸ë˜í”½ ì „í™˜
   â†’ Caddy ì„¤ì • ë³€ê²½
   â†’ realestate.leocompany.com â†’ localhost:3006
   â†’ caddy reload (ë¬´ì¤‘ë‹¨)
   
4. ì•ˆì •í™” ëŒ€ê¸°
   â†’ 5ë¶„ê°„ ëª¨ë‹ˆí„°ë§
   â†’ ì—ëŸ¬ìœ¨ ì •ìƒ âœ…
   
5. êµ¬ ë²„ì „ ì¢…ë£Œ (Green)
   â†’ Port 3005 ì»¨í…Œì´ë„ˆ ì¢…ë£Œ
   â†’ ë¦¬ì†ŒìŠ¤ í•´ì œ

[Slack MCP]
â†’ #deployments ì±„ë„
â†’ "ğŸš€ Production ë°°í¬ ì™„ë£Œ: real-estate-cms@abc1234"

[ë¡¤ë°± í•„ìš” ì‹œ]
â†’ Caddy ì„¤ì •ë§Œ 3005ë¡œ ë˜ëŒë¦¼
â†’ 30ì´ˆ ë‚´ ë³µêµ¬ ê°€ëŠ¥
```

---

### Step 14: ìš´ì˜ ëª¨ë‹ˆí„°ë§

**ë°°í¬ í›„ ìë™ìœ¼ë¡œ ëª¨ë‹ˆí„°ë§ ì‹œì‘:**

```
[Prometheus]
- ë©”íŠ¸ë¦­ ìˆ˜ì§‘ ì‹œì‘
- real_estate_cms_requests_total
- real_estate_cms_response_time_seconds
- real_estate_cms_error_rate

[Grafana ëŒ€ì‹œë³´ë“œ]
- ì‹¤ì‹œê°„ ìš”ì²­ ìˆ˜ ê·¸ë˜í”„
- ì‘ë‹µ ì‹œê°„ ë¶„í¬ (p50, p95, p99)
- ì—ëŸ¬ìœ¨ ì¶”ì´
- CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰

[ì•Œë¦¼ ê·œì¹™]
- ì—ëŸ¬ìœ¨ > 5% â†’ Slack #alerts-critical
- ì‘ë‹µì‹œê°„ p95 > 2ì´ˆ â†’ Slack #alerts-warning
- ì„œë²„ ë‹¤ìš´ â†’ Slack #alerts-critical + PagerDuty
```

---

## 6.3 ì „ì²´ íƒ€ì„ë¼ì¸ ìš”ì•½

| ë‹¨ê³„ | ë‹´ë‹¹ | ì°¸ì¡° Skills | ì‚¬ìš© MCP/ë„êµ¬ | ì†Œìš” ì‹œê°„ |
|------|------|------------|--------------|----------|
| ìš”êµ¬ì‚¬í•­ ìˆ˜ì§‘ | @pm-spec + Leo | prd-template | - | 30ë¶„~1ì‹œê°„ |
| PRD ìŠ¹ì¸ | Leo (ì‚¬ëŒ) | - | - | 10ë¶„ |
| ì¸í”„ë¼ ìƒì„± | @infra-ops | leo-infra, podman-guide | GitHub MCP, Leo CLI | 3ë¶„ |
| ì•„í‚¤í…ì²˜ ì„¤ê³„ | @architect | db-patterns, api-conventions | - | 20ë¶„ |
| ë°±ì—”ë“œ ê°œë°œ | @backend-dev | core-cms, prisma-guide | GitHub MCP | 2~4ì‹œê°„ |
| í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ | @frontend-dev | core-cms, react-patterns | GitHub MCP | 2~4ì‹œê°„ |
| ì½”ë“œ ë¦¬ë·° | @qa-gate | code-review-checklist, security-checklist | GitHub MCP | 5ë¶„ |
| E2E í…ŒìŠ¤íŠ¸ | @e2e-tester | playwright-patterns | GitHub MCP | 10ë¶„ |
| PR ë¦¬ë·° | Leo/ë¦¬ë·°ì–´ (ì‚¬ëŒ) | - | - | 30ë¶„ |
| Dev ë°°í¬ | GitHub Actions | - | Slack MCP | 5ë¶„ |
| QA í…ŒìŠ¤íŠ¸ | PM/ê¸°íšì (ì‚¬ëŒ) | - | - | 1~2ì‹œê°„ |
| Prod ë°°í¬ | @infra-ops | leo-infra, quadlet-templates | Slack MCP, Leo CLI | 5ë¶„ |

**ì´ ì˜ˆìƒ ì‹œê°„:** MVP ê¸°ì¤€ ë°˜ë‚˜ì ˆ ~ í•˜ë£¨ (ê¸°ì¡´ ë°©ì‹ ëŒ€ë¹„ ì•½ 70% ë‹¨ì¶•)

---

## 6.4 íŠ¹ìˆ˜ ìƒí™© ì‹œë®¬ë ˆì´ì…˜

### ìƒí™© 1: ë¹Œë“œ ì‹¤íŒ¨ ì‹œ

```
[GitHub Actionsì—ì„œ ë¹Œë“œ ì‹¤íŒ¨]
â†’ AI ë¹Œë“œ ë¶„ì„ ì›Œí¬í”Œë¡œìš° ìë™ íŠ¸ë¦¬ê±°

[Claudeê°€ ì—ëŸ¬ ë¡œê·¸ ë¶„ì„]
ì—ëŸ¬: "Cannot find module '@/lib/utils'"
ë¶„ì„: "tsconfig.jsonì˜ paths ì„¤ì •ê³¼ ì‹¤ì œ íŒŒì¼ ê²½ë¡œ ë¶ˆì¼ì¹˜"
í•´ê²°ì±…: "src/lib/utils.ts íŒŒì¼ ìƒì„± ë˜ëŠ” import ê²½ë¡œ ìˆ˜ì •"

[ìë™ ì•¡ì…˜]
1. GitHub Issue ìë™ ìƒì„±
   - Title: "ğŸ”´ ë¹Œë“œ ì‹¤íŒ¨ ë¶„ì„: abc1234"
   - Body: AI ë¶„ì„ ê²°ê³¼ + í•´ê²°ì±…
   - Labels: bug, build-failure, ai-analyzed

2. Slack ì•Œë¦¼
   â†’ #alerts-ci ì±„ë„
   â†’ "ë¹Œë“œ ì‹¤íŒ¨: real-estate-cms - ì›ì¸ ë¶„ì„ ì™„ë£Œ"
```

### ìƒí™© 2: Production ì¥ì•  ë°œìƒ ì‹œ

```
[Prometheus ì•Œë¦¼ ë°œìƒ]
â†’ ì—ëŸ¬ìœ¨ 10% ì´ˆê³¼

[ìë™ ëŒ€ì‘]
1. Slack #alerts-critical ì•Œë¦¼
   â†’ "ğŸ”´ ì—ëŸ¬ìœ¨ ê¸‰ì¦: real-estate-cms (10.2%)"
   â†’ @channel ë©˜ì…˜

2. Grafana ë§í¬ í¬í•¨
   â†’ ë°”ë¡œ ëŒ€ì‹œë³´ë“œ í™•ì¸ ê°€ëŠ¥

[ìˆ˜ë™ ëŒ€ì‘ (Leo ë˜ëŠ” ë‹´ë‹¹ì)]
1. ëŒ€ì‹œë³´ë“œì—ì„œ ì›ì¸ íŒŒì•…
   - íŠ¹ì • APIì—ì„œë§Œ ì—ëŸ¬? â†’ ì½”ë“œ ë¬¸ì œ
   - ì „ì²´ì ìœ¼ë¡œ ì—ëŸ¬? â†’ ì¸í”„ë¼ ë¬¸ì œ
   
2. ë¡¤ë°± ê²°ì • ì‹œ
   â†’ leo rollback real-estate-cms
   â†’ Caddyê°€ ì´ì „ ë²„ì „ìœ¼ë¡œ ì „í™˜
   â†’ 30ì´ˆ ë‚´ ë³µêµ¬

3. í¬ìŠ¤íŠ¸ëª¨í…œ ì‘ì„±
   - ì›ì¸, ì˜í–¥, ëŒ€ì‘, ì¬ë°œ ë°©ì§€ì±…
```

### ìƒí™© 3: ì‹ ê·œ ê°œë°œì ì˜¨ë³´ë”©

```
[Day 1 ì˜¤ì „]
1. install-leo-stack.sh ì‹¤í–‰
   â†’ Leo CLI ì„¤ì¹˜
   â†’ Claude Code ì„¤ì • ë™ê¸°í™”
   â†’ SSH í‚¤ ë“±ë¡

2. ì²« í”„ë¡œì íŠ¸ í´ë¡ 
   â†’ git clone leocompany/real-estate-cms
   â†’ npm install
   â†’ npm run dev
   â†’ ë°”ë¡œ ë¡œì»¬ì—ì„œ ì‹¤í–‰ í™•ì¸

[Day 1 ì˜¤í›„]
3. Claude Codeë¡œ ì½”ë“œë² ì´ìŠ¤ íŒŒì•…
   â†’ "ì´ í”„ë¡œì íŠ¸ êµ¬ì¡° ì„¤ëª…í•´ì¤˜"
   â†’ @orchestratorê°€ CLAUDE.md ê¸°ë°˜ìœ¼ë¡œ ì„¤ëª…

4. ì²« ë²ˆì§¸ ì‘ì—… í• ë‹¹
   â†’ "ë§¤ë¬¼ ìƒì„¸ í˜ì´ì§€ì— ì§€ë„ ì¶”ê°€í•´ì¤˜"
   â†’ @orchestratorê°€ ì‘ì—… ë¶„ì„
   â†’ @frontend-devê°€ ê°€ì´ë“œ

[Day 1 ì €ë…]
5. ì²« PR ìƒì„±
   â†’ ìë™ ë¦¬ë·° í†µê³¼
   â†’ ì‹œë‹ˆì–´ ë¦¬ë·° í›„ ë¨¸ì§€

**ê²°ê³¼:** ì²«ë‚ ë¶€í„° ì‹¤ì œ ê¸°ì—¬ ê°€ëŠ¥
```

---

# Part 7. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­
5. core-cms í…œí”Œë¦¿ ë³µì œ
6. .env.local ìë™ ìƒì„±
7. Caddy ì„¤ì • ì—…ë°ì´íŠ¸
8. ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ ìƒì„±

ê²°ê³¼: ê°œë°œìëŠ” ë°”ë¡œ `npm run dev`ë¡œ ì‹œì‘ ê°€ëŠ¥

### Step 2: ì„¤ê³„ ë‹¨ê³„

@architect ì—ì´ì „íŠ¸ê°€:
1. PRD ê¸°ë°˜ DB ìŠ¤í‚¤ë§ˆ ì„¤ê³„
2. API ì—”ë“œí¬ì¸íŠ¸ ì„¤ê³„
3. ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ì œì•ˆ

ì‚°ì¶œë¬¼:
- `docs/database-schema.md`
- `docs/api-specification.md`
- `docs/component-structure.md`

Leoê°€ ì„¤ê³„ ê²€í†  í›„ ìŠ¹ì¸

### Step 3: ê¸°ëŠ¥ ê°œë°œ

ê°œë°œìê°€:
```
/feature-dev ë§¤ë¬¼ ë“±ë¡ ê¸°ëŠ¥ ê°œë°œí•´ì¤˜
```

@orchestratorê°€ ì‘ì—… ë¶„ì„ í›„:
1. @backend-devì—ê²Œ API ê°œë°œ ì§€ì‹œ
2. @frontend-devì—ê²Œ UI ê°œë°œ ì§€ì‹œ
3. ë‘ ì—ì´ì „íŠ¸ê°€ ë³‘ë ¬ë¡œ ì‘ì—…
4. ê²°ê³¼ í†µí•©

ì‹¤ì œ ì‹¤í–‰ íë¦„:
- @backend-dev: Prisma ìŠ¤í‚¤ë§ˆ ìˆ˜ì • â†’ DB ë§ˆì´ê·¸ë ˆì´ì…˜ â†’ API ë¼ìš°íŠ¸ ì‘ì„±
- @frontend-dev: ì»´í¬ë„ŒíŠ¸ ì‘ì„± â†’ API ì—°ë™ â†’ ìŠ¤íƒ€ì¼ë§
- @qa-gate: ì½”ë“œ ë¦¬ë·° â†’ ë¦°íŠ¸ ì²´í¬

### Step 4: í…ŒìŠ¤íŠ¸

ê°œë°œ ì™„ë£Œ í›„:
```
í…ŒìŠ¤íŠ¸ ì‹¤í–‰í•´ì¤˜
```

@e2e-testerê°€:
1. ê¸°ì¡´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‹¤í–‰
2. ìƒˆ ê¸°ëŠ¥ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±
3. Playwrightë¡œ E2E í…ŒìŠ¤íŠ¸ ì‹¤í–‰
4. ê²°ê³¼ ë¦¬í¬íŠ¸ ìƒì„±

í…ŒìŠ¤íŠ¸ í†µê³¼ ì‹œ:
- GitHub PR ìë™ ìƒì„± (MCP ì—°ë™)
- ë¦¬ë·°ì–´ ìë™ ì§€ì •

### Step 5: ë°°í¬

Leoì˜ ìµœì¢… ìŠ¹ì¸ í›„:
```
/deploy prod real-estate-cms
```

@infra-opsê°€:
1. GitHub Actions íŠ¸ë¦¬ê±°
2. ë¹Œë“œ ë° í…ŒìŠ¤íŠ¸
3. Blue/Green ë°°í¬ ì‹¤í–‰:
   - ìƒˆ ì»¨í…Œì´ë„ˆ ë„ìš°ê¸° (ì˜ˆ: í¬íŠ¸ 3006)
   - Health Check ëŒ€ê¸°
   - Caddy í”„ë¡ì‹œ ì „í™˜ (3005 â†’ 3006)
   - êµ¬ ì»¨í…Œì´ë„ˆ ì¢…ë£Œ

ë°°í¬ ì™„ë£Œ í›„:
- Slack ì•Œë¦¼: "ğŸš€ ë°°í¬ ì™„ë£Œ: ë¶€ë™ì‚° ê´€ë¦¬ ì‹œìŠ¤í…œ"
- ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œì—ì„œ ìƒíƒœ í™•ì¸

---

## 6.2 ì¼ìƒì ì¸ ê°œë°œ ì‚¬ì´í´

### ì•„ì¹¨: ì»¨í…ìŠ¤íŠ¸ ë¡œë“œ

ê°œë°œìê°€ ì¶œê·¼í•´ì„œ í„°ë¯¸ë„ì„ ì—´ê³ :
```bash
cd ~/projects/real-estate-cms
claude
```

Claude Codeê°€ CLAUDE.mdë¥¼ ì½ê³  í”„ë¡œì íŠ¸ ë§¥ë½ì„ íŒŒì•….

"ì–´ì œ ë§¤ë¬¼ ë“±ë¡ ê¸°ëŠ¥ ì‘ì—… ì¤‘ì´ì—ˆëŠ”ë°, ì´ë¯¸ì§€ ì—…ë¡œë“œ ë¶€ë¶„ ë§ˆì € í•´ì•¼ í•´"

@orchestrator: "ì´ë¯¸ì§€ ì—…ë¡œë“œ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ê² ìŠµë‹ˆë‹¤. S3 ì—°ë™ì€ MinIOë¥¼ ì‚¬ìš©í•˜ê³ , ì´ë¯¸ì§€ ë¦¬ì‚¬ì´ì§•ì€ Sharp ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì²˜ë¦¬í• ê¹Œìš”?"

### ì˜¤ì „: ê¸°ëŠ¥ ê°œë°œ

ê°œë°œìì™€ Claudeê°€ í•‘-í ë°©ì‹ìœ¼ë¡œ ì‘ì—…:
1. ê°œë°œì: ìš”êµ¬ì‚¬í•­ ì„¤ëª… / í”¼ë“œë°±
2. Claude: ì½”ë“œ ìƒì„± / ìˆ˜ì •
3. ê°œë°œì: í…ŒìŠ¤íŠ¸ / ë¦¬ë·°
4. Claude: ê°œì„  / ë¦¬íŒ©í† ë§

ì´ ê³¼ì •ì—ì„œ ClaudeëŠ”:
- íŒŒì¼ ì§ì ‘ ìƒì„±/ìˆ˜ì •
- í„°ë¯¸ë„ ëª…ë ¹ì–´ ì‹¤í–‰
- Git ì»¤ë°‹ ìƒì„±

ê°œë°œìëŠ”:
- ë°©í–¥ì„± ì œì‹œ
- í’ˆì§ˆ ê²€ì¦
- ìµœì¢… ê²°ì •

### ì˜¤í›„: í†µí•© ë° í…ŒìŠ¤íŠ¸

ê¸°ëŠ¥ ì™„ì„± í›„:
```
PR ë§Œë“¤ì–´ì¤˜
```

Claudeê°€:
1. ë³€ê²½ì‚¬í•­ ìš”ì•½
2. Git ë¸Œëœì¹˜ ìƒì„±
3. ì»¤ë°‹ í‘¸ì‹œ
4. PR ìƒì„± (MCPë¡œ GitHub API í˜¸ì¶œ)

ìë™í™”ëœ CIê°€:
- ë¦°íŠ¸ ì²´í¬
- ìœ ë‹› í…ŒìŠ¤íŠ¸
- E2E í…ŒìŠ¤íŠ¸

### ì €ë…: ë¦¬ë·° ë° ë¨¸ì§€

ë‹¤ë¥¸ íŒ€ì›(ë˜ëŠ” Leo)ì´ PR ë¦¬ë·°:
- ì½”ë“œ í’ˆì§ˆ í™•ì¸
- ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê²€ì¦
- ì„±ëŠ¥ ê³ ë ¤ì‚¬í•­

ìŠ¹ì¸ í›„ ë¨¸ì§€ â†’ ìë™ ë°°í¬ (develop ë¸Œëœì¹˜ëŠ” dev ì„œë²„ë¡œ)

---

## 6.3 ë¹„ìƒ ìƒí™© ëŒ€ì‘

### ì‹œë‚˜ë¦¬ì˜¤: í”„ë¡œë•ì…˜ ì—ëŸ¬ ë°œìƒ

**1ë¶„: ì•Œë¦¼ ìˆ˜ì‹ **
Slack #alerts-critical: "ğŸ”´ ì—ëŸ¬ìœ¨ ê¸‰ì¦: real-estate-cms"

**2ë¶„: ìƒí™© íŒŒì•…**
Grafana ëŒ€ì‹œë³´ë“œ í™•ì¸:
- ì—ëŸ¬ìœ¨ ê·¸ë˜í”„ ê¸‰ìƒìŠ¹
- ì–´ë–¤ ì—”ë“œí¬ì¸íŠ¸ì—ì„œ ì—ëŸ¬ ë°œìƒ ì¤‘ì¸ì§€
- ìµœê·¼ ë°°í¬ ì´ë ¥

**5ë¶„: ì›ì¸ ë¶„ì„**
Lokiì—ì„œ ë¡œê·¸ í™•ì¸:
- ì—ëŸ¬ ë©”ì‹œì§€ ê²€ìƒ‰
- ìŠ¤íƒ íŠ¸ë ˆì´ìŠ¤ ë¶„ì„
- ìµœê·¼ ë³€ê²½ì‚¬í•­ê³¼ì˜ ì—°ê´€ì„±

**10ë¶„: ê²°ì •**
- ë¡¤ë°± í•„ìš” ì‹œ: `leo rollback real-estate-cms`
- í•«í”½ìŠ¤ ê°€ëŠ¥ ì‹œ: ìˆ˜ì • í›„ ê¸´ê¸‰ ë°°í¬

**15ë¶„: ì¡°ì¹˜ ì™„ë£Œ**
- ì„œë¹„ìŠ¤ ì •ìƒí™” í™•ì¸
- í¬ìŠ¤íŠ¸ëª¨í…œ ë¬¸ì„œ ì‘ì„±

---

# Part 7. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

## 7.1 ì‹œí¬ë¦¿ ê´€ë¦¬

### í˜„ì¬ì˜ ë¬¸ì œ

.env íŒŒì¼ì— DB íŒ¨ìŠ¤ì›Œë“œ, API í‚¤ ê°™ì€ ë¯¼ê° ì •ë³´ê°€ ë“¤ì–´ê°„ë‹¤. ì´ íŒŒì¼ì„ ì–´ë–»ê²Œ ê´€ë¦¬í•  ê²ƒì¸ê°€?

**ë‚˜ìœ ë°©ë²•ë“¤:**
- .env íŒŒì¼ì„ Gitì— ì»¤ë°‹ (ì ˆëŒ€ ê¸ˆì§€)
- ìŠ¬ë™ìœ¼ë¡œ íŒ¨ìŠ¤ì›Œë“œ ê³µìœ  (ìœ„í—˜)
- êµ¬ê¸€ ì‹œíŠ¸ì— ì •ë¦¬ (ë…¸ì¶œ ìœ„í—˜)

### ì„ íƒí•œ ë°©ë²•: git-crypt + í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿

**git-crypt**
- Git ë¦¬í¬ì§€í† ë¦¬ì˜ íŠ¹ì • íŒŒì¼ì„ ìë™ ì•”í˜¸í™”
- `.gitattributes`ì— ì•”í˜¸í™”í•  íŒŒì¼ íŒ¨í„´ ì§€ì •
- ê¶Œí•œ ìˆëŠ” ì‚¬ëŒë§Œ ë³µí˜¸í™” ê°€ëŠ¥

**í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿**
- `.env.template`: í‚¤ ì´ë¦„ë§Œ ìˆê³  ê°’ì€ ë¹„ì–´ìˆìŒ
- `.env.local`: ì‹¤ì œ ê°’ì´ ë“¤ì–´ìˆìŒ (git-cryptë¡œ ì•”í˜¸í™”)

**í”„ë¡œì„¸ìŠ¤:**
1. ìƒˆ ê°œë°œì í•©ë¥˜ â†’ git-crypt GPG í‚¤ ë“±ë¡
2. `git-crypt unlock` â†’ .env.local ë³µí˜¸í™”
3. ê°œë°œ ì§„í–‰

### í–¥í›„ ê°œì„ : Vault ë„ì…

HashiCorp Vaultë¥¼ ë„ì…í•˜ë©´:
- ì‹œí¬ë¦¿ì˜ ë²„ì „ ê´€ë¦¬
- ì ‘ê·¼ ë¡œê·¸ ê°ì‚¬
- ìë™ ì‹œí¬ë¦¿ ë¡œí…Œì´ì…˜
- ë™ì  ë°ì´í„°ë² ì´ìŠ¤ í¬ë¦¬ë´ì…œ

í˜„ì¬ ê·œëª¨ì—ì„œëŠ” ì˜¤ë²„ì—”ì§€ë‹ˆì–´ë§ì´ì§€ë§Œ, íŒ€ì´ ì»¤ì§€ë©´ ê³ ë ¤.

---

## 7.2 ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ

### ì™¸ë¶€ ë…¸ì¶œ ìµœì†Œí™”

**Caddy (ë¦¬ë²„ìŠ¤ í”„ë¡ì‹œ)ë§Œ ì™¸ë¶€ ë…¸ì¶œ**
- 443 í¬íŠ¸ (HTTPS)ë§Œ ì—´ë¦¼
- ìë™ SSL ì¸ì¦ì„œ (Let's Encrypt)

**ë‚˜ë¨¸ì§€ ì„œë²„ëŠ” ë‚´ë¶€ë§**
- DB ì„œë²„: ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€
- Redis ì„œë²„: ì™¸ë¶€ì—ì„œ ì§ì ‘ ì ‘ê·¼ ë¶ˆê°€
- ê°œë°œìê°€ ì ‘ê·¼í•  ë•ŒëŠ” SSH í„°ë„ë§

### SSH ë³´ì•ˆ ê°•í™”

**íŒ¨ìŠ¤ì›Œë“œ ì¸ì¦ ë¹„í™œì„±í™”**
- SSH í‚¤ ì¸ì¦ë§Œ í—ˆìš©
- ë¸Œë£¨íŠ¸í¬ìŠ¤ ê³µê²© ì°¨ë‹¨

**í¬íŠ¸ ë³€ê²½**
- ê¸°ë³¸ 22ë²ˆ ëŒ€ì‹  ë‹¤ë¥¸ í¬íŠ¸ ì‚¬ìš©
- ìë™í™”ëœ ìŠ¤ìº” íšŒí”¼

**fail2ban**
- ë¡œê·¸ì¸ ì‹¤íŒ¨ ì‹œ IP ì°¨ë‹¨
- ë°˜ë³µ ì‹œë„ ë°©ì§€

### ë°©í™”ë²½ ê·œì¹™

**APP Server (192.168.1.10)**
- 80, 443: ì „ì²´ í—ˆìš© (ì›¹)
- SSH í¬íŠ¸: ì‚¬ë¬´ì‹¤ IPë§Œ í—ˆìš©

**DB Server (192.168.1.11)**
- 5432: ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ë§Œ í—ˆìš©
- SSH í¬íŠ¸: ì‚¬ë¬´ì‹¤ IPë§Œ í—ˆìš©

**Redis Server (192.168.1.14)**
- 6379: ë‚´ë¶€ ë„¤íŠ¸ì›Œí¬ë§Œ í—ˆìš©

---

## 7.3 ì• í”Œë¦¬ì¼€ì´ì…˜ ë³´ì•ˆ

### ì¸ì¦/ì¸ê°€

**NextAuth.js ì‚¬ìš©**
- ì„¸ì…˜ ê¸°ë°˜ ì¸ì¦
- JWT ì˜µì…˜ ê°€ëŠ¥
- ì†Œì…œ ë¡œê·¸ì¸ ì§€ì›

**ì—­í•  ê¸°ë°˜ ì ‘ê·¼ ì œì–´ (RBAC)**
- Admin: ëª¨ë“  ê¸°ëŠ¥ ì ‘ê·¼
- Editor: ì»¨í…ì¸  ìˆ˜ì • ê°€ëŠ¥
- Viewer: ì½ê¸°ë§Œ ê°€ëŠ¥

### ì¼ë°˜ì ì¸ ì·¨ì•½ì  ë°©ì§€

**SQL Injection**
- Prisma ORM ì‚¬ìš© â†’ ìë™ íŒŒë¼ë¯¸í„°í™”
- Raw ì¿¼ë¦¬ ì‚¬ìš© ì‹œ ì£¼ì˜

**XSS**
- Reactì˜ ê¸°ë³¸ ì´ìŠ¤ì¼€ì´í•‘
- dangerouslySetInnerHTML ì‚¬ìš© ê¸ˆì§€

**CSRF**
- NextAuthì˜ CSRF í† í°
- SameSite ì¿ í‚¤ ì†ì„±

---

# Part 8. ê¸°ëŒ€ íš¨ê³¼ ë° ë¡œë“œë§µ

## 8.1 ì´ ì‹œìŠ¤í…œì´ ê°€ì ¸ì˜¬ ë³€í™”

### ì •ëŸ‰ì  ê¸°ëŒ€ íš¨ê³¼

**í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¤ì • ì‹œê°„**
- Before: 2-3ì¼ (í™˜ê²½ ì„¸íŒ…, DB ì„¤ì •, ë°°í¬ íŒŒì´í”„ë¼ì¸...)
- After: 30ë¶„ (ìë™í™”ëœ í…œí”Œë¦¿ê³¼ ìŠ¤í¬ë¦½íŠ¸)
- ê°œì„ : ì•½ 90% ê°ì†Œ

**ì»¨í…ìŠ¤íŠ¸ ìŠ¤ìœ„ì¹­ ë¹„ìš©**
- Before: í”„ë¡œì íŠ¸ ì „í™˜ë§ˆë‹¤ 30ë¶„ (ì„¤ì • íŒŒì•…, í™˜ê²½ ë³€ìˆ˜ í™•ì¸...)
- After: 5ë¶„ (í‘œì¤€í™”ëœ êµ¬ì¡°, CLAUDE.md)
- ê°œì„ : ì•½ 80% ê°ì†Œ

**ì˜¨ë³´ë”© ì‹œê°„**
- Before: ì‹ ê·œ ê°œë°œì 2ì£¼ (í”„ë¡œì íŠ¸ë³„ í•™ìŠµ)
- After: 3ì¼ (ê³µí†µ Core CMS í•™ìŠµ â†’ ëª¨ë“  í”„ë¡œì íŠ¸ ì´í•´)
- ê°œì„ : ì•½ 75% ê°ì†Œ

**ë°°í¬ ì‹œê°„**
- Before: ìˆ˜ë™ ë°°í¬ 30ë¶„ + ë¶ˆì•ˆí•¨
- After: ìë™ ë°°í¬ 5ë¶„ + Blue/Greenìœ¼ë¡œ ì•ˆì „
- ê°œì„ : ì•½ 80% ê°ì†Œ

### ì •ì„±ì  ê¸°ëŒ€ íš¨ê³¼

**ì¸ì§€ ë¶€í•˜ ê°ì†Œ**
"ì´ í”„ë¡œì íŠ¸ëŠ” ì–´ë–»ê²Œ ë˜ì–´ìˆì§€?"ë¼ëŠ” ê³ ë¯¼ì´ ì‚¬ë¼ì§„ë‹¤. ëª¨ë“  í”„ë¡œì íŠ¸ê°€ ê°™ì€ êµ¬ì¡°ë‹ˆê¹Œ.

**ë¶ˆì•ˆê° í•´ì†Œ**
"ì´ê±° ë°°í¬í•´ë„ ë ê¹Œ?"ë¼ëŠ” ë‘ë ¤ì›€ì´ ì¤„ì–´ë“ ë‹¤. ìë™í™”ëœ í…ŒìŠ¤íŠ¸ì™€ ë¡¤ë°±ì´ ìˆìœ¼ë‹ˆê¹Œ.

**í˜‘ì—… íš¨ìœ¨ì„±**
"ì´ê±° ì–´ë–»ê²Œ í•˜ë©´ ë¼?"ë¼ëŠ” ì§ˆë¬¸ì´ ì¤„ì–´ë“ ë‹¤. Skillsì™€ ë¬¸ì„œê°€ ìˆìœ¼ë‹ˆê¹Œ.

**AI í™œìš© ë¯¼ì£¼í™”**
"Claude ì˜ ì“°ëŠ” ì‚¬ëŒë§Œ ìƒì‚°ì„± ë†’ë‹¤"ê°€ ì•„ë‹ˆë¼, íŒ€ ì „ì²´ê°€ AIì˜ í˜œíƒì„ ë°›ëŠ”ë‹¤.

---

## 8.2 êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: Foundation (1-2ì£¼)

**ëª©í‘œ**: ê¸°ë°˜ ì¸í”„ë¼ êµ¬ì¶•

**ì‘ì—… ë‚´ìš©**:
1. infra-framework ë¦¬í¬ì§€í† ë¦¬ ìƒì„±
2. projects/*.yml ìŠ¤í‚¤ë§ˆ í™•ì •
3. leo-manager í•µì‹¬ ê¸°ëŠ¥ êµ¬í˜„
   - register ëª…ë ¹ì–´
   - list ëª…ë ¹ì–´
4. Core CMS í…œí”Œë¦¿ v1.0 ì™„ì„±
5. CLAUDE.md í…œí”Œë¦¿ ì‘ì„±

**ì‚°ì¶œë¬¼**:
- ë™ì‘í•˜ëŠ” leo-manager CLI
- Core CMS í…œí”Œë¦¿ ë¦¬í¬ì§€í† ë¦¬
- í”„ë¡œì íŠ¸ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ìƒ˜í”Œ

### Phase 2: Automation (2-3ì£¼)

**ëª©í‘œ**: ìë™í™” íŒŒì´í”„ë¼ì¸ êµ¬ì¶•

**ì‘ì—… ë‚´ìš©**:
1. Caddy ìë™ ì„¤ì • ì—…ë°ì´íŠ¸
2. GitHub Actions CI/CD í…œí”Œë¦¿
3. Blue/Green ë°°í¬ ìŠ¤í¬ë¦½íŠ¸
4. í™˜ê²½ë³€ìˆ˜ ìë™ ì£¼ì… ì‹œìŠ¤í…œ

**ì‚°ì¶œë¬¼**:
- ì›í´ë¦­ í”„ë¡œì íŠ¸ ìƒì„±
- ìë™ ë°°í¬ íŒŒì´í”„ë¼ì¸

### Phase 3: Monitoring (1-2ì£¼)

**ëª©í‘œ**: ëª¨ë‹ˆí„°ë§ ìŠ¤íƒ êµ¬ì¶•

**ì‘ì—… ë‚´ìš©**:
1. Prometheus ì„¤ì¹˜ ë° ì„¤ì •
2. Loki ì„¤ì¹˜ ë° ì„¤ì •
3. Grafana ëŒ€ì‹œë³´ë“œ í…œí”Œë¦¿
4. ì•Œë¦¼ ê·œì¹™ ì„¤ì •

**ì‚°ì¶œë¬¼**:
- ì‹¤ì‹œê°„ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
- ìë™ ì•Œë¦¼ ì‹œìŠ¤í…œ

### Phase 4: AI Integration (2-3ì£¼)

**ëª©í‘œ**: Claude Code ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ êµ¬ì¶•

**ì‘ì—… ë‚´ìš©**:
1. ì„œë¸Œì—ì´ì „íŠ¸ ì„¤ì • íŒŒì¼ ì‘ì„±
2. Skills ë¬¸ì„œ ì‘ì„±
3. MCP ì—°ë™ (GitHub, Slack)
4. ì»¤ìŠ¤í…€ ëª…ë ¹ì–´ ì •ì˜

**ì‚°ì¶œë¬¼**:
- ë™ì‘í•˜ëŠ” ì—ì´ì „íŠ¸ ì‹œìŠ¤í…œ
- íŒ€ ê³µìœ  ê°€ëŠ¥í•œ ì„¤ì •

### Phase 5: Documentation & Rollout (1-2ì£¼)

**ëª©í‘œ**: íŒ€ ë°°í¬ ë° êµìœ¡

**ì‘ì—… ë‚´ìš©**:
1. íŒ€ì›ìš© ì˜¨ë³´ë”© ê°€ì´ë“œ
2. ì„¤ì¹˜ ìŠ¤í¬ë¦½íŠ¸ (install-leo-stack.sh)
3. íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ê°€ì´ë“œ
4. íŒ€ êµìœ¡ ì„¸ì…˜

**ì‚°ì¶œë¬¼**:
- ì™„ì„±ëœ ì‹œìŠ¤í…œ ë¬¸ì„œ
- ìš´ì˜ ì¤‘ì¸ ì‹œìŠ¤í…œ

---

## 8.3 ì„±ê³µ ì§€í‘œ (KPIs)

### ì¸¡ì • ê°€ëŠ¥í•œ ì§€í‘œ

**ì±„íƒë¥ **
- ëª©í‘œ: ëª¨ë“  ì‹ ê·œ í”„ë¡œì íŠ¸ê°€ Core CMS ì‚¬ìš©
- ì¸¡ì •: ë¦¬í¬ì§€í† ë¦¬ í…œí”Œë¦¿ ì‚¬ìš© ë¹„ìœ¨

**ë°°í¬ ë¹ˆë„**
- ëª©í‘œ: ì£¼ 10íšŒ ì´ìƒ ë°°í¬
- ì¸¡ì •: GitHub Actions ì‹¤í–‰ íšŸìˆ˜

**ë°°í¬ ì‹¤íŒ¨ìœ¨**
- ëª©í‘œ: 5% ë¯¸ë§Œ
- ì¸¡ì •: ë°°í¬ í›„ ë¡¤ë°± íšŸìˆ˜

**í‰ê·  ë³µêµ¬ ì‹œê°„ (MTTR)**
- ëª©í‘œ: 15ë¶„ ì´ë‚´
- ì¸¡ì •: ì•Œë¦¼ ë°œìƒ â†’ ì •ìƒí™”ê¹Œì§€ ì‹œê°„

**ê°œë°œì ë§Œì¡±ë„**
- ëª©í‘œ: 4ì /5ì  ì´ìƒ
- ì¸¡ì •: ë¶„ê¸°ë³„ ì„œë² ì´

---

# ê²°ë¡ : ì™œ ì§€ê¸ˆ ì´ê±¸ í•´ì•¼ í•˜ëŠ”ê°€

## ì´ ì‹œìŠ¤í…œì˜ ë³¸ì§ˆ

ì´ ë¬¸ì„œì—ì„œ ì„¤ëª…í•œ ì‹œìŠ¤í…œì€ ë‹¨ìˆœí•œ ë„êµ¬ ëª¨ìŒì´ ì•„ë‹ˆë‹¤. ì´ê±´ **"ê°œë°œíŒ€ì´ ì–´ë–»ê²Œ ì¼í•´ì•¼ í•˜ëŠ”ê°€"**ì— ëŒ€í•œ ì² í•™ì´ë‹¤.

í•µì‹¬ ë¯¿ìŒ:
1. **í‘œì¤€í™”ê°€ ììœ ë¥¼ ì¤€ë‹¤**: ê·œì¹™ ì•ˆì—ì„œ ë” ì°½ì˜ì ì¼ ìˆ˜ ìˆë‹¤
2. **ìë™í™”ê°€ ì‚¬ëŒì„ ììœ ë¡­ê²Œ í•œë‹¤**: ë°˜ë³µ ì‘ì—…ì—ì„œ ë²—ì–´ë‚˜ ê°€ì¹˜ ìˆëŠ” ì¼ì— ì§‘ì¤‘
3. **AIëŠ” ë„êµ¬ì´ì§€ ë§ˆë²•ì´ ì•„ë‹ˆë‹¤**: ì œëŒ€ë¡œ ëœ êµ¬ì¡° ì•ˆì—ì„œ AIëŠ” 10ë°°ì˜ ê°€ì¹˜ë¥¼ ë‚¸ë‹¤

## íƒ€ì´ë°

ì™œ ì§€ê¸ˆì¸ê°€?

1. **Claude Codeê°€ ì¶©ë¶„íˆ ì„±ìˆ™í–ˆë‹¤**: 1ë…„ ì „ë§Œ í•´ë„ ì´ëŸ° ì‹œìŠ¤í…œì€ ë¶ˆê°€ëŠ¥í–ˆë‹¤
2. **íŒ€ì´ ì»¤ì§€ê¸° ì „ì´ ì ê¸°ë‹¤**: 10ëª…ì´ ë˜ë©´ ë°”ê¾¸ê¸° ì–´ë µë‹¤. 6ëª…ì¼ ë•Œ ê¸°ë°˜ì„ ì¡ì•„ì•¼ í•œë‹¤
3. **ê¸°ìˆ  ë¶€ì±„ëŠ” ë³µë¦¬ë¡œ ìŒ“ì¸ë‹¤**: ì§€ê¸ˆ 1ì‹œê°„ íˆ¬ìí•´ì„œ ë§‰ì„ ì¼ì„ ë‚˜ì¤‘ì—ëŠ” 1ì£¼ì¼ ê±¸ë ¤ë„ ëª» ë§‰ëŠ”ë‹¤

## ìµœì¢… ë¹„ì „

6ê°œì›” í›„, ì´ëŸ° ì¥ë©´ì„ ìƒìƒí•œë‹¤:

> ì‹ ê·œ ê°œë°œìê°€ ì²« ì¶œê·¼í•œë‹¤.
> 
> ì˜¤ì „: install-leo-stack.sh ì‹¤í–‰, í™˜ê²½ ì„¸íŒ… ì™„ë£Œ
> 
> ì ì‹¬ ì „: Core CMS êµ¬ì¡° íŒŒì•…, ì²« ë²ˆì§¸ í”„ë¡œì íŠ¸ ì—´ì–´ë³´ê¸°
> 
> ì˜¤í›„: claude ì‹¤í–‰, "ì´ í”„ë¡œì íŠ¸ì—ì„œ ë‚´ê°€ í•  ì¼ì´ ë­ì§€?" ì§ˆë¬¸
> 
> @orchestratorê°€ ë°±ë¡œê·¸ë¥¼ ë³´ì—¬ì£¼ê³ , ì²« ë²ˆì§¸ ì‘ì—…ì„ ì•ˆë‚´í•œë‹¤.
> 
> í‡´ê·¼ ì „: ì²« ë²ˆì§¸ PRì´ ë¨¸ì§€ëœë‹¤.

ì´ê²Œ ê°€ëŠ¥í•œ íŒ€. ì´ê²Œ ìš°ë¦¬ê°€ ë§Œë“¤ì–´ê°€ëŠ” Leo Companyì˜ ê°œë°œ ë¬¸í™”ë‹¤.

---

**ë¬¸ì„œ ë**

*ì´ ë¬¸ì„œëŠ” ì§€ì†ì ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤. ìµœì‹  ë²„ì „ì€ Git ë¦¬í¬ì§€í† ë¦¬ì—ì„œ í™•ì¸í•˜ì„¸ìš”.*